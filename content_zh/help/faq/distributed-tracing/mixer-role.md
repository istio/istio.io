---
title: Mixer 在 Istio 的跟踪过程中起到了什么作用？
weight: 90
---

缺省情况下，Envoy 代理会选择一部分需要进行跟踪的请求，由 Mixer 生成 Span。这样一来，在网格中基于 Mixer 策略实施机制就可以为运维人员所观察了。如果 `istio-policy` 在网格范围内被禁用，Mixer 就无法用这种方式参与跟踪了。

`istio-telemetry` 服务中的 Mixer 也可以用于从数据平面流量中生成跟踪数据。Mixer 的 Stackdriver 适配器就是一个例子，展示了支持这种方式的适配方式。

Mixer 生成的跟踪数据，Istio 还需依赖 Envoy 来生成跟踪上下文，并传递给需要传播上下文数据的应用之中。Envoy 不会直接把跟踪信息发送给跟踪后端，Mixer 会从 Envoy 上报数据中，根据运维策略提取请求中的客户端和服务端跟踪信息。这种情况下，运维人员可以精确的控制如何以及何时生成数据，还可以完全的把某些服务从跟踪信息中移除，或要求某些命名空间中的服务提供更多跟踪信息。
