---
title: "Getting Started with using v1 Istio APIs "
description: Announcing the v1 Networking, Security and Telemetry APIs. 
publishdate: 2024-05-13
attribution: Whitney Griffith - Microsoft
keywords: [istio, traffic, security, telemetry, API]
target_release: 1.22
---

Istio has several [Networking](/docs/reference/config/networking/), [Security](/docs/reference/config/security/) and [Telemetry](/docs/reference/config/telemetry/) APIs that are crucial for ensuring the secure, seamless connectivity, and effective monitoring of services within the Service Mesh layer. These APIs are used on thousands of clusters across the world, securing and enhancing critical infrastructure. As a reflection of the stability, adoption, and value of these resources, the Istio community has decided to promote many of our CRDs to `v1` in Istio 1.22.

In Istio 1.22 we are happy to announce that a concerted effort has been made to graduate the below APIs to `v1`:
* [Destination Rule](/docs/reference/config/networking/destination-rule/)
* [Gateway](/docs/reference/config/networking/gateway/)
* [Service Entry](/docs/reference/config/networking/service-entry/)
* [Sidecar](/docs/reference/config/networking/sidecar/)
* [Virtual Service](/docs/reference/config/networking/virtual-service/)
* [Workload Entry](/docs/reference/config/networking/workload-entry/)
* [Workload Group](/docs/reference/config/networking/workload-group/)
* [Telemetry API](/docs/reference/config/telemetry/)*
* [Peer Authentication](/docs/reference/config/security/peer_authentication/)

## Telemetry API

The `v1` Telemetry API is the only API that was promoted that had changes from its previous version. The following features weren’t promoted to `v1`:
* `metrics.reportingInterval`
    * Reporting interval allows configuration of the time between calls out to for metrics reporting. This currently only supports TCP metrics but we may use this for long duration HTTP streams in the future.
    * At this time, Istio lacks usage data to support the need for this feature.
* `accessLogging.filter`
    * If specified, this filter will be used to select specific requests/connections for logging.
    * This feature is based on a relatively new feature in Envoy, and Istio needs to further develop the use case and implementation before graduating it to `v1`.
* `tracing.useRequestIdForTraceSampling`
    * This value is true by default. The format of this Request ID is specific to Envoy, and if the Request ID generated by the proxy that receives user traffic first is not specific to Envoy, Envoy will break the trace because it cannot interpret the Request ID. By setting this value to false, we can prevent [Envoy from sampling based on the Request ID](https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/observability/tracing#trace-context-propagation).
    * There is not a strong use case for making this configurable through the Telemetry API.

When migrating Telemetry Resources to the `v1` Telemetry API, we strongly recommend removing the usage of the non-`v1` fields. Not doing this will not cause any disruptions, as Istio has chosen to maintain the same schema across API Versions to avoid unyielding API conversion issues. This is a known, complex issue with [Kubernetes API Versioning](https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definition-versioning/#overview), and the Gateway API has chosen to address this with [Release Channels](https://gateway-api.sigs.k8s.io/concepts/versioning/).

## Overview of Istio CRDs

| API | Versions |
|---------|------------------------|
| **Telemetry APIs** |
| [Telemetry](/docs/reference/config/telemetry/) |  `v1`, `v1alpha1` |
| **Security APIs** |
| [Authorization Policy](/docs/reference/config/security/authorization-policy/) |  `v1`, `v1beta1` |
| [Peer Authentication](/docs/reference/config/security/peer_authentication/) |  `v1`, `v1beta1` |
| [Request Authentication](/docs/reference/config/security/request_authentication/) |  `v1`, `v1beta1` |
| **Networking APIs** |
| [Destination Rule](/docs/reference/config/networking/destination-rule/) |  `v1`, `v1beta1`, `v1alpha3` |
| [Envoy Filter](/docs/reference/config/networking/envoy-filter/) |  `v1alpha3` |
| Istio [Gateway](/docs/reference/config/networking/gateway/) |  `v1`, `v1beta1`, `v1alpha3` |
| [Proxy Config](/docs/reference/config/networking/proxy-config/) |  `v1beta1` |
| [Service Entry](/docs/reference/config/networking/service-entry/) |  `v1`, `v1beta1`, `v1alpha3` |
| [Sidecar](/docs/reference/config/networking/sidecar/) |  `v1`, `v1beta1`, `v1alpha3` |
| [Virtual Service](/docs/reference/config/networking/virtual-service/) |  `v1`, `v1beta1`, `v1alpha3` |
| [Workload Entry](/docs/reference/config/networking/workload-entry/) |  `v1`, `v1beta1`, `v1alpha3` |
| [Workload Group](/docs/reference/config/networking/workload-group/) |  `v1`, `v1beta1`, `v1alpha3` |
| **Extension APIs** |
| [Wasm Plugin](/docs/reference/config/proxy_extensions/wasm-plugin/) |  `v1alpha1` |

## Using the `v1` Istio APIs

As seen above, there are a few non-`v1` APIs and fields. The Envoy Filter, Proxy Config and Wasm Plugin aren’t `v1`, and within the Telemetry API, there are 3 non-`v1` fields.

Since Istio maintains the same schema across API versions, users can utilize non-`v1` fields in their `v1` Custom Resources.

For risk-averse environments, we have provided a sample `Stable Profile` that can ensure only `v1` APIs and fields are used.

In new environments, selecting the `Stable Profile` upon installing Istio will guarantee that all future Custom Resources created or updated are `v1` and contain only `v1` features.

If the `Stable Profile` is deployed into an existing Istio Cluster that has Custom Resources not complying with the `Stable Profile`, the only allowed action is to delete the resource or remove the usage of the offending fields.

To install Istio with the `Stable Profile`use the following command:

{{< text bash >}}
$ helm install istio-base -n istio-system --set experimental.stableValidationPolicy=true
{{< /text >}}

## Summary

In summary, Istio is committed to delivering stable APIs and features essential for the successful operation of the Istio Service Mesh. We would love to receive your feedback to help guide us in making the right decisions as we continue to refine relevant use cases and stability blockers for our features. Please share your feedback by creating issues, posting in the relevant [Istio Slack](https://github.com/istio/istio/issues) channel, or by joining us in our weekly [Combined Working Group](https://github.com/istio/community/blob/master/WORKING-GROUPS.md#working-group-meetings) meeting.
