{
  "version": 3,
  "sources": ["../../src/ts/headerAnimation.js"],
  "sourcesContent": ["import * as THREE from 'three';\n\n// Vertex shader for the points animation\nconst vertexShader = `\n      #define PI 3.14159265359\n  \n      // Uniform variables for time and point size, as well as parameters for two transformations\n      uniform float u_time;\n      uniform float u_pointsize;\n      uniform float u_transformation_amp_1;\n      uniform float u_transformation_freq_1;\n      uniform float u_transformation_speed_1;\n      uniform float u_transformation_amp_2;\n      uniform float u_transformation_freq_2;\n      uniform float u_transformation_speed_2;\n  \n      void main() {\n        // Initialize position with the vertex's original position\n        vec3 pos = position;\n        \n        // Apply two sinusoidal transformations to the z-coordinate of the position\n        pos.z += sin(pos.x * u_transformation_freq_1 + u_time * u_transformation_speed_1) * u_transformation_amp_1;\n        pos.z += cos(pos.y * u_transformation_freq_2 - u_time * u_transformation_speed_2 * 0.6) * u_transformation_amp_2;\n        \n        // Adjust the point size based on the absolute z-coordinate\n        gl_PointSize = max(u_pointsize + abs(pos.z) * 6.0, 0.0);\n        \n        // Apply model-view and projection transformations to the position\n        vec4 mvm = modelViewMatrix * vec4(pos, 1.0);\n        gl_Position = projectionMatrix * mvm;\n      }\n    `;\n\n// Fragment shader for the points animation\nconst fragmentShader = `\n      // Uniform variable for time\n      uniform float u_time;\n      #ifdef GL_ES\n      precision mediump float;\n      #endif\n  \n      void main() {\n        // Calculate the distance from the center of the point\n        vec2 st = gl_PointCoord - vec2(0.5);\n        float r = length(st);\n  \n        // Discard fragments outside a circular region\n        if (r > 0.5) {\n          discard;\n        }\n  \n        // Calculate alpha (transparency) based on the depth of the fragment\n        float alpha = 1.0 - gl_FragCoord.z * 1.095;\n        alpha = clamp(alpha, 0.0, 1.0);\n\n        // Set the final fragment color with a blue tone and transparency\n        gl_FragColor = vec4(vec3(0.42, 0.635, 0.835), alpha);\n      }\n    `;\n\n\n// Function to create a camera with specified parameters\nfunction createCamera(\n    fov = 45,\n    near = 0.1,\n    far = 100,\n    camPos = { x: 0, y: 0, z: 0 },\n    camLookAt = { x: 0, y: 0, z: 0 },\n    aspect = window.innerWidth / window.innerHeight\n) {\n    const camera = new THREE.PerspectiveCamera(fov, aspect, near, far);\n    camera.position.set(camPos.x, camPos.y, camPos.z);\n    camera.lookAt(camLookAt.x, camLookAt.y, camLookAt.z);\n    camera.updateProjectionMatrix();\n    return camera;\n}\n\n// Function to create a WebGLRenderer with specified properties\nfunction createRenderer(rendererProps = {}) {\n    const container = document.getElementById(\"hero\");\n    const renderer = new THREE.WebGLRenderer({ ...rendererProps, alpha: true });\n    renderer.domElement.id = \"hero-animation\";\n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.setSize(container.offsetWidth, container.offsetHeight);\n    renderer.setClearColor(0xffffff, 0);\n    renderer.domElement.id = \"hero-animation\";\n    return renderer;\n}\n\n// Function to run the animation loop\nfunction runAnimation(\n    app,\n    scene,\n    renderer,\n    camera,\n    enableAnimation = false,\n    uniforms = getDefaultUniforms()\n) {\n    // Append hero-animation canvas to hero\n    const container = document.getElementById(\"hero\");\n    container.appendChild(renderer.domElement);\n\n    // Register resize listener\n    window.addEventListener(\"resize\", () => {\n        let container = document.getElementById(\"hero\");\n        camera.aspect = container.offsetWidth / container.offsetHeight;\n        camera.updateProjectionMatrix();\n        renderer.setSize(container.offsetWidth, container.offsetHeight);\n        // Update uniforms.u_resolution\n        if (uniforms.u_resolution !== undefined) {\n            uniforms.u_resolution.value.x =\n                window.innerWidth * window.devicePixelRatio;\n            uniforms.u_resolution.value.y =\n                window.innerHeight * window.devicePixelRatio;\n        }\n    });\n\n    // If the updateScene function is not defined in the app, assign an empty function\n    if (app.updateScene === undefined) {\n        app.updateScene = (delta, elapsed) => { };\n    }\n    Object.assign(app, { ...app, container });\n\n    const clock = new THREE.Clock();\n    const animate = () => {\n        if (enableAnimation) {\n            requestAnimationFrame(animate);\n        }\n\n        const delta = clock.getDelta();\n        const elapsed = clock.getElapsedTime();\n        uniforms.u_time.value = elapsed;\n\n        // Call the app's updateScene function and render the scene\n        app.updateScene(delta, elapsed);\n        renderer.render(scene, camera);\n    };\n\n    // Initialize the scene, start the animation loop, and reset renderer info\n    app\n        .initScene()\n        .then(animate)\n        .then(() => {\n            renderer.info.reset();\n        })\n        .catch((error) => {\n            console.log(error);\n        });\n}\n\n// Create a new THREE scene, renderer, and camera\nlet scene = new THREE.Scene();\nlet renderer = createRenderer({ antialias: false });\nlet camera = createCamera(60, 1, 100, { x: 0, y: 0, z: 4.5 });\n\n// Define uniform variables for the shaders\nconst uniforms = {\n    u_time: { value: 0.0 },\n    // Resolution of the canvas (width and height)\n    u_resolution: {\n        value: {\n            x: window.innerWidth * window.devicePixelRatio,\n            y: window.innerHeight * window.devicePixelRatio,\n        },\n    },\n    // Point size for rendering\n    u_pointsize: { value: 3.0 },\n\n    // Parameters for the wave1 animation\n    u_transformation_freq_1: { value: 3.0 },\n    u_transformation_amp_1: { value: 0.8 },\n    u_transformation_speed_1: { value: 0.25 },\n\n    // Parameters for the wave2 animation\n    u_transformation_freq_2: { value: 2.0 },\n    u_transformation_amp_2: { value: 0.7 },\n    u_transformation_speed_2: { value: 0.20 },\n};\n\n// Define the app object containing shaders and scene initialization\nlet app = {\n    vertexShader,\n    fragmentShader,\n\n    async initScene() {\n        // Create a plane geometry for the points\n        this.geometry = new THREE.PlaneGeometry(10, 5, 50, 40);\n\n        // Create a shader material using the provided vertex and fragment shaders\n        const material = new THREE.ShaderMaterial({\n            uniforms: {\n                ...uniforms,\n                cameraPosition: { value: camera.position },\n            },\n            vertexShader: this.vertexShader,\n            fragmentShader: this.fragmentShader,\n            transparent: true,\n            depthTest: false,\n        });\n\n        // Create a points mesh and add it to the scene\n        this.mesh = new THREE.Points(this.geometry, material);\n        scene.add(this.mesh);\n\n        // Set initial rotations for the mesh\n        this.mesh.rotation.x = 3.1415 / 2;\n        this.mesh.rotation.y = 3.1415 / 4;\n    },\n\n    // Update function for the animation loop\n    updateScene(interval, elapsed) {\n        // Update the time uniform and camera position uniform in the shader\n        uniforms.u_time.value += interval * 0.001;\n        this.mesh.material.uniforms.cameraPosition.value.copy(camera.position);\n    },\n};\n\n// Run the animation loop with the defined app, scene, renderer, camera, and uniforms\nrunAnimation(app, scene, renderer, camera, true, uniforms);\n"],
  "mappings": "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",
  "names": ["THREE", "vertexShader", "fragmentShader", "createCamera", "fov", "near", "far", "camPos", "camLookAt", "aspect", "camera", "createRenderer", "rendererProps", "container", "renderer", "__spreadProps", "__spreadValues", "runAnimation", "app", "scene", "enableAnimation", "uniforms", "delta", "elapsed", "clock", "animate", "error", "__async", "material", "interval"]
}
