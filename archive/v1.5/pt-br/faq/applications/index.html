<!doctype html><html lang=pt-br itemscope itemtype=https://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=theme-color content="#466BB0"><meta name=title content="Applications FAQ"><meta name=description content="Application Specific Q & A."><meta name=keywords content="microservices,services,mesh"><meta property="og:title" content="Applications FAQ"><meta property="og:type" content="website"><meta property="og:description" content="Application Specific Q & A."><meta property="og:url" content="/v1.5/pt-br/faq/applications/"><meta property="og:image" content="/v1.5/img/istio-whitelogo-bluebackground-framed.svg"><meta property="og:image:alt" content="Istio Logo"><meta property="og:image:width" content="112"><meta property="og:image:height" content="150"><meta property="og:site_name" content="Istio"><meta name=twitter:card content="summary"><meta name=twitter:site content="@IstioMesh"><title>Istioldie 1.5 / Applications FAQ</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-98480406-2"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-98480406-2');</script><link rel=alternate type=application/rss+xml title="Istio Blog" href=/v1.5/blog/feed.xml><link rel=alternate type=application/rss+xml title="Istio News" href=/v1.5/news/feed.xml><link rel=alternate type=application/rss+xml title="Istio Blog and News" href=/v1.5/feed.xml><link rel="shortcut icon" href=/v1.5/favicons/favicon.ico><link rel=apple-touch-icon href=/v1.5/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/v1.5/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/v1.5/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/v1.5/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/v1.5/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/v1.5/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/v1.5/favicons/android-96x96.png sizes=96xW96><link rel=icon type=image/png href=/v1.5/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/v1.5/favicons/android-192x192.png sizes=192x192><link rel=manifest href=/v1.5/manifest.json><meta name=apple-mobile-web-app-title content="Istio"><meta name=application-name content="Istio"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Work+Sans:400|Chivo:400|Work+Sans:500,300,600,300italic,400italic,500italic,600italic|Chivo:500,300,600,300italic,400italic,500italic,600italic"><link rel=stylesheet href=/v1.5/css/all.css><script src=/v1.5/js/themes_init.min.js></script></head><body class="language-unknown archive-site"><script>const branchName="release-1.5";const docTitle="Applications FAQ";const iconFile="\/v1.5/img/icons.svg";const buttonCopy='Copiar para o clipboard';const buttonPrint='Impressão';const buttonDownload='Baixar';</script><script src="https://www.google.com/cse/brand?form=search-form" defer></script><script src=/v1.5/js/all.min.js data-manual defer></script><div class=sticker-container></div><header><nav><a id=brand href=/v1.5/pt-br/><span class=logo><svg viewBox="0 0 300 300"><circle cx="150" cy="150" r="146" stroke-width="2"/><polygon points="65 240 225 240 125 270"/><polygon points="65 230 125 220 125 110"/><polygon points="135 220 225 230 135 30"/></svg></span><span class=name>Istioldie 1.5</span></a><div id=hamburger><svg class="icon"><use xlink:href="/v1.5/img/icons.svg#hamburger"/></svg></div><div id=header-links><a title="Learn how to deploy, use, and operate Istio." href=/v1.5/pt-br/docs/>Docs</a>
<a title="Posts about using Istio." href=/v1.5/pt-br/blog/2020/>Blog<i class=dot data-prefix=/blog></i></a>
<a title="Timely news about the Istio project." href=/v1.5/pt-br/news/>News<i class=dot data-prefix=/news></i></a>
<a class=current title="Frequently Asked Questions about Istio." href=/v1.5/pt-br/faq/>FAQ</a>
<a title="Get a bit more in-depth info about the Istio project." href=/v1.5/pt-br/about/>About</a><div class=menu><button id=gearDropdownButton class=menu-trigger title="Opções e configurações" aria-label="Options and Settings" aria-controls=gearDropdownContent><svg class="icon"><use xlink:href="/v1.5/img/icons.svg#gear"/></svg></button><div id=gearDropdownContent class=menu-content aria-labelledby=gearDropdownButton role=menu><a tabindex=-1 role=menuitem lang=en id=switch-lang-en>English</a>
<a tabindex=-1 role=menuitem lang=zh id=switch-lang-zh>中文</a><div role=separator></div><a tabindex=-1 role=menuitem class=active id=light-theme-item>Tema Light</a>
<a tabindex=-1 role=menuitem id=dark-theme-item>Tema Dark</a><div role=separator></div><a tabindex=-1 role=menuitem id=syntax-coloring-item>Exemplos de cores</a><div role=separator></div><h6>Outras versões deste site</h6><a tabindex=-1 role=menuitem onclick="navigateToUrlOrRoot('https://istio.io/faq\/applications\/');return false;">Lançamento atual</a>
<a tabindex=-1 role=menuitem onclick="navigateToUrlOrRoot('https://preliminary.istio.io/faq\/applications\/');return false;">Próxima versão</a>
<a tabindex=-1 role=menuitem href=https://istio.io/archive>Versões mais antigas</a></div></div><button id=search-show title="Procure este site" aria-label=Procurar><svg class="icon"><use xlink:href="/v1.5/img/icons.svg#magnifier"/></svg></button></div><form id=search-form name=cse role=search><input type=hidden name=cx value=002184991200833970123:iwwf17ikgf4>
<input type=hidden name=ie value=utf-8>
<input type=hidden name=hl value=en>
<input type=hidden id=search-page-url value=/v1.5/search>
<input id=search-textbox class=form-control name=q type=search aria-label="Procure este site">
<button id=search-close title="Cancelar pesquisa" type=reset aria-label="Cancelar pesquisa"><svg class="icon"><use xlink:href="/v1.5/img/icons.svg#cancel-x"/></svg></button></form></nav></header><div class=banner-container></div><main class="primary notoc"><div id=sidebar-container class="sidebar-container sidebar-offcanvas"><nav id=sidebar aria-label="Section Navigation"><div class=directory><div class=card><div id=header0 class=header title="Frequently Asked Questions about Istio."><svg class="icon"><use xlink:href="/v1.5/img/icons.svg#faq"/></svg>FAQ</div><div class="body default" aria-labelledby=header0><ul role=tree aria-expanded=true class=leaf-section aria-labelledby=header0><li role=none><a role=treeitem title="General Q & A." href=/v1.5/pt-br/faq/general/>General</a></li><li role=none><a role=treeitem title="Setup Q & A." href=/v1.5/pt-br/faq/setup/>Setup</a></li><li role=none><span role=treeitem class=current title="Application Specific Q & A.">Applications</span></li><li role=none><a role=treeitem title="Security Q & A." href=/v1.5/pt-br/faq/security/>Security</a></li><li role=none><a role=treeitem title="Mixer Q & A." href=/v1.5/pt-br/faq/mixer/>Mixer</a></li><li role=none><a role=treeitem title="Metrics and Logs Q & A." href=/v1.5/pt-br/faq/metrics-and-logs/>Metrics and Logs</a></li><li role=none><a role=treeitem title="Distributed Tracing Q & A." href=/v1.5/pt-br/faq/distributed-tracing/>Distributed Tracing</a></li><li role=none><a role=treeitem title="Traffic Management Q & A." href=/v1.5/pt-br/faq/traffic-management/>Traffic Management</a></li></ul></div></div></div></nav></div><div class=article-container><nav aria-label=Breadcrumb><ol><li><a href=/v1.5/pt-br/ title="Conecte, proteja, controle e observe os serviços.">Istio</a></li><li><a href=/v1.5/pt-br/faq/ title="Frequently Asked Questions about Istio.">FAQ</a></li><li>Applications</li></ol></nav><article aria-labelledby=title><div class=title-area><i class=title-icon><svg class="icon"><use xlink:href="/v1.5/img/icons.svg#faq"/></svg></i><div style=width:100%><h1 id=title>Applications FAQ</h1></div></div><nav class="toc-inlined toc-forced"><hr><div class=directory role=directory><nav id=InlineTableOfContents><ol><li role=none aria-label="Can I run Casandra inside an Istio mesh?"><a href=#cassandra>Can I run Casandra inside an Istio mesh?</a></li><li role=none aria-label="Can I run Elasticsearch inside an Istio mesh?"><a href=#elasticsearch>Can I run Elasticsearch inside an Istio mesh?</a></li><li role=none aria-label="Can I run Redis inside an Istio mesh?"><a href=#redis>Can I run Redis inside an Istio mesh?</a></li><li role=none aria-label="Can I run Zookeeper inside an Istio mesh?"><a href=#zookeeper>Can I run Zookeeper inside an Istio mesh?</a></li></ol></nav></div><hr></nav><div class=faq><h5 id=cassandra class=question>Can I run Casandra inside an Istio mesh?</h5><div class=answer><p>By default, Cassandra broadcasts the address it uses for binding
(accepting connections) to other Cassandra nodes as its address. This
is usually the pod IP address and works fine without a service
mesh. However, with a service mesh this configuration does not
work. Istio and other service meshes require <code>localhost</code>
(<code>127.0.0.1</code>) to be the address for binding.</p><p>There are two configuration parameters to pay attention to:
<a href="http://cassandra.apache.org/doc/latest/configuration/cassandra_config_file.html?highlight=listen_address#listen-address"><code>listen_address</code></a>
and
<a href="http://cassandra.apache.org/doc/latest/configuration/cassandra_config_file.html?highlight=listen_address#broadcast-address"><code>broadcast_address</code></a>. For
running Cassandra in an Istio mesh,
the <code>listen_address</code> parameter should be set to <code>127.0.0.1</code> and the
<code>broadcast_address</code> parameter should be set to the pod IP address.</p><p>These configuration parameters are defined in <code>cassandra.yaml</code> in the
Cassandra configuration directory (e.g. <code>/etc/cassandra</code>). There are
various startup scripts (and yaml files) used for starting Cassandra
and care should be given to how these parameters are set by these
scripts. For example, some scripts used to configure and start
Cassandra use the value of the environment variable
<code>CASSANDRA_LISTEN_ADDRESS</code> for setting <code>listen_address</code>.</p></div><h5 id=elasticsearch class=question>Can I run Elasticsearch inside an Istio mesh?</h5><div class=answer><p>There are two Elasticsearch configuration parameters that need to be
set appropriately to run Elasticsearch with Istio:
<code>network.bind_host</code> and <code>network.publish_host</code>. By default, these
parameters are set to the <code>network.host</code> parameter. If <code>network.host</code>
is set to <code>0.0.0.0</code>, Elasticsearch will most likely pick up the pod IP
as the publishing address and no further configuration will be
needed.</p><p>If the default configuration does not work, you can set the
<code>network.bind_host</code> to <code>0.0.0.0</code> or <code>localhost</code> (<code>127.0.0.1</code>) and
<code>network.publish_host</code> to the pod IP. For example:</p><pre><code class=language-yaml data-expandlinks=true data-repo=istio>...
containers:
- name: elasticsearch
  image: docker.elastic.co/elasticsearch/elasticsearch:7.2.0
  env:
    - name: network.bind_host
      value: 127.0.0.1
    - name: network.publish_host
      valueFrom:
        fieldRef:
          fieldPath: status.podIP
   ...
</code></pre><p>Refer to <a href=https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-network.html#modules-network>Network Settings for Elasticsearch</a>
for more information.</p></div><h5 id=redis class=question>Can I run Redis inside an Istio mesh?</h5><div class=answer><p>Similar to other services deployed in an Istio service mesh, Redis instances
need to listen on <code>localhost</code> (<code>127.0.0.1</code>). However, each Redis slave instance
should announce an address that can be used by master to reach it, which cannot
also be <code>localhost</code> (<code>127.0.0.1</code>).</p><p>Use the Redis configuration parameter <code>replica-announce-ip</code> to announce the
correct address. For example, set <code>replica-announce-ip</code> to the IP address of
each Redis slave instance using these steps:</p><p>Pass the pod IP address through an environment variable in the <code>env</code> subsection
of the slave <code>StatefulSet</code> definition:</p><pre><code class=language-yaml data-expandlinks=true data-repo=istio>- name: &#34;POD_IP&#34;
  valueFrom:
    fieldRef:
      fieldPath: status.podIP
</code></pre><p>Also, add the following under the <code>command</code> subsection:</p><pre><code class=language-yaml data-expandlinks=true data-repo=istio>echo &#34;&#34; &gt;&gt; /opt/bitnami/redis/etc/replica.conf
echo &#34;replica-announce-ip $POD_IP&#34; &gt;&gt; /opt/bitnami/redis/etc/replica.conf
</code></pre></div><h5 id=zookeeper class=question>Can I run Zookeeper inside an Istio mesh?</h5><div class=answer><p>By default, Zookeeper listens on the pod IP address for communication
between servers. Istio and other service meshes require <code>localhost</code>
(<code>127.0.0.1</code>) to be the address to listen on.</p><p>There is a configuration parameter that can be used to change this
default behavior:
<a href=https://zookeeper.apache.org/doc/r3.5.7/zookeeperAdmin.html><code>quorumListenOnAllIPs</code></a>.
This option allows Zookeeper to listen on all addresses including the
<code>localhost</code>. Set this parameter to <code>true</code> by using the
following command where <code>$ZK_CONFIG_FILE</code> is your Zookeeper
configuration file.</p><pre><code class=language-bash data-expandlinks=true data-repo=istio>$ echo &#34;quorumListenOnAllIPs=true&#34; &gt;&gt; $ZK_CONFIG_FILE
</code></pre></div></div></article><nav class=pagenav><div class=left><a title="Setup Q & A." href=/v1.5/pt-br/faq/setup/><svg class="icon"><use xlink:href="/v1.5/img/icons.svg#left-arrow"/></svg>Setup</a></div><div class=right><a title="Security Q & A." href=/v1.5/pt-br/faq/security/>Security<svg class="icon"><use xlink:href="/v1.5/img/icons.svg#right-arrow"/></svg></a></div></nav><div id=endnotes-container aria-hidden=true><h2>Links</h2><ol id=endnotes></ol></div></div></main><footer><div class=user-links><a class=channel title="Faça agora o download do Istio 1.5.4" href=/v1.5/docs/setup/getting-started/#download aria-label="Download Istio"><span>download</span><svg class="icon"><use xlink:href="/v1.5/img/icons.svg#download"/></svg>
</a><a class=channel title="Participe do quadro de discussão do Istio para participar de discussões e obter ajuda na solução de problemas" href=https://discuss.istio.io aria-label="Istio discussion board"><span>discuss</span><svg class="icon"><use xlink:href="/v1.5/img/icons.svg#discourse"/></svg></a>
<a class=channel title="O Stack Overflow é onde você pode fazer perguntas e encontrar respostas selecionadas sobre a implantação, configuração e uso do Istio" href=https://stackoverflow.com/questions/tagged/istio aria-label="Stack Overflow"><span>stack overflow</span><svg class="icon"><use xlink:href="/v1.5/img/icons.svg#stackoverflow"/></svg></a>
<a class=channel title="Discuta interativamente os problemas com a comunidade Istio no Slack" href=https://istio.slack.com aria-label=slack><span>slack</span><svg class="icon"><use xlink:href="/v1.5/img/icons.svg#slack"/></svg></a>
<a class=channel title="Siga-nos no Twitter para receber as últimas notícias" href=https://twitter.com/IstioMesh aria-label=Twitter><span>twitter</span><svg class="icon"><use xlink:href="/v1.5/img/icons.svg#twitter"/></svg></a><div class=tag>para todos</div></div><div class=info><p class=copyright>Arquivo Istio
1.5.4<br>&copy; 2020 Istio Authors, <a href=https://policies.google.com/privacy>Política de Privacidade</a><br>Arquivado em 21 de janeiro de 2020</p></div><div class=dev-links><a class=channel title="GitHub é onde ocorre o desenvolvimento de código do Istio" href=https://github.com/istio/community aria-label=GitHub><span>github</span><svg class="icon"><use xlink:href="/v1.5/img/icons.svg#github"/></svg></a>
<a class=channel title="Acesse nossa equipe, se quiser dar uma olhada nos documentos de design técnico do Istio" href=https://groups.google.com/forum/#!forum/istio-team-drive-access aria-label="team drive"><span>drive</span><svg class="icon"><use xlink:href="/v1.5/img/icons.svg#drive"/></svg></a>
<a class=channel title="Se você deseja contribuir com o projeto Istio, considere participar de nossos grupos de trabalho" href=https://github.com/istio/community/blob/master/WORKING-GROUPS.md aria-label="working groups"><span>working groups</span><svg class="icon"><use xlink:href="/v1.5/img/icons.svg#working-groups"/></svg></a><div class=tag>para desenvolvedores</div></div></footer><div id=scroll-to-top-container aria-hidden=true><button id=scroll-to-top title="De volta ao topo"><svg class="icon"><use xlink:href="/v1.5/img/icons.svg#top"/></svg></button></div></body></html>