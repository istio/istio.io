<!DOCTYPE html><html lang="en" itemscope itemtype="https://schema.org/WebPage"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="title" content="Mixer Client"><meta name="og:title" content="Mixer Client"><meta name="og:image" content="/v0.5/img/logo.png"/><meta name="theme-color" content="#466BB0"/><meta name="description" content="Configuration state for the Mixer client library"><meta name="og:description" content="Configuration state for the Mixer client library"><title>Istioldie 0.5 / Mixer Client</title><script> window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date; ga('create', 'UA-98480406-2', 'auto'); ga('send', 'pageview'); </script> <script async src='https://www.google-analytics.com/analytics.js'></script><link rel="alternate" type="application/rss+xml" title="Istio Blog RSS" href="/v0.5/feed.xml"><link rel="shortcut icon" href="/v0.5/favicons/favicon.ico" ><link rel="apple-touch-icon" href="/v0.5/favicons/apple-touch-icon-180x180.png" sizes="180x180"><link rel="icon" type="image/png" href="/v0.5/favicons/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="/v0.5/favicons/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="/v0.5/favicons/android-36x36.png" sizes="36x36"><link rel="icon" type="image/png" href="/v0.5/favicons/android-48x48.png" sizes="48x48"><link rel="icon" type="image/png" href="/v0.5/favicons/android-72x72.png" sizes="72x72"><link rel="icon" type="image/png" href="/v0.5/favicons/android-96x196.png" sizes="96x196"><link rel="icon" type="image/png" href="/v0.5/favicons/android-144x144.png" sizes="144x144"><link rel="icon" type="image/png" href="/v0.5/favicons/android-192x192.png" sizes="192x192"><link rel="manifest" href="/v0.5/manifest.json"><meta name="apple-mobile-web-app-title" content="Istio"><meta name="application-name" content="Istio"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.6/css/all.css"><link rel="stylesheet" href="/v0.5/css/light_theme.css" title="light"><link rel="alternate stylesheet" href="/v0.5/css/dark_theme.css" title="dark"> <script src="/v0.5/js/styleswitcher.js"></script></head><body class="language-unknown theme-unknown"><header role="banner"><nav class="navbar navbar-expand-sm navbar-dark fixed-top bg-dark"> <a class="navbar-brand d-flex w-50 mr-auto" href="/v0.5/" style="visibility: visible"> <img class="logo" src="/v0.5/img/istio-logo.svg" alt="Istio Logo"/> <span class="brand-name">Istioldie 0.5</span> </a> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button><div class="collapse navbar-collapse" id="navbarCollapse"><div class="navbar-nav justify-content-end"> <a class="nav-item nav-link " href="/v0.5/about/intro.html">About</a> <a class="nav-item nav-link " href="/v0.5/blog/2018/traffic-mirroring.html">Blog</a> <a class="nav-item nav-link active" href="/v0.5/docs/">Docs</a> <a class="nav-item nav-link " href="/v0.5/help">Help</a> <a class="nav-item nav-link " href="/v0.5/community">Community</a></div><div class="dropdown"> <a href="" class="nav-link nav-item dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class='fa fa-lg fa-cog'></i> </a><div class="dropdown-menu"><h6 class="dropdown-header">Other versions of this site</h6><li> <a href="https://istio.io">Current Release</a></li><li> <a href="https://preliminary.istio.io">Next Release</a></li><li> <a href="https://archive.istio.io">Older Releases</a></li><li class="dropdown-divider"></li><li> <i class='fa fa-check light'></i> <a href="" onclick="setActiveStyleSheet('light');return false;">Light Theme</a></li><li> <i class='fa fa-check dark'></i> <a href="" onclick="setActiveStyleSheet('dark');return false;">Dark Theme</a></li></div></div><form name="cse" id="searchbox" class="form-inline justify-content-end" role="search"> <input type="hidden" name="cx" value="013699703217164175118:iwwf17ikgf4" /> <input type="hidden" name="ie" value="utf-8" /> <input type="hidden" name="hl" value="en" /><div class="input-group"> <input name="q" class="form-control search-box" type="text" size="30" /> <button class="btn btn-search input-group-addon my-2 my-sm-0 fa fa-search" type="submit"></button></div></form></div></nav></header><div class="container-fluid"><div class="row row-offcanvas row-offcanvas-left"><div class="col-6 col-md-3 col-xl-2 sidebar-offcanvas"><nav class="sidebar"><div class="spacer"></div><div class="directory" role="tablist"><div class="card"><div class="card-header" role="tab" id="header1"> <a data-toggle="collapse" href="#collapse1" title="Concepts help you learn about the different parts of the Istio system and the abstractions it uses." role="button" aria-controls="collapse1"><div> Concepts</div></a></div><div id="collapse1" class="collapse" data-parent="#sidebar" role="tabpanel" aria-labelledby="header1"><div class="card-body"><ul class="tree"><li class="sublist"> <label class='tree-toggle'> <i class='fa fa-lg fa-caret-right'></i> <a class="" title="A broad overview of the Istio system." href="/v0.5/docs/concepts/what-is-istio">What is Istio?</a> </label><ul class="tree collapse"><li> <a title="Provides a conceptual introduction to Istio, including the problems it solves and its high-level architecture." href="/v0.5/docs/concepts/what-is-istio/overview.html">Overview</a></li><li> <a title="Describes the core principles that Istio's design adheres to." href="/v0.5/docs/concepts/what-is-istio/goals.html">Design Goals</a></li></ul></li><li class="sublist"> <label class='tree-toggle'> <i class='fa fa-lg fa-caret-right'></i> <a class="" title="Describes the various Istio features focused on traffic routing and control." href="/v0.5/docs/concepts/traffic-management">Traffic Management</a> </label><ul class="tree collapse"><li> <a title="Provides a conceptual overview of traffic management in Istio and the features it enables." href="/v0.5/docs/concepts/traffic-management/overview.html">Overview</a></li><li> <a title="Introduces Pilot, the component responsible for managing a distributed deployment of Envoy proxies in the service mesh." href="/v0.5/docs/concepts/traffic-management/pilot.html">Pilot</a></li><li> <a title="Describes how requests are routed between services in an Istio service mesh." href="/v0.5/docs/concepts/traffic-management/request-routing.html">Request Routing</a></li><li> <a title="Describes how traffic is load balanced across instances of a service in the mesh." href="/v0.5/docs/concepts/traffic-management/load-balancing.html">Discovery & Load Balancing</a></li><li> <a title="An overview of failure recovery capabilities in Envoy that can be leveraged by unmodified applications to improve robustness and prevent cascading failures." href="/v0.5/docs/concepts/traffic-management/handling-failures.html">Handling Failures</a></li><li> <a title="Introduces the idea of systematic fault injection that can be used to uncover conflicting failure recovery policies across services." href="/v0.5/docs/concepts/traffic-management/fault-injection.html">Fault Injection</a></li><li> <a title="Provides a high-level overview of the domain-specific language used by Istio to configure traffic management rules in the service mesh." href="/v0.5/docs/concepts/traffic-management/rules-configuration.html">Rules Configuration</a></li></ul></li><li class="sublist"> <label class='tree-toggle'> <i class='fa fa-lg fa-caret-right'></i> <a class="" title="Describes Istio's authorization and authentication functionality." href="/v0.5/docs/concepts/security">Security</a> </label><ul class="tree collapse"><li> <a title="Describes Istio's mutual TLS authentication architecture which provides a strong service identity and secure communication channels between services." href="/v0.5/docs/concepts/security/mutual-tls.html">Mutual TLS Authentication</a></li><li> <a title="Describes Istio RBAC which provides access control for services in Istio Mesh." href="/v0.5/docs/concepts/security/rbac.html">Istio Role-Based Access Control (RBAC)</a></li></ul></li><li class="sublist"> <label class='tree-toggle'> <i class='fa fa-lg fa-caret-right'></i> <a class="" title="Introduces the policy control mechanisms." href="/v0.5/docs/concepts/policy-and-control">Policies and Control</a> </label><ul class="tree collapse"><li> <a title="Explains the important notion of attributes, which is a central mechanism for how policies and control are applied to services within the mesh." href="/v0.5/docs/concepts/policy-and-control/attributes.html">Attributes</a></li><li> <a title="Architectural deep-dive into the design of Mixer, which provides the policy and control mechanisms within the service mesh." href="/v0.5/docs/concepts/policy-and-control/mixer.html">Mixer</a></li><li> <a title="An overview of the key concepts used to configure Mixer." href="/v0.5/docs/concepts/policy-and-control/mixer-config.html">Mixer Configuration</a></li></ul></li></ul></div></div></div><div class="card"><div class="card-header" role="tab" id="header20"> <a data-toggle="collapse" href="#collapse20" title="Setup contains instructions for installing the Istio control plane in various environments (e.g., Kubernetes, Consul, etc.), as well as instructions for installing the sidecar in the application deployment." role="button" aria-controls="collapse20"><div> Setup</div></a></div><div id="collapse20" class="collapse" data-parent="#sidebar" role="tabpanel" aria-labelledby="header20"><div class="card-body"><ul class="tree"><li class="sublist"> <label class='tree-toggle'> <i class='fa fa-lg fa-caret-right'></i> <a class="" title="Instructions for installing the Istio control plane on Kubernetes and adding VMs into the mesh." href="/v0.5/docs/setup/kubernetes">Kubernetes</a> </label><ul class="tree collapse"><li> <a title="Quick Start instructions to setup the Istio service mesh in a Kubernetes cluster." href="/v0.5/docs/setup/kubernetes/quick-start.html">Quick Start</a></li><li> <a title="Quick Start instructions to setup the Istio service using Google Kubernetes Engine (GKE)" href="/v0.5/docs/setup/kubernetes/quick-start-gke-dm.html">Quick Start with Google Kubernetes Engine</a></li><li> <a title="Instructions for the setup and configuration of Istio using the Helm package manager." href="/v0.5/docs/setup/kubernetes/helm.html">Istio Helm Chart Instructions</a></li><li> <a title="Instructions for installing the Istio sidecar in application pods automatically using the sidecar injector webhook or manually using istioctl CLI." href="/v0.5/docs/setup/kubernetes/sidecar-injection.html">Installing Istio Sidecar</a></li><li> <a title="Instructions for integrating VMs and bare metal hosts into an Istio mesh deployed on Kubernetes." href="/v0.5/docs/setup/kubernetes/mesh-expansion.html">Istio Mesh Expansion</a></li></ul></li><li class="sublist"> <label class='tree-toggle'> <i class='fa fa-lg fa-caret-right'></i> <a class="" title="Instructions for installing the Istio control plane in a Consul based environment, with or without Nomad." href="/v0.5/docs/setup/consul">Nomad & Consul</a> </label><ul class="tree collapse"><li> <a title="Quick Start instructions to setup the Istio service mesh with Docker Compose." href="/v0.5/docs/setup/consul/quick-start.html">Quick Start on Docker</a></li><li> <a title="Instructions for installing the Istio control plane in a Consul based environment, with or without Nomad." href="/v0.5/docs/setup/consul/install.html">Installation</a></li></ul></li><li class="sublist"> <label class='tree-toggle'> <i class='fa fa-lg fa-caret-right'></i> <a class="" title="Instructions for installing the Istio control plane in a Eureka based environment." href="/v0.5/docs/setup/eureka">Eureka</a> </label><ul class="tree collapse"><li> <a title="Quick Start instructions to setup the Istio service mesh with Docker Compose." href="/v0.5/docs/setup/eureka/quick-start.html">Quick Start on Docker</a></li><li> <a title="Instructions for installing the Istio control plane in an Eureka based environment." href="/v0.5/docs/setup/eureka/install.html">Installation</a></li></ul></li><li class="sublist"> <label class='tree-toggle'> <i class='fa fa-lg fa-caret-right'></i> <a class="" title="Instructions for installing the Istio control plane in Cloud Foundry." href="/v0.5/docs/setup/cloudfoundry">Cloud Foundry</a> </label><ul class="tree collapse"><li> <a title="Instructions for installing the Istio control plane in Cloud Foundry." href="/v0.5/docs/setup/cloudfoundry/install.html">Installation</a></li></ul></li><li class="sublist"> <label class='tree-toggle'> <i class='fa fa-lg fa-caret-right'></i> <a class="" title="Instructions for installing the Istio control plane in Apache Mesos." href="/v0.5/docs/setup/mesos">Mesos</a> </label><ul class="tree collapse"><li> <a title="Instructions for installing the Istio control plane in Apache Mesos." href="/v0.5/docs/setup/mesos/install.html">Installation</a></li></ul></li></ul></div></div></div><div class="card"><div class="card-header" role="tab" id="header37"> <a data-toggle="collapse" href="#collapse37" title="Tasks show you how to do a single specific targeted activity with the Istio system." role="button" aria-controls="collapse37"><div> Tasks</div></a></div><div id="collapse37" class="collapse" data-parent="#sidebar" role="tabpanel" aria-labelledby="header37"><div class="card-body"><ul class="tree"><li class="sublist"> <label class='tree-toggle'> <i class='fa fa-lg fa-caret-right'></i> <a class="" title="Describes tasks that demonstrate traffic routing features of Istio service mesh." href="/v0.5/docs/tasks/traffic-management">Traffic Management</a> </label><ul class="tree collapse"><li> <a title="This task shows you how to configure dynamic request routing based on weights and HTTP headers." href="/v0.5/docs/tasks/traffic-management/request-routing.html">Configuring Request Routing</a></li><li> <a title="This task shows how to inject delays and test the resiliency of your application." href="/v0.5/docs/tasks/traffic-management/fault-injection.html">Fault Injection</a></li><li> <a title="This task shows you how to migrate traffic from an old to new version of a service." href="/v0.5/docs/tasks/traffic-management/traffic-shifting.html">Traffic Shifting</a></li><li> <a title="This task shows you how to setup request timeouts in Envoy using Istio." href="/v0.5/docs/tasks/traffic-management/request-timeouts.html">Setting Request Timeouts</a></li><li> <a title="Describes how to configure the Istio ingress controller on Kubernetes." href="/v0.5/docs/tasks/traffic-management/ingress.html">Istio Ingress Controller</a></li><li> <a title="Describes how to configure Istio to route traffic from services in the mesh to external services." href="/v0.5/docs/tasks/traffic-management/egress.html">Control Egress Traffic</a></li><li> <a title="Describes how to configure Istio to route TCP traffic from services in the mesh to external services." href="/v0.5/docs/tasks/traffic-management/egress-tcp.html">Control Egress TCP Traffic</a></li><li> <a title="This task demonstrates the circuit-breaking capability for resilient applications" href="/v0.5/docs/tasks/traffic-management/circuit-breaking.html">Circuit Breaking</a></li><li> <a title="This task demonstrates the traffic shadowing/mirroring capabilities of Istio" href="/v0.5/docs/tasks/traffic-management/mirroring.html">Mirroring</a></li></ul></li><li class="sublist"> <label class='tree-toggle'> <i class='fa fa-lg fa-caret-right'></i> <a class="" title="Describes tasks that demonstrate policy enforcement features." href="/v0.5/docs/tasks/policy-enforcement">Policy Enforcement</a> </label><ul class="tree collapse"><li> <a title="This task shows you how to use Istio to dynamically limit the traffic to a service." href="/v0.5/docs/tasks/policy-enforcement/rate-limiting.html">Enabling Rate Limits</a></li></ul></li><li class="sublist"> <label class='tree-toggle'> <i class='fa fa-lg fa-caret-right'></i> <a class="" title="Describes tasks that demonstrate how to collect telemetry information from the service mesh." href="/v0.5/docs/tasks/telemetry">Metrics, Logs, and Traces</a> </label><ul class="tree collapse"><li> <a title="How to configure the proxies to send tracing requests to Zipkin or Jaeger" href="/v0.5/docs/tasks/telemetry/distributed-tracing.html">Distributed Tracing</a></li><li> <a title="This task shows you how to configure Istio to collect metrics and logs." href="/v0.5/docs/tasks/telemetry/metrics-logs.html">Collecting Metrics and Logs</a></li><li> <a title="This task shows you how to configure Istio to collect metrics for TCP services." href="/v0.5/docs/tasks/telemetry/tcp-metrics.html">Collecting Metrics for TCP services</a></li><li> <a title="This task shows you how to query for Istio Metrics using Prometheus." href="/v0.5/docs/tasks/telemetry/querying-metrics.html">Querying Metrics from Prometheus</a></li><li> <a title="This task shows you how to setup and use the Istio Dashboard to monitor mesh traffic." href="/v0.5/docs/tasks/telemetry/using-istio-dashboard.html">Visualizing Metrics with Grafana</a></li><li> <a title="This task shows you how to generate a graph of services within an Istio mesh." href="/v0.5/docs/tasks/telemetry/servicegraph.html">Generating a Service Graph</a></li><li> <a title="This task shows you how to configure Istio to log to a Fluentd daemon" href="/v0.5/docs/tasks/telemetry/fluentd.html">Logging with Fluentd</a></li></ul></li><li class="sublist"> <label class='tree-toggle'> <i class='fa fa-lg fa-caret-right'></i> <a class="" title="Describes tasks that help securing the service mesh traffic." href="/v0.5/docs/tasks/security">Security</a> </label><ul class="tree collapse"><li> <a title="This task shows you how to verify and test Istio's automatic mutual TLS authentication." href="/v0.5/docs/tasks/security/mutual-tls.html">Testing Istio mutual TLS authentication</a></li><li> <a title="This task shows how to control access to a service using the Kubernetes labels." href="/v0.5/docs/tasks/security/basic-access-control.html">Setting up Basic Access Control</a></li><li> <a title="This task shows how to set up role-based access control for services in Istio mesh." href="/v0.5/docs/tasks/security/role-based-access-control.html">Setting up Istio Role-Based Access Control</a></li><li> <a title="This task shows how to securely control access to a service using service accounts." href="/v0.5/docs/tasks/security/secure-access-control.html">Setting up Secure Access Control</a></li><li> <a title="This task shows how to change mutual TLS authentication for a single service." href="/v0.5/docs/tasks/security/per-service-mtls.html">Per-service mutual TLS authentication enablement</a></li><li> <a title="This task shows how operators can plug existing certificate and key into Istio CA." href="/v0.5/docs/tasks/security/plugin-ca-cert.html">Plugging in CA certificate and key</a></li></ul></li></ul></div></div></div><div class="card"><div class="card-header" role="tab" id="header65"> <a data-toggle="collapse" href="#collapse65" title="Guides include a variety of fully working example uses for Istio that you can experiment with." role="button" aria-controls="collapse65"><div> Guides</div></a></div><div id="collapse65" class="collapse" data-parent="#sidebar" role="tabpanel" aria-labelledby="header65"><div class="card-body"><ul class="tree"><li> <a title="This guide deploys a sample application composed of four separate microservices which will be used to demonstrate various features of the Istio service mesh." href="/v0.5/docs/guides/bookinfo.html">Bookinfo</a></li><li> <a title="This guide demonstrates how to use various traffic management capabilities of an Istio service mesh." href="/v0.5/docs/guides/intelligent-routing.html">Intelligent Routing</a></li><li> <a title="This sample demonstrates how to obtain uniform metrics, logs, traces across different services using Istio Mixer and Istio sidecar." href="/v0.5/docs/guides/telemetry.html">In-Depth Telemetry</a></li><li> <a title="This sample deploys the Bookinfo services across Kubernetes and a set of virtual machines, and illustrates how to use the Istio service mesh to control this infrastructure as a single mesh." href="/v0.5/docs/guides/integrating-vms.html">Integrating Virtual Machines</a></li></ul></div></div></div><div class="card"><div class="card-header" role="tab" id="header70"> <a data-toggle="collapse" href="#collapse70" title="The Reference section contains detailed authoritative reference material such as command-line options, configuration options, and API calling parameters." role="button" aria-controls="collapse70"><div> Reference</div></a></div><div id="collapse70" class="collapse show" data-parent="#sidebar" role="tabpanel" aria-labelledby="header70"><div class="card-body"><ul class="tree"><li class="sublist"> <label class='tree-toggle'> <i class='fa fa-lg fa-caret-right'></i> <a class="" title="Detailed information on API parameters." href="/v0.5/docs/reference/api">API</a> </label><ul class="tree collapse"><li> <a title="API definitions to interact with Mixer" href="/v0.5/docs/reference/api/istio.mixer.v1.html">Mixer</a></li></ul></li><li class="sublist"> <label class='tree-toggle'> <i class='fa fa-lg fa-caret-down'></i> <a class="" title="Detailed information on configuration options." href="/v0.5/docs/reference/config">Configuration</a> </label><ul class="tree"><li> <a title="Configuration affecting the service mesh as a whole" href="/v0.5/docs/reference/config/istio.mesh.v1alpha1.html">Service Mesh</a></li><li> <span class="current" title="Configuration state for the Mixer client library">Mixer Client</span></li><li> <a title="Describes the rules used to configure Mixer's policy and telemetry features." href="/v0.5/docs/reference/config/istio.mixer.v1.config.html">Policy and Telemetry Rules</a></li><li> <a title="Configuration affecting resource-based access control" href="/v0.5/docs/reference/config/istio.rbac.v1alpha1.html">RBAC</a></li><li> <a title="Configuration affecting traffic routing" href="/v0.5/docs/reference/config/istio.routing.v1alpha1.html">Route Rules Alpha 1</a></li><li class="sublist"> <label class='tree-toggle'> <i class='fa fa-lg fa-caret-right'></i> <a class="" title="Detailed information on configuration and API exposed by Mixer." href="/v0.5/docs/reference/config/mixer">Mixer</a> </label><ul class="tree collapse"><li> <a title="Definitions used when creating Mixer templates" href="/v0.5/docs/reference/config/mixer/istio.mixer.adapter.model.v1beta.html">Mixer Adapter Model</a></li><li> <a title="Value types used with templates" href="/v0.5/docs/reference/config/mixer/istio.mixer.v1.config.descriptor.html">Value Type</a></li><li> <a title="Definitions used when creating Mixer templates" href="/v0.5/docs/reference/config/mixer/istio.mixer.v1.template.html">Template Metadata</a></li><li> <a title="Describes the base attribute vocabulary used for policy and control." href="/v0.5/docs/reference/config/mixer/attribute-vocabulary.html">Attribute Vocabulary</a></li><li> <a title="Mixer config expression language reference." href="/v0.5/docs/reference/config/mixer/expression-language.html">Expression Language</a></li></ul></li><li class="sublist"> <label class='tree-toggle'> <i class='fa fa-lg fa-caret-right'></i> <a class="" title="Generated documentation for Mixer's adapters." href="/v0.5/docs/reference/config/adapters">Adapters</a> </label><ul class="tree collapse"><li> <a title="Adapter for circonus.com's monitoring solution." href="/v0.5/docs/reference/config/adapters/circonus.html">Circonus</a></li><li> <a title="Adapter that always returns a precondition denial." href="/v0.5/docs/reference/config/adapters/denier.html">Denier</a></li><li> <a title="Adapter that delivers logs to a fluentd daemon." href="/v0.5/docs/reference/config/adapters/fluentd.html">Fluentd</a></li><li> <a title="Adapter that extracts information from a Kubernetes environment." href="/v0.5/docs/reference/config/adapters/kubernetesenv.html">Kubernetes Env</a></li><li> <a title="Adapter that performs whitelist or blacklist checks" href="/v0.5/docs/reference/config/adapters/list.html">List</a></li><li> <a title="Adapter for a simple in-memory quota management system." href="/v0.5/docs/reference/config/adapters/memquota.html">Memory quota</a></li><li> <a title="Adapter that implements an Open Policy Agent engine" href="/v0.5/docs/reference/config/adapters/opa.html">OPA</a></li><li> <a title="Adapter that exposes Istio metrics for ingestion by a Prometheus harvester." href="/v0.5/docs/reference/config/adapters/prometheus.html">Prometheus</a></li><li> <a title="Adapter that exposes Istio's Role-Based Access Control model." href="/v0.5/docs/reference/config/adapters/rbac.html">RBAC</a></li><li> <a title="Adapter for a Redis-based quota management system." href="/v0.5/docs/reference/config/adapters/redisquota.html">Redis Quota</a></li><li> <a title="Adapter that delivers logs and metrics to Google Service Control" href="/v0.5/docs/reference/config/adapters/servicecontrol.html">Service Control</a></li><li> <a title="Adapter to deliver logs and metrics to Papertrail and AppOptics backends" href="/v0.5/docs/reference/config/adapters/solarwinds.html">SolarWinds</a></li><li> <a title="Adapter to deliver logs and metrics to Stackdriver" href="/v0.5/docs/reference/config/adapters/stackdriver.html">Stackdriver</a></li><li> <a title="Adapter to deliver metrics to a StatsD backend" href="/v0.5/docs/reference/config/adapters/statsd.html">StatsD</a></li><li> <a title="Adapter for outputting logs and metrics locally." href="/v0.5/docs/reference/config/adapters/stdio.html">Stdio</a></li></ul></li><li class="sublist"> <label class='tree-toggle'> <i class='fa fa-lg fa-caret-right'></i> <a class="" title="Generated documentation for Mixer's Templates." href="/v0.5/docs/reference/config/template">Templates</a> </label><ul class="tree collapse"><li> <a title="A template that represents a single API key." href="/v0.5/docs/reference/config/template/apikey.html">API Key</a></li><li> <a title="A template used to represent an access control query." href="/v0.5/docs/reference/config/template/authorization.html">Authorization</a></li><li> <a title="A template that carries no data, useful for testing." href="/v0.5/docs/reference/config/template/checknothing.html">Check Nothing</a></li><li> <a title="A template that is used to control the production of Kubernetes-specific attributes." href="/v0.5/docs/reference/config/template/kubernetes.html">Kubernetes</a></li><li> <a title="A template designed to let you perform list checking operations." href="/v0.5/docs/reference/config/template/listentry.html">List Entry</a></li><li> <a title="A template that represents a single runtime log entry." href="/v0.5/docs/reference/config/template/logentry.html">Log Entry</a></li><li> <a title="A template that represents a single runtime metric." href="/v0.5/docs/reference/config/template/metric.html">Metric</a></li><li> <a title="A template that represents a quota allocation request" href="/v0.5/docs/reference/config/template/quota.html">Quota</a></li><li> <a title="A template that carries no data, useful for testing." href="/v0.5/docs/reference/config/template/reportnothing.html">Report Nothing</a></li><li> <a title="A template used by the Google Service Control adapter." href="/v0.5/docs/reference/config/template/servicecontrolreport.html">Service Control Report</a></li></ul></li></ul></li><li class="sublist"> <label class='tree-toggle'> <i class='fa fa-lg fa-caret-right'></i> <a class="" title="Describes usage and options of the Istio commands and utilities." href="/v0.5/docs/reference/commands">Commands</a> </label><ul class="tree collapse"><li> <a title="Istio Certificate Authority (CA)" href="/v0.5/docs/reference/commands/istio_ca.html">istio_ca</a></li><li> <a title="Istio control interface" href="/v0.5/docs/reference/commands/istioctl.html">istioctl</a></li><li> <a title="Utility to trigger direct calls to Mixer&#39;s API." href="/v0.5/docs/reference/commands/mixc.html">mixc</a></li><li> <a title="Mixer is Istio&#39;s abstraction on top of infrastructure backends." href="/v0.5/docs/reference/commands/mixs.html">mixs</a></li><li> <a title="Istio security per-node agent" href="/v0.5/docs/reference/commands/node_agent.html">node_agent</a></li><li> <a title="Istio Pilot agent" href="/v0.5/docs/reference/commands/pilot-agent.html">pilot-agent</a></li><li> <a title="Istio Pilot" href="/v0.5/docs/reference/commands/pilot-discovery.html">pilot-discovery</a></li><li> <a title="Kubernetes webhook for automatic Istio sidecar injection" href="/v0.5/docs/reference/commands/sidecar-injector.html">sidecar-injector</a></li></ul></li><li> <a title="How to write Istio config YAML content." href="/v0.5/docs/reference/writing-config.html">Writing Configuration</a></li></ul></div></div></div></div></nav></div><div class="col-12 col-md-9 col-lg-7 col-xl-8"><p class="d-md-none"> <label class="sidebar-toggler" data-toggle="offcanvas"> <i class="fa fa-chevron-right"></i> </label></p><main role="main"><h1>Mixer Client</h1><h2 id="APIKey">APIKey</h2><section><p>APIKey defines the explicit configuration for generating the <code>request.api_key</code> attribute from HTTP requests.</p><p>See https://swagger.io/docs/specification/authentication/api-keys for a general overview of API keys as defined by OpenAPI.</p><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="APIKey.query" class="oneof oneof-start"><td><code>query</code></td><td><code>string (oneof)</code></td><td><p>API Key is sent as a query parameter. <code>query</code> represents the query string parameter name.</p><p>For example, <code>query=api_key</code> should be used with the following request:</p><pre><code>GET /something?api_key=abcdef12345
</code></pre></td></tr><tr id="APIKey.header" class="oneof"><td><code>header</code></td><td><code>string (oneof)</code></td><td><p>API key is sent in a request header. <code>header</code> represents the header name.</p><p>For example, <code>header=X-API-KEY</code> should be used with the following request:</p><pre><code>GET /something HTTP/1.1
X-API-Key: abcdef12345
</code></pre></td></tr><tr id="APIKey.cookie" class="oneof"><td><code>cookie</code></td><td><code>string (oneof)</code></td><td><p>API key is sent in a <a href="https://swagger.io/docs/specification/authentication/cookie-authentication">cookie</a>,</p><p>For example, <code>cookie=X-API-KEY</code> should be used for the following request:</p><pre><code>GET /something HTTP/1.1
Cookie: X-API-KEY=abcdef12345
</code></pre></td></tr></tbody></table></section><h2 id="AttributeMatch">AttributeMatch</h2><section><p>Specifies a match clause to match Istio attributes</p><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="AttributeMatch.clause"><td><code>clause</code></td><td><code>map&lt;string,<a href="#StringMatch">StringMatch</a>&gt;</code></td><td><p>Map of attribute names to StringMatch type. Each map element specifies one condition to match.</p><p>Example:</p><p>clause: source.uid: exact: SOURCE<em>UID request.http</em>method: exact: POST</p></td></tr></tbody></table></section><h2 id="EndUserAuthenticationPolicySpec">EndUserAuthenticationPolicySpec</h2><section><p>Determines how to apply auth policies for individual requests.</p><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="EndUserAuthenticationPolicySpec.jwts"><td><code>jwts</code></td><td><code><a href="#JWT">JWT[]</a></code></td><td><p>List of JWT rules to valide.</p><p>If the request includes a JWT it must match one of the JWT listed here matched by the issuer. If validation is successfull the follow attributes are included in requests to the mixer:</p><pre><code>request.auth.principal - The string of the issuer (`iss`) and
subject (`sub`) claims within a JWT concatenated with “/”
with a percent-encoded subject value

request.auth.audiences - This should reflect the audience
(`aud`) claim within matched JWT.

request.auth.presenter - The authorized presenter of the
credential. This value should reflect the optional Authorized
Presenter (`azp`) claim within a JWT
</code></pre><p>If no match is found the request is rejected with HTTP status code 401.</p><p>JWT validation is skipped if the user&rsquo;s traffic request does not include a JWT.</p></td></tr></tbody></table></section><h2 id="EndUserAuthenticationPolicySpecBinding">EndUserAuthenticationPolicySpecBinding</h2><section><p>EndUserAuthenticationPolicySpecBinding defines the binding between EndUserAuthenticationPolicySpecs and one or more IstioService.</p><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="EndUserAuthenticationPolicySpecBinding.services"><td><code>services</code></td><td><code><a href="#IstioService">IstioService[]</a></code></td><td><p>REQUIRED. One or more services to map the listed EndUserAuthenticationPolicySpecs onto.</p></td></tr><tr id="EndUserAuthenticationPolicySpecBinding.policies"><td><code>policies</code></td><td><code><a href="#EndUserAuthenticationPolicySpecReference">EndUserAuthenticationPolicySpecReference[]</a></code></td><td><p>REQUIRED. One or more EndUserAuthenticationPolicySpecReference that should be mapped to the specified service(s).</p></td></tr></tbody></table></section><h2 id="EndUserAuthenticationPolicySpecReference">EndUserAuthenticationPolicySpecReference</h2><section><p>EndUserAuthenticationPolicySpecReference identifies a EndUserAuthenticationPolicySpec that is bound to a set of services.</p><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="EndUserAuthenticationPolicySpecReference.name"><td><code>name</code></td><td><code>string</code></td><td><p>REQUIRED. The short name of the EndUserAuthenticationPolicySpec. This is the resource name defined by the metadata name field.</p></td></tr><tr id="EndUserAuthenticationPolicySpecReference.namespace"><td><code>namespace</code></td><td><code>string</code></td><td><p>Optional namespace of the EndUserAuthenticationPolicySpec. Defaults to the value of the metadata namespace field.</p></td></tr></tbody></table></section><h2 id="HTTPAPISpec">HTTPAPISpec</h2><section><p>HTTPAPISpec defines the canonical configuration for generating API-related attributes from HTTP requests based on the method and uri templated path matches. It is sufficient for defining the API surface of a service for the purposes of API attribute generation. It is not intended to represent auth, quota, documentation, or other information commonly found in other API specifications, e.g. OpenAPI.</p><p>Existing standards that define operations (or methods) in terms of HTTP methods and paths can be normalized to this format for use in Istio. For example, a simple petstore API described by OpenAPIv2 <a href="https://github.com/googleapis/gnostic/blob/master/examples/v2.0/yaml/petstore-simple.yaml">here</a> can be represented with the following HTTPAPISpec.</p><pre><code>apiVersion: config.istio.io/v1alpha2
kind: HTTPAPISpec
metadata:
  name: petstore
  namespace: default
spec:
  attributes:
    api.service: petstore.swagger.io
    api.version: 1.0.0
  patterns:
  - attributes:
      api.operation: findPets
    httpMethod: GET
    uriTemplate: /api/pets
  - attributes:
      api.operation: addPet
    httpMethod: POST
    uriTemplate: /api/pets
  - attributes:
      api.operation: findPetById
    httpMethod: GET
    uriTemplate: /api/pets/&lbrace;id}
  - attributes:
      api.operation: deletePet
    httpMethod: DELETE
    uriTemplate: /api/pets/&lbrace;id}
  api_keys:
  - query: api-key
</code></pre><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="HTTPAPISpec.attributes"><td><code>attributes</code></td><td><code><a href="#istio.mixer.v1.Attributes">istio.mixer.v1.Attributes</a></code></td><td><p>List of attributes that are generated when <em>any</em> of the HTTP patterns match. This list typically includes the &ldquo;api.service&rdquo; and &ldquo;api.version&rdquo; attributes.</p></td></tr><tr id="HTTPAPISpec.patterns"><td><code>patterns</code></td><td><code><a href="#HTTPAPISpecPattern">HTTPAPISpecPattern[]</a></code></td><td><p>List of HTTP patterns to match.</p></td></tr><tr id="HTTPAPISpec.api_keys"><td><code>apiKeys</code></td><td><code><a href="#APIKey">APIKey[]</a></code></td><td><p>List of APIKey that describes how to extract an API-KEY from an HTTP request. The first API-Key match found in the list is used, i.e. &lsquo;OR&rsquo; semantics.</p><p>The following default policies are used to generate the <code>request.api_key</code> attribute if no explicit APIKey is defined.</p><pre><code>`query: key, `query: api_key`, and then `header: x-api-key`
</code></pre></td></tr></tbody></table></section><h2 id="HTTPAPISpecBinding">HTTPAPISpecBinding</h2><section><p>HTTPAPISpecBinding defines the binding between HTTPAPISpecs and one or more IstioService. For example, the following establishes a binding between the HTTPAPISpec <code>petstore</code> and service <code>foo</code> in namespace <code>bar</code>.</p><pre><code>apiVersion: config.istio.io/v1alpha2
kind: HTTPAPISpecBinding
metadata:
  name: my-binding
  namespace: default
spec:
  services:
  - name: foo
    namespace: bar
  api_specs:
  - name: petstore
    namespace: default
</code></pre><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="HTTPAPISpecBinding.services"><td><code>services</code></td><td><code><a href="#IstioService">IstioService[]</a></code></td><td><p>REQUIRED. One or more services to map the listed HTTPAPISpec onto.</p></td></tr><tr id="HTTPAPISpecBinding.api_specs"><td><code>apiSpecs</code></td><td><code><a href="#HTTPAPISpecReference">HTTPAPISpecReference[]</a></code></td><td><p>REQUIRED. One or more HTTPAPISpec references that should be mapped to the specified service(s). The aggregate collection of match conditions defined in the HTTPAPISpecs should not overlap.</p></td></tr></tbody></table></section><h2 id="HTTPAPISpecPattern">HTTPAPISpecPattern</h2><section><p>HTTPAPISpecPattern defines a single pattern to match against incoming HTTP requests. The per-pattern list of attributes is generated if both the http<em>method and uri</em>template match. In addition, the top-level list of attributes in the HTTPAPISpec is also generated.</p><pre><code>pattern:
- attributes
    api.operation: doFooBar
  httpMethod: GET
  uriTemplate: /foo/bar
</code></pre><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="HTTPAPISpecPattern.attributes"><td><code>attributes</code></td><td><code><a href="#istio.mixer.v1.Attributes">istio.mixer.v1.Attributes</a></code></td><td><p>List of attributes that are generated if the HTTP request matches the specified http<em>method and uri</em>template. This typically includes the &ldquo;api.operation&rdquo; attribute.</p></td></tr><tr id="HTTPAPISpecPattern.http_method"><td><code>httpMethod</code></td><td><code>string</code></td><td><p>HTTP request method to match against as defined by <a href="https://tools.ietf.org/html/rfc7231#page-21">rfc7231</a>. For example: GET, HEAD, POST, PUT, DELETE.</p></td></tr><tr id="HTTPAPISpecPattern.uri_template" class="oneof oneof-start"><td><code>uriTemplate</code></td><td><code>string (oneof)</code></td><td><p>URI template to match against as defined by <a href="https://tools.ietf.org/html/rfc6570">rfc6570</a>. For example, the following are valid URI templates:</p><pre><code>/pets
/pets/&lbrace;id}
/dictionary/&lbrace;term:1}/&lbrace;term}
/search&lbrace;?q*,lang}
</code></pre></td></tr><tr id="HTTPAPISpecPattern.regex" class="oneof"><td><code>regex</code></td><td><code>string (oneof)</code></td><td><p>EXPERIMENTAL:</p><p>ecmascript style regex-based match as defined by <a href="http://en.cppreference.com/w/cpp/regex/ecmascript">EDCA-262</a>. For example,</p><pre><code>&quot;^/pets/(.*?)?&quot;
</code></pre></td></tr></tbody></table></section><h2 id="HTTPAPISpecReference">HTTPAPISpecReference</h2><section><p>HTTPAPISpecReference defines a reference to an HTTPAPISpec. This is typically used for establishing bindings between an HTTPAPISpec and an IstioService. For example, the following defines an HTTPAPISpecReference for service <code>foo</code> in namespace <code>bar</code>.</p><pre><code>- name: foo
  namespace: bar
</code></pre><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="HTTPAPISpecReference.name"><td><code>name</code></td><td><code>string</code></td><td><p>REQUIRED. The short name of the HTTPAPISpec. This is the resource name defined by the metadata name field.</p></td></tr><tr id="HTTPAPISpecReference.namespace"><td><code>namespace</code></td><td><code>string</code></td><td><p>Optional namespace of the HTTPAPISpec. Defaults to the encompassing HTTPAPISpecBinding&rsquo;s metadata namespace field.</p></td></tr></tbody></table></section><h2 id="HttpClientConfig">HttpClientConfig</h2><section><p>Defines the client config for HTTP.</p><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="HttpClientConfig.transport"><td><code>transport</code></td><td><code><a href="#TransportConfig">TransportConfig</a></code></td><td><p>The transport config.</p></td></tr><tr id="HttpClientConfig.service_configs"><td><code>serviceConfigs</code></td><td><code>map&lt;string,<a href="#ServiceConfig">ServiceConfig</a>&gt;</code></td><td><p>Map of control configuration indexed by destination.service. This is used to support per-service configuration for cases where a mixerclient serves multiple services.</p></td></tr><tr id="HttpClientConfig.default_destination_service"><td><code>defaultDestinationService</code></td><td><code>string</code></td><td><p>Default destination service name if none was specified in the client request.</p></td></tr><tr id="HttpClientConfig.mixer_attributes"><td><code>mixerAttributes</code></td><td><code><a href="#istio.mixer.v1.Attributes">istio.mixer.v1.Attributes</a></code></td><td><p>Default attributes to send to Mixer in both Check and Report. This typically includes &ldquo;destination.ip&rdquo; and &ldquo;destination.uid&rdquo; attributes.</p></td></tr><tr id="HttpClientConfig.forward_attributes"><td><code>forwardAttributes</code></td><td><code><a href="#istio.mixer.v1.Attributes">istio.mixer.v1.Attributes</a></code></td><td><p>Default attributes to forward to upstream. This typically includes the &ldquo;source.ip&rdquo; and &ldquo;source.uid&rdquo; attributes.</p></td></tr></tbody></table></section><h2 id="IstioService">IstioService</h2><section><p>IstioService identifies a service and optionally service version. The FQDN of the service is composed from the name, namespace, and implementation-specific domain suffix (e.g. on Kubernetes, &ldquo;reviews&rdquo; + &ldquo;default&rdquo; + &ldquo;svc.cluster.local&rdquo; -&gt; &ldquo;reviews.default.svc.cluster.local&rdquo;).</p><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="IstioService.name"><td><code>name</code></td><td><code>string</code></td><td><p>The short name of the service such as &ldquo;foo&rdquo;.</p></td></tr><tr id="IstioService.namespace"><td><code>namespace</code></td><td><code>string</code></td><td><p>Optional namespace of the service. Defaults to value of metadata namespace field.</p></td></tr><tr id="IstioService.domain"><td><code>domain</code></td><td><code>string</code></td><td><p>Domain suffix used to construct the service FQDN in implementations that support such specification.</p></td></tr><tr id="IstioService.service"><td><code>service</code></td><td><code>string</code></td><td><p>The service FQDN.</p></td></tr><tr id="IstioService.labels"><td><code>labels</code></td><td><code>map&lt;string,string&gt;</code></td><td><p>Optional one or more labels that uniquely identify the service version.</p><p><em>Note:</em> When used for a RouteRule destination, labels MUST be empty.</p></td></tr></tbody></table></section><h2 id="JWT">JWT</h2><section><p>JSON Web Token (JWT) token format for authentication as defined by https://tools.ietf.org/html/rfc7519. See <a href="https://tools.ietf.org/html/rfc6749">OAuth 2.0</a> and <a href="http://openid.net/connect">OIDC 1.0</a> for how this is used in the whole authentication flow.</p><p>Example,</p><pre><code>issuer: https://example.com
audiences:
- bookstore_android.apps.googleusercontent.com
  bookstore_web.apps.googleusercontent.com
jwks_uri: https://example.com/.well-known/jwks.json
</code></pre><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="JWT.issuer"><td><code>issuer</code></td><td><code>string</code></td><td><p>Identifies the principal that issued the JWT. See https://tools.ietf.org/html/rfc7519#section-4.1.1 Usually a URL or an email address.</p><p>Example: https://securetoken.google.com Example: 1234567-compute@developer.gserviceaccount.com</p></td></tr><tr id="JWT.audiences"><td><code>audiences</code></td><td><code>string[]</code></td><td><p>The list of JWT <a href="https://tools.ietf.org/html/rfc7519#section-4.1.3">audiences</a>. that are allowed to access. A JWT containing any of these audiences will be accepted.</p><p>The service name will be accepted if audiences is empty.</p><p>Example:</p><pre><code>audiences:
- bookstore_android.apps.googleusercontent.com
  bookstore_web.apps.googleusercontent.com
</code></pre></td></tr><tr id="JWT.jwks_uri"><td><code>jwksUri</code></td><td><code>string</code></td><td><p>URL of the provider&rsquo;s public key set to validate signature of the JWT. See <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata">OpenID Discovery</a>.</p><p>Optional if the key set document can either (a) be retrieved from <a href="https://openid.net/specs/openid-connect-discovery-1_0.html">OpenID Discovery</a> of the issuer or (b) inferred from the email domain of the issuer (e.g. a Google service account).</p><p>Example: https://www.googleapis.com/oauth2/v1/certs</p></td></tr><tr id="JWT.forward_jwt"><td><code>forwardJwt</code></td><td><code>bool</code></td><td><p>If true, forward the entire base64 encoded JWT in the HTTP request. If false, remove the JWT from the HTTP request and do not forward to the application.</p></td></tr><tr id="JWT.public_key_cache_duration"><td><code>publicKeyCacheDuration</code></td><td><code><a href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#duration">google.protobuf.Duration</a></code></td><td><p>Duration after which the cached public key should be expired. The system wide default is applied if no duration is explicitly specified.</p></td></tr><tr id="JWT.locations"><td><code>locations</code></td><td><code><a href="#JWT.Location">JWT.Location[]</a></code></td><td><p>Zero or more locations to search for JWT in an HTTP request.</p></td></tr><tr id="JWT.jwks_uri_envoy_cluster"><td><code>jwksUriEnvoyCluster</code></td><td><code>string</code></td><td><p>This field is specific for Envoy proxy implementation. It is the cluster name in the Envoy config for the jwks_uri.</p></td></tr></tbody></table></section><h2 id="JWT.Location">JWT.Location</h2><section><p>Defines where to extract the JWT from an HTTP request.</p><p>If no explicit location is specified the following default locations are tried in order:</p><pre><code>1) The Authorization header using the Bearer schema,
   e.g. Authorization: Bearer &lt;token&gt;. (see
   https://tools.ietf.org/html/rfc6750#section-2.1)

2) `access_token` query parameter (see
https://tools.ietf.org/html/rfc6750#section-2.3)
</code></pre><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="JWT.Location.header" class="oneof oneof-start"><td><code>header</code></td><td><code>string (oneof)</code></td><td><p>JWT is sent in a request header. <code>header</code> represents the header name.</p><p>For example, if <code>header=x-goog-iap-jwt-assertion</code>, the header format will be x-goog-iap-jwt-assertion: <JWT>.</p></td></tr><tr id="JWT.Location.query" class="oneof"><td><code>query</code></td><td><code>string (oneof)</code></td><td><p>JWT is sent in a query parameter. <code>query</code> represents the query parameter name.</p><p>For example, <code>query=jwt_token</code>.</p></td></tr></tbody></table></section><h2 id="Quota">Quota</h2><section><p>Specifies a quota to use with quota name and amount.</p><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="Quota.quota"><td><code>quota</code></td><td><code>string</code></td><td><p>The quota name to charge</p></td></tr><tr id="Quota.charge"><td><code>charge</code></td><td><code>int64</code></td><td><p>The quota amount to charge</p></td></tr></tbody></table></section><h2 id="QuotaRule">QuotaRule</h2><section><p>Specifies a rule with list of matches and list of quotas. If any clause matched, the list of quotas will be used.</p><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="QuotaRule.match"><td><code>match</code></td><td><code><a href="#AttributeMatch">AttributeMatch[]</a></code></td><td><p>If empty, match all request. If any of match is true, it is matched.</p></td></tr><tr id="QuotaRule.quotas"><td><code>quotas</code></td><td><code><a href="#Quota">Quota[]</a></code></td><td><p>The list of quotas to charge.</p></td></tr></tbody></table></section><h2 id="QuotaSpec">QuotaSpec</h2><section><p>Determines the quotas used for individual requests.</p><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="QuotaSpec.rules"><td><code>rules</code></td><td><code><a href="#QuotaRule">QuotaRule[]</a></code></td><td><p>A list of Quota rules.</p></td></tr></tbody></table></section><h2 id="QuotaSpecBinding">QuotaSpecBinding</h2><section><p>QuotaSpecBinding defines the binding between QuotaSpecs and one or more IstioService.</p><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="QuotaSpecBinding.services"><td><code>services</code></td><td><code><a href="#IstioService">IstioService[]</a></code></td><td><p>REQUIRED. One or more services to map the listed QuotaSpec onto.</p></td></tr><tr id="QuotaSpecBinding.quota_specs"><td><code>quotaSpecs</code></td><td><code><a href="#QuotaSpecBinding.QuotaSpecReference">QuotaSpecBinding.QuotaSpecReference[]</a></code></td><td><p>REQUIRED. One or more QuotaSpec references that should be mapped to the specified service(s). The aggregate collection of match conditions defined in the QuotaSpecs should not overlap.</p></td></tr></tbody></table></section><h2 id="QuotaSpecBinding.QuotaSpecReference">QuotaSpecBinding.QuotaSpecReference</h2><section><p>QuotaSpecReference uniquely identifies the QuotaSpec used in the Binding.</p><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="QuotaSpecBinding.QuotaSpecReference.name"><td><code>name</code></td><td><code>string</code></td><td><p>REQUIRED. The short name of the QuotaSpec. This is the resource name defined by the metadata name field.</p></td></tr><tr id="QuotaSpecBinding.QuotaSpecReference.namespace"><td><code>namespace</code></td><td><code>string</code></td><td><p>Optional namespace of the QuotaSpec. Defaults to the value of the metadata namespace field.</p></td></tr></tbody></table></section><h2 id="ServiceConfig">ServiceConfig</h2><section><p>Defines the per-service client configuration.</p><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="ServiceConfig.disable_check_calls"><td><code>disableCheckCalls</code></td><td><code>bool</code></td><td><p>If true, do not call Mixer Check.</p></td></tr><tr id="ServiceConfig.disable_report_calls"><td><code>disableReportCalls</code></td><td><code>bool</code></td><td><p>If true, do not call Mixer Report.</p></td></tr><tr id="ServiceConfig.mixer_attributes"><td><code>mixerAttributes</code></td><td><code><a href="#istio.mixer.v1.Attributes">istio.mixer.v1.Attributes</a></code></td><td><p>Send these attributes to Mixer in both Check and Report. This typically includes the &ldquo;destination.service&rdquo; attribute.</p></td></tr><tr id="ServiceConfig.http_api_spec"><td><code>httpApiSpec</code></td><td><code><a href="#HTTPAPISpec">HTTPAPISpec[]</a></code></td><td><p>HTTP API specifications to generate API attributes.</p></td></tr><tr id="ServiceConfig.quota_spec"><td><code>quotaSpec</code></td><td><code><a href="#QuotaSpec">QuotaSpec[]</a></code></td><td><p>Quota specifications to generate quota requirements.</p></td></tr><tr id="ServiceConfig.end_user_authn_spec"><td><code>endUserAuthnSpec</code></td><td><code><a href="#EndUserAuthenticationPolicySpec">EndUserAuthenticationPolicySpec</a></code></td><td><p>End user authentication policy.</p></td></tr></tbody></table></section><h2 id="StringMatch">StringMatch</h2><section><p>Describes how to match a given string in HTTP headers. Match is case-sensitive.</p><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="StringMatch.exact" class="oneof oneof-start"><td><code>exact</code></td><td><code>string (oneof)</code></td><td><p>exact string match</p></td></tr><tr id="StringMatch.prefix" class="oneof"><td><code>prefix</code></td><td><code>string (oneof)</code></td><td><p>prefix-based match</p></td></tr><tr id="StringMatch.regex" class="oneof"><td><code>regex</code></td><td><code>string (oneof)</code></td><td><p>ECMAscript style regex-based match</p></td></tr></tbody></table></section><h2 id="TcpClientConfig">TcpClientConfig</h2><section><p>Defines the client config for TCP.</p><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="TcpClientConfig.transport"><td><code>transport</code></td><td><code><a href="#TransportConfig">TransportConfig</a></code></td><td><p>The transport config.</p></td></tr><tr id="TcpClientConfig.mixer_attributes"><td><code>mixerAttributes</code></td><td><code><a href="#istio.mixer.v1.Attributes">istio.mixer.v1.Attributes</a></code></td><td><p>Default attributes to send to Mixer in both Check and Report. This typically includes &ldquo;destination.ip&rdquo; and &ldquo;destination.uid&rdquo; attributes.</p></td></tr><tr id="TcpClientConfig.disable_check_calls"><td><code>disableCheckCalls</code></td><td><code>bool</code></td><td><p>If set to true, disables mixer check calls.</p></td></tr><tr id="TcpClientConfig.disable_report_calls"><td><code>disableReportCalls</code></td><td><code>bool</code></td><td><p>If set to true, disables mixer check calls.</p></td></tr><tr id="TcpClientConfig.connection_quota_spec"><td><code>connectionQuotaSpec</code></td><td><code><a href="#QuotaSpec">QuotaSpec</a></code></td><td><p>Quota specifications to generate quota requirements. It applies on the new TCP connections.</p></td></tr><tr id="TcpClientConfig.report_interval"><td><code>reportInterval</code></td><td><code><a href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#duration">google.protobuf.Duration</a></code></td><td><p>Specify report interval to send periodical reports for long TCP connections. If not specified, the interval is 10 seconds. This interval should not be less than 1 second, otherwise it will be reset to 1 second.</p></td></tr></tbody></table></section><h2 id="TransportConfig">TransportConfig</h2><section><p>Defines the transport config on how to call Mixer.</p><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="TransportConfig.disable_check_cache"><td><code>disableCheckCache</code></td><td><code>bool</code></td><td><p>The flag to disable check cache.</p></td></tr><tr id="TransportConfig.disable_quota_cache"><td><code>disableQuotaCache</code></td><td><code>bool</code></td><td><p>The flag to disable quota cache.</p></td></tr><tr id="TransportConfig.disable_report_batch"><td><code>disableReportBatch</code></td><td><code>bool</code></td><td><p>The flag to disable report batch.</p></td></tr><tr id="TransportConfig.network_fail_policy"><td><code>networkFailPolicy</code></td><td><code><a href="#TransportConfig.NetworkFailPolicy">TransportConfig.NetworkFailPolicy</a></code></td><td><p>Specifies the policy when failed to connect to Mixer server.</p></td></tr><tr id="TransportConfig.stats_update_interval"><td><code>statsUpdateInterval</code></td><td><code><a href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#duration">google.protobuf.Duration</a></code></td><td><p>Specify refresh interval to write mixer client statistics to Envoy share memory. If not specified, the interval is 10 seconds.</p></td></tr><tr id="TransportConfig.check_cluster"><td><code>checkCluster</code></td><td><code>string</code></td><td><p>Name of the cluster that will forward check calls to a pool of mixer servers. Defaults to &ldquo;mixer_server&rdquo;. By using different names for checkCluster and reportCluster, it is possible to have one set of mixer servers handle check calls, while another set of mixer servers handle report calls.</p><p>NOTE: Any value other than the default &ldquo;mixer_server&rdquo; will require the Istio Grafana dashboards to be reconfigured to use the new name.</p></td></tr><tr id="TransportConfig.report_cluster"><td><code>reportCluster</code></td><td><code>string</code></td><td><p>Name of the cluster that will forward report calls to a pool of mixer servers. Defaults to &ldquo;mixer_server&rdquo;. By using different names for checkCluster and reportCluster, it is possible to have one set of mixer servers handle check calls, while another set of mixer servers handle report calls.</p><p>NOTE: Any value other than the default &ldquo;mixer_server&rdquo; will require the Istio Grafana dashboards to be reconfigured to use the new name.</p></td></tr></tbody></table></section><h2 id="TransportConfig.NetworkFailPolicy">TransportConfig.NetworkFailPolicy</h2><section><p>NetworkFailPolicy defines behavior when network connection failure occurs.</p><table class="enum-values"><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr id="TransportConfig.NetworkFailPolicy.FAIL_OPEN"><td><code>FAIL_OPEN</code></td><td><p>If network fails, request is passed to the backend.</p></td></tr><tr id="TransportConfig.NetworkFailPolicy.FAIL_CLOSE"><td><code>FAIL_CLOSE</code></td><td><p>If network fails, request is rejected.</p></td></tr></tbody></table></section><h2 id="istio.mixer.v1.Attributes">istio.mixer.v1.Attributes</h2><section><p>Attributes represents a set of typed name/value pairs. Many of Mixer&rsquo;s API either consume and/or return attributes.</p><p>Istio uses attributes to control the runtime behavior of services running in the service mesh. Attributes are named and typed pieces of metadata describing ingress and egress traffic and the environment this traffic occurs in. An Istio attribute carries a specific piece of information such as the error code of an API request, the latency of an API request, or the original IP address of a TCP connection. For example:</p><pre><code>request.path: xyz/abc
request.size: 234
request.time: 12:34:56.789 04/17/2017
source.ip: 192.168.0.1
target.service: example
</code></pre><p>A given Istio deployment has a fixed vocabulary of attributes that it understands. The specific vocabulary is determined by the set of attribute producers being used in the deployment. The primary attribute producer in Istio is Envoy, although specialized Mixer adapters and services can also generate attributes.</p><p>The common baseline set of attributes available in most Istio deployments is defined <a href="/v0.5/docs/reference/config/mixer/attribute-vocabulary.html">here</a>.</p><p>Attributes are strongly typed. The supported attribute types are defined by <a href="https://github.com/istio/api/blob/master/mixer/v1/config/descriptor/value_type.proto">ValueType</a>. Each type of value is encoded into one of the so-called transport types present in this message.</p><p>Defines a map of attributes in uncompressed format. Following places may use this message: 1) Configure Istio/Proxy with static per-proxy attributes, such as source.uid. 2) Service IDL definition to extract api attributes for active requests. 3) Forward attributes from client proxy to server proxy for HTTP requests.</p><table class="message-fields"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr id="istio.mixer.v1.Attributes.attributes"><td><code>attributes</code></td><td><code>map&lt;string,<a href="#istio.mixer.v1.Attributes.AttributeValue">istio.mixer.v1.Attributes.AttributeValue</a>&gt;</code></td><td><p>A map of attribute name to its value.</p></td></tr></tbody></table></section></main></div><div class="col-12 col-md-2 d-none d-lg-block"><nav class="toc"><div class="spacer"></div><div class="directory" role="directory"><ul><li><a href="#APIKey">APIKey</a></li><li><a href="#AttributeMatch">AttributeMatch</a></li><li><a href="#EndUserAuthenticationPolicySpec">EndUserAuthenticationPolicySpec</a></li><li><a href="#EndUserAuthenticationPolicySpecBinding">EndUserAuthenticationPolicySpecBinding</a></li><li><a href="#EndUserAuthenticationPolicySpecReference">EndUserAuthenticationPolicySpecReference</a></li><li><a href="#HTTPAPISpec">HTTPAPISpec</a></li><li><a href="#HTTPAPISpecBinding">HTTPAPISpecBinding</a></li><li><a href="#HTTPAPISpecPattern">HTTPAPISpecPattern</a></li><li><a href="#HTTPAPISpecReference">HTTPAPISpecReference</a></li><li><a href="#HttpClientConfig">HttpClientConfig</a></li><li><a href="#IstioService">IstioService</a></li><li><a href="#JWT">JWT</a></li><li><a href="#JWT.Location">JWT.Location</a></li><li><a href="#Quota">Quota</a></li><li><a href="#QuotaRule">QuotaRule</a></li><li><a href="#QuotaSpec">QuotaSpec</a></li><li><a href="#QuotaSpecBinding">QuotaSpecBinding</a></li><li><a href="#QuotaSpecBinding.QuotaSpecReference">QuotaSpecBinding.QuotaSpecReference</a></li><li><a href="#ServiceConfig">ServiceConfig</a></li><li><a href="#StringMatch">StringMatch</a></li><li><a href="#TcpClientConfig">TcpClientConfig</a></li><li><a href="#TransportConfig">TransportConfig</a></li><li><a href="#TransportConfig.NetworkFailPolicy">TransportConfig.NetworkFailPolicy</a></li><li><a href="#istio.mixer.v1.Attributes">istio.mixer.v1.Attributes</a></li></ul></div></nav></div></div></div><div class="footer"><footer><div class="container-fluid"><div class="row"><div class="col-sm-2"></div><nav class=" col-12 col-sm-3" role="navigation"><ul class="first"><li><a class="header" href="/v0.5/docs">Docs</a></li><li><a href="/v0.5/docs/concepts">Concepts</a></li><li><a href="/v0.5/docs/setup">Setup</a></li><li><a href="/v0.5/docs/tasks">Tasks</a></li><li><a href="/v0.5/docs/guides">Guides</a></li><li><a href="/v0.5/docs/reference">Reference</a></li></ul></nav><nav class="col-12 col-sm-3" role="navigation"><ul><li><a class="header" href="/v0.5/help">Help</a></li><li><a href="/v0.5/help/faq.html">FAQ</a></li><li><a href="/v0.5/help/glossary.html">Glossary</a></li><li><a href="/v0.5/help/troubleshooting.html">Troubleshooting</a></li><li><a href="/v0.5/help/bugs.html">Report Bugs</a></li><li><a href="https://github.com/istio/istio.github.io/issues/new?title=Issue with _docs/reference/config/istio.mixer.v1.config.client.html" target="_blank" rel="noopener">Doc Bugs & Gaps</a></li><li><a href="https://github.com/istio/istio.github.io/edit/master/_docs/reference/config/istio.mixer.v1.config.client.html" target="_blank" rel="noopener">Edit This Page</a></li></ul></nav><nav class="col-12 col-sm-3" role="navigation"><ul><li><a class="header" href="/v0.5/community">Community</a></li><li> <a href="https://groups.google.com/forum/#!forum/istio-users" target="_blank" rel="noopener">User</a> | <a href="https://groups.google.com/forum/#!forum/istio-dev" target="_blank" rel="noopener">Dev Mailing Lists</a></li><li><a href="https://twitter.com/IstioMesh" target="_blank" rel="noopener">Twitter</a></li><li><a href="https://stackoverflow.com/questions/tagged/istio" target="_blank" rel="noopener">Stack Overflow</a></li><li><a href="https://github.com/istio/community" target="_blank" rel="noopener">GitHub</a></li><li><a href="https://github.com/istio/community/blob/master/WORKING-GROUPS.md" target="_blank" rel="noopener">Working Groups</a></li></ul></nav></div><div class="row"><div class="col-12"><p class="description text-center" role="contentinfo"> Istio 0.5, Copyright &copy; 2018 Istio Authors<br> Archived on 14-Feb-2018</p></div></div></div></footer></div><script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script> <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js"></script> <script src="https://www.google.com/cse/brand?form=searchbox"></script> <script src="/v0.5/js/misc.js"></script></body></html>
