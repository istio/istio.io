<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Istio News</title><description>Connect, secure, control, and observe services.</description><link>/v1.9</link><image><url>/v1.9/favicons/android-192x192.png</url><link>/v1.9</link></image><category>Service mesh</category><item><title>Istio 1.4.5 发布公告</title><description>
&lt;p>此版本包含一些 bug 修复程序，可提高稳定性。此发行说明描述了 Istio 1.4.4 和 Istio 1.4.5 之间的区别。&lt;/p>
&lt;p>以下修复程序着重于节点重新启动期间发生的各种错误。如果您在使用 Istio CNI，或重启节点，则强烈建议您进行升级。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.4.x/announcing-1.4/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/releases/tag/1.4.5">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.4/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.4.4...1.4.5">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="improvements">改进&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>修复&lt;/strong> 节点重启触发的 bug，该 bug 会导致 Pod 接收到错误的配置（&lt;a href="https://github.com/istio/istio/issues/20676">Issue 20676&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong> &lt;a href="/v1.9/zh/docs/setup/additional-setup/cni/">Istio CNI&lt;/a> 的健壮性。以前，当节点重新启动时，可能会在安装 CNI 之前就创建新的 Pod，从而导致在没有配置 &lt;code>iptables&lt;/code> 规则的情况下创建 Pod（&lt;a href="https://github.com/istio/istio/issues/14327">Issue 14327&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> MCP 指标，现在会包含 MCP 响应的大小，而不只是包含请求（&lt;a href="https://github.com/istio/istio/issues/21049">Issue 21049&lt;/a>）。&lt;/li>
&lt;/ul></description><pubDate>Tue, 18 Feb 2020 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.4.x/announcing-1.4.5/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.4.x/announcing-1.4.5/</guid></item><item><title>对 Istio 1.3 的支持已终止</title><description>&lt;p>如&lt;a href="/v1.9/zh/news/support/announcing-1.3-eol/">先前宣布&lt;/a>的一样, 对 Istio 1.3 的支持现已正式终止。&lt;/p>
&lt;p>我们将不再为 1.3 提供针对安全问题和关键错误的修复程序，因此，如果您尚未升级，
我们建议您升级到最新版本的 Istio (1.9.5)。&lt;/p></description><pubDate>Fri, 14 Feb 2020 00:00:00 +0000</pubDate><link>/v1.9/zh/news/support/announcing-1.3-eol-final/</link><author/><guid isPermaLink="true">/v1.9/zh/news/support/announcing-1.3-eol-final/</guid></item><item><title>ISTIO-SECURITY-2020-002</title><description>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th colspan="2">安全漏洞详情&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>CVE(s)&lt;/td>
&lt;td>
&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-8843">CVE-2020-8843&lt;/a>&lt;br>
&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>CVSS 影响评分&lt;/td>
&lt;td>7.4 &lt;a href="https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV%3aN%2fAC%3aH%2fPR%3aN%2fUI%3aN%2fS%3aU%2fC%3aH%2fI%3aH%2fA%3aN">AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:N&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>受影响的版本&lt;/td>
&lt;td>
1.3 to 1.3.6&lt;br>
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Istio 1.3 到 1.3.6 包含了影响 Mixer 策略检查的漏洞。&lt;/p>
&lt;p>注意：我们在 Istio 1.4.0 以及 Istio 1.3.7 中默认地修复了该漏洞。
Istio 1.4.0 中的一个&lt;a href="https://github.com/istio/istio/issues/12063">问题&lt;/a>及其&lt;a href="https://github.com/istio/istio/pull/17692">修复&lt;/a>是一个非安全性问题。我们在 2019 年 12 月将该问题重新分类为漏洞。
&lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-8843">CVE-2020-8843&lt;/a>&lt;/strong>：在某些情况下，可以绕过特定配置的 Mixer 策略。Istio-proxy 在 ingress 处接受 &lt;code>x-istio-attributes&lt;/code> header，当 Mixer 策略有选择地应用至 source 时，等价于应用至 ingress，其可能会影响策略决策。
为了避免这种情况，Istio 必须启用并以指定方式使用 Mixer 策略。在 Istio 1.3 和 1.4 中，默认情况下未启用此功能。&lt;/p>
&lt;h2 id="mitigation">防范&lt;/h2>
&lt;ul>
&lt;li>对于 Istio 1.3.x 部署: 请升级至 &lt;a href="/v1.9/zh/news/releases/1.3.x/announcing-1.3.7">Istio 1.3.7&lt;/a> 或更高的版本。&lt;/li>
&lt;/ul>
&lt;h2 id="credit">鸣谢&lt;/h2>
&lt;p>Istio 团队在此对 &lt;a href="https://www.splunk.com/">Splunk&lt;/a> 的 Krishnan Anantheswaran 和 Eric Zhang 提供的私人 bug 报告表示感谢。&lt;/p>
&lt;h2 id="漏洞报告">漏洞报告&lt;/h2>
&lt;p>希望大家遵循&lt;a href="/v1.9/zh/about/security-vulnerabilities/">漏洞报告步骤&lt;/a>，以报告任何可能会导致安全漏洞的 bug。</description><pubDate>Tue, 11 Feb 2020 00:00:00 +0000</pubDate><link>/v1.9/zh/news/security/istio-security-2020-002/</link><author/><guid isPermaLink="true">/v1.9/zh/news/security/istio-security-2020-002/</guid><category>CVE</category></item><item><title>ISTIO-SECURITY-2020-001</title><description>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th colspan="2">安全漏洞详情&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>CVE(s)&lt;/td>
&lt;td>
&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-8595">CVE-2020-8595&lt;/a>&lt;br>
&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>CVSS 影响评分&lt;/td>
&lt;td>9.0 &lt;a href="https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV%3aN%2fAC%3aH%2fPR%3aN%2fUI%3aN%2fS%3aC%2fC%3aH%2fI%3aH%2fA%3aH">AV:N/AC:H/PR:N/UI:N/S:C/C:H/I:H/A:H&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>受影响的版本&lt;/td>
&lt;td>
1.3 to 1.3.7&lt;br>
1.4 to 1.4.3&lt;br>
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Istio 1.3 到 1.3.7 以及 1.4 到 1.4.3 容易受到一个新发现漏洞的攻击，其会影响&lt;a href="/v1.9/zh/docs/reference/config/security/istio.authentication.v1alpha1/#Policy">认证策略&lt;/a>：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-8595">CVE-2020-8595&lt;/a>&lt;/strong>：Istio 身份认证策略精确路径匹配逻辑中的一个 bug，允许在没有有效 JWT 令牌的情况下，对资源进行未经授权的访问。此 bug 会影响所有支持基于路径触发规则的 JWT 身份验证策略的 Istio 版本。Istio JWT 过滤器中用于精确路径匹配的逻辑包括查询字符串或片段，而不是在匹配之前将其剥离。这意味着攻击者可以通过在受保护的路径之后添加 &lt;code>？&lt;/code> 或 &lt;code>##&lt;/code> 字符来绕过 JWT 验证。&lt;/li>
&lt;/ul>
&lt;h2 id="mitigation">防范&lt;/h2>
&lt;ul>
&lt;li>对于 Istio 1.3.x 部署: 请升级至 &lt;a href="/v1.9/zh/news/releases/1.3.x/announcing-1.3.8">Istio 1.3.8&lt;/a> 或更高的版本。&lt;/li>
&lt;li>对于 Istio 1.4.x 部署: 请升级至 &lt;a href="/v1.9/zh/news/releases/1.4.x/announcing-1.4.4">Istio 1.4.4&lt;/a> 或更高的版本。&lt;/li>
&lt;/ul>
&lt;h2 id="credit">鸣谢&lt;/h2>
&lt;p>Istio 团队在此对 &lt;a href="https://aspenmesh.com/2H8qf3r">Aspen Mesh&lt;/a> 的原始错误报告和 &lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-8595">CVE-2020-8595&lt;/a> 的修复代码表示感谢。&lt;/p>
&lt;h2 id="漏洞报告">漏洞报告&lt;/h2>
&lt;p>希望大家遵循&lt;a href="/v1.9/zh/about/security-vulnerabilities/">漏洞报告步骤&lt;/a>，以报告任何可能会导致安全漏洞的 bug。</description><pubDate>Tue, 11 Feb 2020 00:00:00 +0000</pubDate><link>/v1.9/zh/news/security/istio-security-2020-001/</link><author/><guid isPermaLink="true">/v1.9/zh/news/security/istio-security-2020-001/</guid><category>CVE</category></item><item><title>Istio 1.4.4 发布公告</title><description>
&lt;p>此版本包含一些错误修复程序，以改善健壮性和用户体验，并修复了&lt;a href="/v1.9/zh/news/security/istio-security-2020-001">我们在 2020 年 2 月 11 日新闻&lt;/a>中描述的安全漏洞。&lt;a href="/v1.9/zh/news/security/istio-security-2020-001">我们在 2020 年 2 月 11 日新闻&lt;/a>中描述的安全漏洞的修复程序。此发行说明描述了 Istio 1.4.3 和 Istio 1.3.4 之间的区别。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.4.x/announcing-1.4/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.4.4"
data-downloadbuttontext="DOWNLOAD 1.4.4"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.4.4)'
data-updatebutton='了解 Istio 1.4.5'
data-updatehref="/v1.9/zh/news/releases/1.4.x/announcing-1.4.5/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.4/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.4.3...1.4.4">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="security-update">安全更新&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>ISTIO-SECURITY-2020-001&lt;/strong> 在 &lt;code>AuthenticationPolicy&lt;/code> 中发现了错误的输入验证。&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-8595">CVE-2020-8595&lt;/a>&lt;/strong>：Istio 的&lt;a href="/v1.9/zh/docs/reference/config/security/istio.authentication.v1alpha1/#Policy">认证策略&lt;/a>精确路径匹配逻辑中的一个 bug，允许在没有效的 JWT 令牌、未经授权的情况下访问资源。&lt;/p>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>修复&lt;/strong> Debian &lt;code>iptables&lt;/code> 脚本的包（&lt;a href="https://github.com/istio/istio/issues/19615">Issue 19615&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 当多次使用同一端口时 Pilot 会生成错误的 Envoy 配置的问题（&lt;a href="https://github.com/istio/istio/issues/19935">Issue 19935&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 运行多个 Pilot 实例可能导致崩溃的问题（&lt;a href="https://github.com/istio/istio/issues/20047">Issue 20047&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 将部署规模收缩为 0 时，一个潜在的从 Pilot 到 Envoy 配置推送洪流的问题（&lt;a href="https://github.com/istio/istio/issues/17957">Issue 17957&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 当 pod 名称中包含点 &lt;code>.&lt;/code> 时，Mixer 无法从 request/response 中获取正确信息的问题（&lt;a href="https://github.com/istio/istio/issues/20028">Issue 20028&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> Pilot 有时候不能正确的将 pod 配置发送至 Envoy 的问题（&lt;a href="https://github.com/istio/istio/issues/19025">Issue 19025&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 启用了 SDS 的 Sidecar 注入器，会覆盖 pod 的 &lt;code>securityContext&lt;/code> 部分，而不是仅对其进行修补的问题（&lt;a href="https://github.com/istio/istio/issues/20409">Issue 20409&lt;/a>）。&lt;/li>
&lt;/ul>
&lt;h2 id="improvements">改进&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>改进&lt;/strong> 与 Google CA 有了更好的兼容性。（Issues &lt;a href="https://github.com/istio/istio/issues/20530">20530&lt;/a>, &lt;a href="https://github.com/istio/istio/issues/20560">20560&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong> 当没有正确配置使用 JWT 的策略时，添加了分析器错误消息（Issues &lt;a href="https://github.com/istio/istio/issues/20884">20884&lt;/a>, &lt;a href="https://github.com/istio/istio/issues/20767">20767&lt;/a>）。&lt;/li>
&lt;/ul></description><pubDate>Tue, 11 Feb 2020 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.4.x/announcing-1.4.4/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.4.x/announcing-1.4.4/</guid></item><item><title>Istio 1.3.8 发布公告</title><description>
&lt;p>此版本包含了&lt;a href="/v1.9/zh/news/security/istio-security-2020-001">我们在 2020 年 2 月 11 日的新闻&lt;/a>中描述的安全漏洞的修复程序。此发行说明描述了 Istio 1.3.7 和 Istio 1.3.8 之间的区别。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.3.x/announcing-1.3/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/releases/tag/1.3.8">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.3/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.3.7...1.3.8">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="security-update">安全更新&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>ISTIO-SECURITY-2020-001&lt;/strong> 在 &lt;code>AuthenticationPolicy&lt;/code> 中发现了错误的输入验证。&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-8595">CVE-2020-8595&lt;/a>&lt;/strong>：Istio 的&lt;a href="/v1.9/zh/docs/reference/config/security/istio.authentication.v1alpha1/#Policy">认证策略&lt;/a>精确路径匹配逻辑中的一个 bug，允许在没有效的 JWT 令牌、未经授权的情况下访问资源。&lt;/p></description><pubDate>Tue, 11 Feb 2020 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.3.x/announcing-1.3.8/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.3.x/announcing-1.3.8/</guid></item><item><title>Istio 1.3.7 发布公告</title><description>
&lt;p>此版本发布了包含提高系统稳定性的 bug 修复程序，下面是 Istio 1.3.6 和 Istio 1.3.7 之间的区别。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.3.x/announcing-1.3/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.3.7"
data-downloadbuttontext="DOWNLOAD 1.3.7"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.3.7)'
data-updatebutton='了解 Istio 1.3.8'
data-updatehref="/v1.9/zh/news/releases/1.3.x/announcing-1.3.8/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.3/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.3.6...1.3.7">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>修复&lt;/strong> 修复了 Citadel 中的根证书轮换的问题，以将 value 从过期的根证书复用到新的根证书中（&lt;a href="https://github.com/istio/istio/issues/19644">Issue 19644&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 修复了遥测的问题，以忽略网关转发属性。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 修复了 sidecar 注入到 pod 后，出口容器无端口的问题（&lt;a href="https://github.com/istio/istio/issues/18594">Issue 18594&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong> 添加了对包含点 &lt;code>.&lt;/code> 的 pod 名的遥测支持（&lt;a href="https://github.com/istio/istio/issues/19015">Issue 19015&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong> 在 Citadel 代理中，添加了对生成 &lt;code>PKCS＃8&lt;/code> 私钥的支持 (&lt;a href="https://github.com/istio/istio/issues/19948">Issue 19948&lt;/a>).&lt;/li>
&lt;/ul>
&lt;h2 id="minor-enhancements">次要改进&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>Improved&lt;/strong> 改进注入模板，以完全指定 &lt;code>securityContext&lt;/code>，从而允许 &lt;code>PodSecurityPolicies&lt;/code> 正确地验证注入的 deployment（&lt;a href="https://github.com/istio/istio/issues/17318">Issue 17318&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong> 添加了对代理容器设置 &lt;code>lifecycle&lt;/code> 的支持。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong> 在 Stackdriver Mixer 适配器中，添加了设置网格 UID 的支持（&lt;a href="https://github.com/istio/istio/issues/17952">Issue 17952&lt;/a>）。&lt;/li>
&lt;/ul>
&lt;h2 id="security-update">安全更新&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="/v1.9/zh/news/security/istio-security-2020-002">&lt;strong>ISTIO-SECURITY-2020-002&lt;/strong>&lt;/a> 由于不正确地接受某些请求 header，导致可绕过 Mixer 策略检查。&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-8843">CVE-2020-8843&lt;/a>&lt;/strong>：在某些情况下，可以绕过特定配置的 Mixer 策略。Istio-proxy 在 ingress 处接受 &lt;code>x-istio-attributes&lt;/code> header，当 Mixer 策略有选择地应用至 source 时，等价于应用至 ingress，其可能会影响策略决策。Istio 1.3 到 1.3.6 容易受到攻击。&lt;/p></description><pubDate>Tue, 04 Feb 2020 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.3.x/announcing-1.3.7/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.3.x/announcing-1.3.7/</guid></item><item><title>对 Istio 1.3 的支持将于 2020 年 2 月 14 日终止</title><description>&lt;p>根据 Istio 的&lt;a href="/v1.9/zh/about/release-cadence/">支持策略&lt;/a>，在下一个 LTS 版本发布后，1.3 版本会继续得到三个月的支持。由于 &lt;a href="/v1.9/zh/news/releases/1.4.x/announcing-1.4/">1.4 版本已于 11 月 14 日发布&lt;/a>，因此对 1.3 版本的支持将于 2020 年 2 月 14 日终止。&lt;/p>
&lt;p>届时，我们将停止为 1.3 提供针对安全问题和关键错误的修复程序，因此我们建议您升级到最新版本的 Istio (1.9.5)。如果您不升级，可能会使自己处于必须在短时间内完成重大升级才能获取关键修复程序的地步。&lt;/p>
&lt;p>我们关心您和您的集群，因此请对自己好一点并进行升级。&lt;/p></description><pubDate>Wed, 15 Jan 2020 00:00:00 +0000</pubDate><link>/v1.9/zh/news/support/announcing-1.3-eol/</link><author/><guid isPermaLink="true">/v1.9/zh/news/support/announcing-1.3-eol/</guid></item><item><title>Istio 1.4.3 发布</title><description>
&lt;p>此版本包含一些错误修复程序，以提高健壮性和用户体验。此发行说明描述了 Istio 1.4.2 和 Istio 1.4.3 之间的区别。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.4.x/announcing-1.4/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.4.3"
data-downloadbuttontext="DOWNLOAD 1.4.3"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.4.3)'
data-updatebutton='了解 Istio 1.4.5'
data-updatehref="/v1.9/zh/news/releases/1.4.x/announcing-1.4.5/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.4/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.4.2...1.4.3">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>修复&lt;/strong> Mixer 创建太多 watches，&lt;code>kube-apiserver&lt;/code> 超载的问题 (&lt;a href="https://github.com/istio/istio/issues/19481">Issue 19481&lt;/a>)。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> pod 包含多个没有暴露端口的容器时的注入问题 (&lt;a href="https://github.com/istio/istio/issues/18594">Issue 18594&lt;/a>)。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 对 &lt;code>regex&lt;/code> 字段验证过于严格的问题 (&lt;a href="https://github.com/istio/istio/pull/19212">Issue 19212&lt;/a>)。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 对 &lt;code>regex&lt;/code> 字段升级的问题 (&lt;a href="https://github.com/istio/istio/pull/19665">Issue 19665&lt;/a>)。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> &lt;code>istioctl&lt;/code> 安装以正确将日志发送到 &lt;code>stderr&lt;/code> 的问题 (&lt;a href="https://github.com/istio/istio/issues/17743">Issue 17743&lt;/a>)。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 无法为 &lt;code>istioctl&lt;/code> 安装指定文件和配置文件的问题 (&lt;a href="https://github.com/istio/istio/issues/19503">Issue 19503&lt;/a>)。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 阻止安装某些对象进行 &lt;code>istioctl&lt;/code> 安装的问题 (&lt;a href="https://github.com/istio/istio/issues/19371">Issue 19371&lt;/a>)。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 阻止在 JWT 策略中将某些 JWKS 与 EC 密钥一起使用的问题 (&lt;a href="https://github.com/istio/istio/issues/19424">Issue 19424&lt;/a>)。&lt;/li>
&lt;/ul>
&lt;h2 id="improvements">增强&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>增强&lt;/strong> 注入模板以完全指定 &lt;code>securityContext&lt;/code>，允许 &lt;code>PodSecurityPolicies&lt;/code> 正确验证注入的部署 (&lt;a href="https://github.com/istio/istio/issues/17318">Issue 17318&lt;/a>)。&lt;/li>
&lt;li>&lt;strong>增强&lt;/strong> 遥测 v2 配置，以支持 Stackdriver 和向前兼容性 (&lt;a href="https://github.com/istio/installer/pull/591">Issue 591&lt;/a>)。&lt;/li>
&lt;li>&lt;strong>增强&lt;/strong> &lt;code>istioctl&lt;/code> 安装的输出 (&lt;a href="https://github.com/istio/istio/issues/19451">Issue 19451&lt;/a>)。&lt;/li>
&lt;li>&lt;strong>增强&lt;/strong> &lt;code>istioctl&lt;/code> 安装，可以在发生故障时设置退出代码 (&lt;a href="https://github.com/istio/istio/issues/19747">Issue 19747&lt;/a>)。&lt;/li>
&lt;/ul></description><pubDate>Wed, 08 Jan 2020 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.4.x/announcing-1.4.3/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.4.x/announcing-1.4.3/</guid></item><item><title>ISTIO-SECURITY-2019-007</title><description>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th colspan="2">安全漏洞详情&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>CVE(s)&lt;/td>
&lt;td>
&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-18801">CVE-2019-18801&lt;/a>&lt;br>
&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-18802">CVE-2019-18802&lt;/a>&lt;br>
&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>CVSS 影响评分&lt;/td>
&lt;td>9.0 &lt;a href="https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=CVSS%3a3.0%2fAV%3aN%2fAC%3aH%2fPR%3aN%2fUI%3aN%2fS%3aC%2fC%3aH%2fI%3aH%2fA%3aH">CVSS:3.0/AV:N/AC:H/PR:N/UI:N/S:C/C:H/I:H/A:H&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>受影响的版本&lt;/td>
&lt;td>
1.2 to 1.2.9&lt;br>
1.3 to 1.3.5&lt;br>
1.4 to 1.4.1&lt;br>
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Envoy 及 Istio 容易受到基于两个新发现的漏洞的攻击:&lt;/p>
&lt;ul>
&lt;li>&lt;p>&lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-18801">CVE-2019-18801&lt;/a>&lt;/strong>：此漏洞以处理带有大量 HTTP/2 header 下游请求的方式影响 Envoy 的 HTTP/1 编解码器。利用此漏洞可能会导致拒绝服务、特权升级或信息泄露。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-18802">CVE-2019-18802&lt;/a>&lt;/strong>：HTTP/1 编解码器未能正确修剪 header 值的尾缀空格。这可能使攻击者可以绕开 Istio 的策略，导致特权升级或信息泄露。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="impact-and-detection">影响范围&lt;/h2>
&lt;p>Istio gateway 和 sidecar 都容易受到此问题的影响。如果您正在运行受影响的发行版之一，其中下游的请求为 HTTP/2，而上游的请求为 HTTP/1，则您的群集很容易受到攻击。我们估计很多集群都是这样。&lt;/p>
&lt;h2 id="mitigation">防范&lt;/h2>
&lt;ul>
&lt;li>对于 Istio 1.2.x 部署: 请升级至 &lt;a href="/v1.9/zh/news/releases/1.2.x/announcing-1.2.10">Istio 1.2.10&lt;/a> 或更高的版本。&lt;/li>
&lt;li>对于 Istio 1.3.x 部署: 请升级至 &lt;a href="/v1.9/zh/news/releases/1.3.x/announcing-1.3.6">Istio 1.3.6&lt;/a> 或更高的版本。&lt;/li>
&lt;li>对于 Istio 1.4.x 部署: 请升级至 &lt;a href="/v1.9/zh/news/releases/1.4.x/announcing-1.4.2">Istio 1.4.2&lt;/a> 或更高的版本。&lt;/li>
&lt;/ul>
&lt;h2 id="漏洞报告">漏洞报告&lt;/h2>
&lt;p>希望大家遵循&lt;a href="/v1.9/zh/about/security-vulnerabilities/">漏洞报告步骤&lt;/a>，以报告任何可能会导致安全漏洞的 bug。</description><pubDate>Tue, 10 Dec 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/security/istio-security-2019-007/</link><author/><guid isPermaLink="true">/v1.9/zh/news/security/istio-security-2019-007/</guid><category>CVE</category></item><item><title>Istio 1.4.2 发布公告</title><description>
&lt;p>此版本包含了&lt;a href="/v1.9/zh/news/security/istio-security-2019-007">我们在 2019 年 12 月 10 日新闻&lt;/a>中描述的安全漏洞的修复程序。此发行说明描述了 Istio 1.4.1 和 Istio 1.4.2 之间的区别。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.4.x/announcing-1.4/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.4.2"
data-downloadbuttontext="DOWNLOAD 1.4.2"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.4.2)'
data-updatebutton='了解 Istio 1.4.5'
data-updatehref="/v1.9/zh/news/releases/1.4.x/announcing-1.4.5/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.4/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.4.1...1.4.2">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="security-update">安全更新&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>ISTIO-SECURITY-2019-007&lt;/strong> 在 Envoy 中发现了堆溢出和不正确的输入验证。&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-18801">CVE-2019-18801&lt;/a>&lt;/strong>：修复了一个影响 Envoy 处理大型 HTTP/2 请求 header 的漏洞。成功利用此漏洞可能导致拒绝服务、特权提升或信息泄露。&lt;/p>
&lt;p>&lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-18802">CVE-2019-18802&lt;/a>&lt;/strong>：修复了 HTTP/1 header 值后的空格引起的漏洞，该漏洞可能使攻击者绕过 Istio 的策略检查，从而可能导致信息泄露或特权提升。&lt;/p></description><pubDate>Tue, 10 Dec 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.4.x/announcing-1.4.2/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.4.x/announcing-1.4.2/</guid></item><item><title>Istio 1.3.6 发布公告</title><description>
&lt;p>此版本包含了&lt;a href="/v1.9/zh/news/security/istio-security-2019-007">我们在 2019 年 12 月 10 日新闻&lt;/a>中描述的安全漏洞的修复程序。此发行说明描述了 Istio 1.3.5 和 Istio 1.3.6 之间的区别。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.3.x/announcing-1.3/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.3.6"
data-downloadbuttontext="DOWNLOAD 1.3.6"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.3.6)'
data-updatebutton='了解 Istio 1.3.8'
data-updatehref="/v1.9/zh/news/releases/1.3.x/announcing-1.3.8/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.3/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.3.5...1.3.6">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="security-update">安全更新&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>ISTIO-SECURITY-2019-007&lt;/strong> 在 Envoy 中发现了堆溢出和不正确的输入验证。&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-18801">CVE-2019-18801&lt;/a>&lt;/strong>：修复了一个影响 Envoy 处理大型 HTTP/2 请求 header 的漏洞。成功利用此漏洞可能导致拒绝服务、特权提升或信息泄露。&lt;/p>
&lt;p>&lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-18802">CVE-2019-18802&lt;/a>&lt;/strong>：修复了 HTTP/1 header 值后的空格引起的漏洞，该漏洞可能使攻击者绕过 Istio 的策略检查，从而可能导致信息泄露或特权提升。&lt;/p>
&lt;h2 id="bug-fix">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>&lt;p>&lt;strong>修复&lt;/strong> 使用 headless TCP 服务时，为代理的 IP 地址生成重复的侦听器的问题。（&lt;a href="https://github.com/istio/istio/issues/17748">Issue 17748&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>修复&lt;/strong> HTTP 相关指标中的 &lt;code>destination_service&lt;/code> 标签不正确地退回到 &lt;code>request.host&lt;/code>，可能导致 ingress 流量的指标基数激增的问题。（&lt;a href="https://github.com/istio/istio/issues/18818">Issue 18818&lt;/a>）&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="minor-enhancements">小的增强&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>改进&lt;/strong> Mixer 的减载选项。增加了对 &lt;code>每秒请求数&lt;/code> 阈值的支持，以实现减少负载。该选项使运维人员可以在低流量情况下关闭 Mixer 的减载。&lt;/li>
&lt;/ul></description><pubDate>Tue, 10 Dec 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.3.x/announcing-1.3.6/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.3.x/announcing-1.3.6/</guid></item><item><title>Istio 1.2.10 发布公告</title><description>
&lt;p>此版本包含了&lt;a href="/v1.9/zh/news/security/istio-security-2019-007">我们在 2019 年 12 月 10 日新闻&lt;/a>中描述的安全漏洞的修复程序。此发行说明描述了 Istio 1.2.9 和 Istio 1.2.10 之间的区别。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.2.x/announcing-1.2/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/releases/tag/1.2.10">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.2/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.2.9...1.2.10">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="security-update">安全更新&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>ISTIO-SECURITY-2019-007&lt;/strong> 在 Envoy 中发现了堆溢出和不正确的输入验证。&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-18801">CVE-2019-18801&lt;/a>&lt;/strong>：修复了一个影响 Envoy 处理大型 HTTP/2 请求 header 的漏洞。成功利用此漏洞可能导致拒绝服务、特权提升或信息泄露。&lt;/p>
&lt;p>&lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-18802">CVE-2019-18802&lt;/a>&lt;/strong>：修复了 HTTP/1 header 值后的空格引起的漏洞，该漏洞可能使攻击者绕过 Istio 的策略检查，从而可能导致信息泄露或特权提升。&lt;/p>
&lt;h2 id="bug-fix">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>添加对 Citadel 的支持以自动轮转根证书。（&lt;a href="https://github.com/istio/istio/issues/17059">Issue 17059&lt;/a>）&lt;/li>
&lt;/ul></description><pubDate>Tue, 10 Dec 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.2.x/announcing-1.2.10/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.2.x/announcing-1.2.10/</guid></item><item><title>Istio 1.4.1 发布</title><description>
&lt;p>此次发布包括了一些 bug 修复来提升健壮性。此次发布的注意事项描述了 Istio 1.4.0 和 Istio 1.4.1 之间的差异。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.4.x/announcing-1.4/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.4.1"
data-downloadbuttontext="DOWNLOAD 1.4.1"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.4.1)'
data-updatebutton='了解 Istio 1.4.5'
data-updatehref="/v1.9/zh/news/releases/1.4.x/announcing-1.4.5/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.4/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.4.0...1.4.1">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>修复&lt;/strong> Windows 安装 &lt;code>istioctl&lt;/code> 的问题 (&lt;a href="https://github.com/istio/istio/pull/19020">Issue 19020&lt;/a>).&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 当在 Kubernetes Ingress 中使用 cert-manager 的一个路由匹配顺序问题 (&lt;a href="https://github.com/istio/istio/pull/19000">Issue 19000&lt;/a>).&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 当 pod 名称包含 &lt;code>.&lt;/code> 时 Mixer 的 source namespace 属性配置错误的问题 (&lt;a href="https://github.com/istio/istio/issues/19015">Issue 19015&lt;/a>).&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> Galley 生成了过多的指标数据的问题 (&lt;a href="https://github.com/istio/istio/issues/19165">Issue 19165&lt;/a>).&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 使追踪服务的端口恢复为监听 80 (&lt;a href="https://github.com/istio/istio/issues/19227">Issue 19227&lt;/a>).&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 缺失 &lt;code>istioctl&lt;/code> 自动补齐文件的问题 (&lt;a href="https://github.com/istio/istio/issues/19297">Issue 19297&lt;/a>).&lt;/li>
&lt;/ul></description><pubDate>Thu, 05 Dec 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.4.x/announcing-1.4.1/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.4.x/announcing-1.4.1/</guid></item><item><title>对 Istio 1.2 的支持将于 2019 年 12 月 13 日终止</title><description>&lt;p>根据 Istio 的&lt;a href="/v1.9/zh/about/release-cadence/">支持策略&lt;/a>，在下一个 LTS 版本发布后，1.2 版本会继续得到三个月的支持。由于 &lt;a href="/v1.9/zh/news/releases/1.3.x/announcing-1.3/">1.3 已经在 9 月 12 日发布&lt;/a>，对 1.2 版本的支持将于 2019 年 12 月 13 日终止。&lt;/p>
&lt;p>届时，我们将停止为 1.2 提供针对安全问题和关键错误的修复程序，因此我们建议您升级到最新版本的 Istio (1.9.5)。如果您不这样做，可能会使自己处于必须在短时间内完成重大升级才能获取关键修复程序的地步。&lt;/p>
&lt;p>我们非常关注您和您的集群，所以请参照我们的建议并进行升级。&lt;/p></description><pubDate>Mon, 11 Nov 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/support/announcing-1.2-eol/</link><author/><guid isPermaLink="true">/v1.9/zh/news/support/announcing-1.2-eol/</guid></item><item><title>Istio 1.3.5 发布公告</title><description>
&lt;p>此版本包含&lt;a href="/v1.9/zh/news/security/istio-security-2019-006">我们在 2019 年 11 月 11 日的新闻中&lt;/a>描述的安全漏洞修复程序以及提高健壮性的程序。此发行说明描述了 Istio 1.3.4 和 Istio 1.3.5 之间的区别。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.3.x/announcing-1.3/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.3.5"
data-downloadbuttontext="DOWNLOAD 1.3.5"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.3.5)'
data-updatebutton='了解 Istio 1.3.8'
data-updatehref="/v1.9/zh/news/releases/1.3.x/announcing-1.3.8/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.3/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.3.4...1.3.5">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="security-update">安全更新&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>ISTIO-SECURITY-2019-006&lt;/strong> 在 Envoy 中发现了一个 DoS 漏洞。&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-18817">CVE-2019-18817&lt;/a>&lt;/strong>：在 Istio 中存在这种情况，如果将 &lt;code>continue_on_listener_filters_timeout&lt;/code> 选项设置为 True，则可导致 Envoy 陷入死循环。可以利用此漏洞进行 DoS 攻击。如果应用了&lt;a href="/v1.9/zh/news/security/istio-security-2019-006">我们在 2019 年 11 月 11 日的新闻中&lt;/a>提到的防范措施，则在升级到 Istio 1.3.5 或更高版本后，可以删除该防范措施。&lt;/p>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>修复&lt;/strong> TCP headless 服务的 Envoy 监听器配置。（&lt;a href="https://github.com/istio/istio/issues/17748">Issue #17748&lt;/a>）&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 即使将 deployment 缩放到 0 个副本，过时的 endpoint 也会保留的问题。（&lt;a href="https://github.com/istio/istio/issues/14336">Issue #14436&lt;/a>）&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 生成无效的 Envoy 配置时，Pilot 不会再崩溃。（&lt;a href="https://github.com/istio/istio/issues/17266">Issue 17266&lt;/a>）&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 没有为与 BlackHole/Passthrough 集群相关的 TCP 指标填充 &lt;code>destination_service_name&lt;/code> 标签的问题。（&lt;a href="https://github.com/istio/istio/issues/17271">Issue 17271&lt;/a>）&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 调用遥测过滤器链时遥测不报告 BlackHole/Passthrough 群集指标的问题。集群指标的问题。该问题会在为外部服务配置显示的 &lt;code>ServiceEntries&lt;/code> 时发生的。
（&lt;a href="https://github.com/istio/istio/issues/17759">Issue 17759&lt;/a>）&lt;/li>
&lt;/ul>
&lt;h2 id="minor-enhancements">小的增强&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>添加&lt;/strong> 支持 Citadel 定期检查根证书的剩余寿命并轮换即将到期的根证书。（&lt;a href="https://github.com/istio/istio/issues/17059">Issue 17059&lt;/a>）&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong> 为 Pilot 添加布尔型环境变量 &lt;code>PILOT_BLOCK_HTTP_ON_443&lt;/code>。如果启用，此标志将阻止 HTTP 服务在端口 443 上运行，以防止与外部 HTTP 服务发生冲突。默认情况下禁用此功能。（&lt;a href="https://github.com/istio/istio/issues/16458">Issue 16458&lt;/a>）&lt;/li>
&lt;/ul></description><pubDate>Mon, 11 Nov 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.3.x/announcing-1.3.5/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.3.x/announcing-1.3.5/</guid></item><item><title>ISTIO-SECURITY-2019-006</title><description>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th colspan="2">安全漏洞详情&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>CVE(s)&lt;/td>
&lt;td>
&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>CVSS 影响评分&lt;/td>
&lt;td> &lt;a href="https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=">&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>受影响的版本&lt;/td>
&lt;td>
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="context">内容&lt;/h2>
&lt;p>Envoy 以及随后的 Istio 容易受到以下 DoS 攻击。
如果选项 &lt;code>continue_on_listener_filters_timeout&lt;/code> 设置为 &lt;code>True&lt;/code>，则可以在 Envoy 中触发无限循环。自从 Istio 1.3 中引入协议检测功能以来，Istio 就是这种情况。
远程攻击者可能会轻易触发该漏洞，从而有效耗尽 Envoy 的 CPU 资源并造成拒绝服务攻击。&lt;/p>
&lt;h2 id="impact-and-detection">影响范围&lt;/h2>
&lt;p>Istio gateway 和 sidecar 都容易受到此问题的影响。如果您运行的 Istio 是受影响的发行版本，那么您的集群容易受到攻击。&lt;/p>
&lt;h2 id="mitigation">防范&lt;/h2>
&lt;ul>
&lt;li>&lt;p>解决方法: 通过自定义安装 Istio 可以防止对该漏洞的利用(如&lt;a href="/v1.9/zh/docs/reference/config/installation-options/#pilot-options">安装选项&lt;/a>中所述)，在使用 Helm 时添加以下选项:&lt;/p>
&lt;pre>&lt;code class='language-plain' data-expandlinks='true' data-repo='istio' >--set pilot.env.PILOT_INBOUND_PROTOCOL_DETECTION_TIMEOUT=0s --set global.proxy.protocolDetectionTimeout=0s
&lt;/code>&lt;/pre>&lt;/li>
&lt;li>&lt;p>对于 Istio 1.3.x 部署: 更新至 &lt;a href="/v1.9/zh/news/releases/1.3.x/announcing-1.3.5">Istio 1.3.5&lt;/a> 或者更新的版本。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="漏洞报告">漏洞报告&lt;/h2>
&lt;p>希望大家遵循&lt;a href="/v1.9/zh/about/security-vulnerabilities/">漏洞报告步骤&lt;/a>，以报告任何可能会导致安全漏洞的 bug。</description><pubDate>Thu, 07 Nov 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/security/istio-security-2019-006/</link><author/><guid isPermaLink="true">/v1.9/zh/news/security/istio-security-2019-006/</guid><category>CVE</category></item><item><title>发布 Istio 1.2.9</title><description>
&lt;p>我们很高兴地宣布 Istio 1.2.9 现在是可用的，详情请查看如下更改。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.2.x/announcing-1.2/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.2.9"
data-downloadbuttontext="DOWNLOAD 1.2.9"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.2.9)'
data-updatebutton='了解 Istio 1.2.10'
data-updatehref="/v1.9/zh/news/releases/1.2.x/announcing-1.2.10/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.2/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.2.8...1.2.9">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>修复代理启动的先决条件。&lt;/li>
&lt;/ul>
&lt;h2 id="features">特点&lt;/h2>
&lt;ul>
&lt;li>添加了对 &lt;code>Citadel&lt;/code> 自动更换根证书的支持 (&lt;a href="https://github.com/istio/istio/issues/17059">Issue 17059&lt;/a>)。&lt;/li>
&lt;/ul></description><pubDate>Wed, 06 Nov 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.2.x/announcing-1.2.9/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.2.x/announcing-1.2.9/</guid></item><item><title>Istio 1.3.4 发布公告</title><description>
&lt;p>此版本发布了包含提高系统稳定性的错误修复程序，下面是 Istio 1.3.3 和 Istio 1.3.4 之间的区别。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.3.x/announcing-1.3/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.3.4"
data-downloadbuttontext="DOWNLOAD 1.3.4"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.3.4)'
data-updatebutton='了解 Istio 1.3.8'
data-updatehref="/v1.9/zh/news/releases/1.3.x/announcing-1.3.8/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.3/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.3.3...1.3.4">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>修复&lt;/strong> Google 节点代理提供程序中的崩溃错误。（&lt;a href="https://github.com/istio/istio/pull/18260">Pull Request #18296&lt;/a>）&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> Prometheus 注释，并将 Jaeger 更新为 1.14。（&lt;a href="https://github.com/istio/istio/pull/18274">Pull Request #18274&lt;/a>）&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 入站侦听器重载间隔为 5 分钟。(&lt;a href="https://github.com/istio/istio/issues/18088">Issue #18138&lt;/a>）&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 密钥和证书轮换的验证问题。（&lt;a href="https://github.com/istio/istio/issues/17718">Issue #17718&lt;/a>）&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 无效的内部资源垃圾回收问题。（&lt;a href="https://github.com/istio/istio/issues/16818">Issue #16818&lt;/a>）&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 在失败时不更新 webhook 的问题。（&lt;a href="https://github.com/istio/istio/pull/17820">Pull Request #17820&lt;/a>）&lt;/li>
&lt;li>&lt;strong>Improved&lt;/strong> OpenCensus 跟踪适配器的性能问题。(&lt;a href="https://github.com/istio/istio/issues/18042">Issue #18042&lt;/a>）&lt;/li>
&lt;/ul>
&lt;h2 id="minor-enhancements">小的增强&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>增强&lt;/strong> SDS 服务的可靠性。（&lt;a href="https://github.com/istio/istio/issues/17409">Issue #17409&lt;/a>, &lt;a href="https://github.com/istio/istio/issues/17905">Issue #17905&lt;/a>）&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong> 稳定版本的故障域标签。（&lt;a href="https://github.com/istio/istio/pull/17755">Pull Request #17755&lt;/a>）&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong> 更新与升级相关的全局网格策略。（&lt;a href="https://github.com/istio/istio/pull/17033">Pull Request #17033&lt;/a>）&lt;/li>
&lt;/ul></description><pubDate>Fri, 01 Nov 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.3.x/announcing-1.3.4/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.3.x/announcing-1.3.4/</guid></item><item><title>发布 Istio 1.2.8</title><description>
&lt;p>我们很高兴地宣布 Istio 1.2.8 现在是可用的，详情请查看如下更改。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.2.x/announcing-1.2/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.2.8"
data-downloadbuttontext="DOWNLOAD 1.2.8"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.2.8)'
data-updatebutton='了解 Istio 1.2.10'
data-updatehref="/v1.9/zh/news/releases/1.2.x/announcing-1.2.10/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.2/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.2.7...1.2.8">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>&lt;p>修复了我们在 &lt;a href="/v1.9/zh/news/security/istio-security-2019-005">10 月 8 日发布的安全性错误&lt;/a>，错误地计算了 &lt;code>HTTP header&lt;/code> 和 &lt;code>body sizes&lt;/code> (&lt;a href="https://github.com/istio/istio/issues/17735">Issue 17735&lt;/a>)。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了一个较小的错误，将部署减小到 0 个副本时，&lt;code>endpoint&lt;/code> 仍保留在 &lt;code>/clusters&lt;/code> 中 (&lt;a href="https://github.com/istio/istio/issues/14336">Issue 14336&lt;/a>)。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了 &lt;code>Helm&lt;/code> 的升级过程，以正确的方式更新对 &lt;code>mutual TLS&lt;/code> 的网格策略 (&lt;a href="https://github.com/istio/istio/issues/16170">Issue 16170&lt;/a>)。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了在目标服务中对 &lt;code>TCP&lt;/code> 连接的打开和关闭度量标准的不一致性问题 (&lt;a href="https://github.com/istio/istio/issues/17234">Issue 17234&lt;/a>)。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了 &lt;code>Istio&lt;/code> 的 &lt;code>secret&lt;/code> 清除机制 (&lt;a href="https://github.com/istio/istio/issues/17122">Issue 17122&lt;/a>)。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了 &lt;code>Mixer Stackdriver&lt;/code> 适配器的编码过程，以处理无效的 &lt;code>UTF-8&lt;/code> (&lt;a href="https://github.com/istio/istio/issues/16966">Issue 16966&lt;/a>)。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="features">特点&lt;/h2>
&lt;ul>
&lt;li>新增了 &lt;code>pilot&lt;/code> 对新的故障域标签：&lt;code>zone&lt;/code> 和 &lt;code>region&lt;/code> 的支持。&lt;/li>
&lt;/ul></description><pubDate>Wed, 23 Oct 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.2.x/announcing-1.2.8/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.2.x/announcing-1.2.8/</guid></item><item><title>对 Istio 1.1 的支持已终止</title><description>&lt;p>正如&lt;a href="/v1.9/zh/news/support/announcing-1.1-eol/">之前宣布的&lt;/a>一样，对 Istio 1.1 的支持现已正式宣布终止。&lt;/p>
&lt;p>由于我们在 &lt;a href="/v1.9/zh/news/security/istio-security-2019-005">10 月 8 日发布之后&lt;/a>了解到该版本存在安全漏洞，而该漏洞仍处于 1.1 版本支持的期限内，因此我们决定将 1.1 支持期限延长至原始公告之后并发布 &lt;a href="/v1.9/zh/news/releases/1.1.x/announcing-1.1.16">1.1.16&lt;/a>。然后，我们发现此版本引入了 &lt;a href="https://github.com/istio/istio/issues/17735">HTTP header 计算大小的错误&lt;/a>因此我们决定最后发布一个补丁程序 &lt;a href="/v1.9/zh/news/releases/1.1.x/announcing-1.1.17">1.1.17&lt;/a> 发布之后，将会彻底关闭 1.1 系列版本。&lt;/p>
&lt;p>届时，我们将不会再针对安全和关键错误的修复等问题移植回 1.1，因此，我们衷心希望您将现有集群升级到最新版本的 Istio (1.9.5)。&lt;/p></description><pubDate>Mon, 21 Oct 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/support/announcing-1.1-eol-final/</link><author/><guid isPermaLink="true">/v1.9/zh/news/support/announcing-1.1-eol-final/</guid></item><item><title>Istio 1.1.17 发布公告</title><description>
&lt;p>我们非常高兴的宣布 Istio 1.1.17 已经可用。这将是最后一个 1.1.x 的补丁版本。请浏览下面的变更说明。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/releases/tag/1.1.17">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.1/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.1.16...1.1.17">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>修复了一个由 &lt;a href="/v1.9/zh/news/security/istio-security-2019-005">10 月 8 日安全补丁&lt;/a>引入的 bug，它错误地计算 HTTP 头和请求体大小（&lt;a href="https://github.com/istio/istio/issues/17735">Issue 17735&lt;/a>）。&lt;/li>
&lt;/ul></description><pubDate>Mon, 21 Oct 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1.17/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1.17/</guid></item><item><title>Istio 1.3.3 发布公告</title><description>
&lt;p>此版本包含一些错误修复程序，以提高稳定性。此发行说明描述了 Istio 1.3.2 和 Istio 1.3.3 之间的区别。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.3.x/announcing-1.3/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.3.3"
data-downloadbuttontext="DOWNLOAD 1.3.3"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.3.3)'
data-updatebutton='了解 Istio 1.3.8'
data-updatehref="/v1.9/zh/news/releases/1.3.x/announcing-1.3.8/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.3/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.3.2...1.3.3">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>Fixed&lt;/strong> 当使用 &lt;code>istioctl x manifest apply&lt;/code> 时导致 Prometheus 安装不正确的问题。（&lt;a href="https://github.com/istio/istio/issues/16970">Issue 16970&lt;/a>）&lt;/li>
&lt;li>&lt;strong>Fixed&lt;/strong> 本地负载均衡不能从本地节点读取位置信息的错误。（&lt;a href="https://github.com/istio/istio/issues/17337">Issue 17337&lt;/a>）&lt;/li>
&lt;li>&lt;strong>Fixed&lt;/strong> 当侦听器在没有任何用户配置更改的情况下进行重新配置时，Envoy 代理会删除长连接。（&lt;a href="https://github.com/istio/istio/issues/17383">Issue 17383&lt;/a>，&lt;a href="https://github.com/istio/istio/issues/17139">Issue 17139&lt;/a>）&lt;/li>
&lt;li>&lt;strong>Fixed&lt;/strong> &lt;code>istioctl x analyze&lt;/code> 命令的崩溃问题。（&lt;a href="https://github.com/istio/istio/issues/17449">Issue 17449&lt;/a>）&lt;/li>
&lt;li>&lt;strong>Fixed&lt;/strong> &lt;code>istioctl x manifest diff&lt;/code> 命令中 ConfigMaps 中的差异文本块。（&lt;a href="https://github.com/istio/istio/issues/16828">Issue 16828&lt;/a>）&lt;/li>
&lt;li>&lt;strong>Fixed&lt;/strong> Envoy proxy 的分段错误崩溃问题。（&lt;a href="https://github.com/istio/istio/issues/17699">Issue 17699&lt;/a>）&lt;/li>
&lt;/ul></description><pubDate>Mon, 14 Oct 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.3.x/announcing-1.3.3/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.3.x/announcing-1.3.3/</guid></item><item><title>ISTIO-SECURITY-2019-005</title><description>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th colspan="2">安全漏洞详情&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>CVE(s)&lt;/td>
&lt;td>
&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-15226">CVE-2019-15226&lt;/a>&lt;br>
&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>CVSS 影响评分&lt;/td>
&lt;td>7.5 &lt;a href="https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=CVSS%3a3.0%2fAV%3aN%2fAC%3aL%2fPR%3aN%2fUI%3aN%2fS%3aU%2fC%3aN%2fI%3aN%2fA%3aH">CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>受影响的版本&lt;/td>
&lt;td>
1.1 to 1.1.15&lt;br>
1.2 to 1.2.6&lt;br>
1.3 to 1.3.1&lt;br>
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="context">内容&lt;/h2>
&lt;p>Envoy 和 Istio 容易受到以下 DoS 攻击。收到每个传入的请求后,Envoy 将遍历请求标头，以保证请求头的总大小保持在最大限制以下。远程攻击者可能会制作一个请求，该请求的 header 的大小不会超过最大限制，但包含成千上万个小的 header，来消耗 CPU 并导致拒绝服务攻击。&lt;/p>
&lt;h2 id="impact-and-detection">影响范围&lt;/h2>
&lt;p>Istio gateway 和 sidecar 都容易受到此问题的影响。如果您运行的 Istio 是受影响的发行版本，那么您的集群容易受到攻击。&lt;/p>
&lt;h2 id="mitigation">防范&lt;/h2>
&lt;ul>
&lt;li>对于 Istio 1.1.x 部署: 更新所有控制平面组件(Pilot、Mixer、Citadel、和 Galley) 然后&lt;a href="/v1.9/zh/docs/setup/upgrade/cni-helm-upgrade/#sidecar-upgrade">更新数据平面&lt;/a>的版本不低于 &lt;a href="/v1.9/zh/news/releases/1.1.x/announcing-1.1.16">Istio 1.1.16&lt;/a>。&lt;/li>
&lt;li>对于 Istio 1.2.x 部署: 更新所有控制平面组件(Pilot、Mixer、Citadel、和 Galley) 然后&lt;a href="/v1.9/zh/docs/setup/upgrade/cni-helm-upgrade/#sidecar-upgrade">更新数据平面&lt;/a>的版本不低于 &lt;a href="/v1.9/zh/news/releases/1.2.x/announcing-1.2.7">Istio 1.2.7&lt;/a>。&lt;/li>
&lt;li>对于 Istio 1.3.x 部署: 更新所有控制平面组件(Pilot、Mixer、Citadel、和 Galley) 然后&lt;a href="/v1.9/zh/docs/setup/upgrade/cni-helm-upgrade/#sidecar-upgrade">更新数据平面&lt;/a>的版本不低于 &lt;a href="/v1.9/zh/news/releases/1.3.x/announcing-1.3.2">Istio 1.3.2&lt;/a>。&lt;/li>
&lt;/ul>
&lt;h2 id="漏洞报告">漏洞报告&lt;/h2>
&lt;p>希望大家遵循&lt;a href="/v1.9/zh/about/security-vulnerabilities/">漏洞报告步骤&lt;/a>，以报告任何可能会导致安全漏洞的 bug。</description><pubDate>Tue, 08 Oct 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/security/istio-security-2019-005/</link><author/><guid isPermaLink="true">/v1.9/zh/news/security/istio-security-2019-005/</guid><category>CVE</category></item><item><title>Istio 1.3.2 发布公告</title><description>
&lt;p>我们很高兴地宣布 Istio 1.3.2 发布，请查看下面的更改说明。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.3.x/announcing-1.3/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.3.2"
data-downloadbuttontext="DOWNLOAD 1.3.2"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.3.2)'
data-updatebutton='了解 Istio 1.3.8'
data-updatehref="/v1.9/zh/news/releases/1.3.x/announcing-1.3.8/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.3/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.3.1...1.3.2">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="security-update">安全更新&lt;/h2>
&lt;p>此版本包含我们 &lt;a href="/v1.9/zh/news/security/istio-security-2019-005">2019 年 10 月 8 日新闻发布&lt;/a>中所述的安全漏洞修复程序。特别：&lt;/p>
&lt;p>&lt;strong>ISTIO-SECURITY-2019-005&lt;/strong>: Envoy 社区发现了一个 DoS 漏洞。
* &lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-15226">CVE-2019-15226&lt;/a>&lt;/strong>: 经过调查，Istio 团队发现，如果攻击者使用大量非常小的标头，则可以利用此问题进行 Istio 的 DoS 攻击。&lt;/p>
&lt;p>除上述安全修复程序外，此版本中不包含其他任何内容。几天后将发布 Distroless 镜像。&lt;/p></description><pubDate>Tue, 08 Oct 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.3.x/announcing-1.3.2/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.3.x/announcing-1.3.2/</guid></item><item><title>发布 Istio 1.2.7</title><description>
&lt;p>我们很高兴地宣布 Istio 1.2.7 现在是可用的，详情请查看如下更改。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.2.x/announcing-1.2/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.2.7"
data-downloadbuttontext="DOWNLOAD 1.2.7"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.2.7)'
data-updatebutton='了解 Istio 1.2.10'
data-updatehref="/v1.9/zh/news/releases/1.2.x/announcing-1.2.10/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.2/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.2.6...1.2.7">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="security-update">安全更新&lt;/h2>
&lt;p>此版本包含我们在 &lt;a href="/v1.9/zh/news/security/istio-security-2019-005">2019 年 10 月 8 日&lt;/a>的新闻中所阐述的安全漏洞程序的修复。特别是：&lt;/p>
&lt;p>&lt;strong>ISTIO-SECURITY-2019-005&lt;/strong>: &lt;code>Envoy&lt;/code> 社区发现的一个 &lt;code>DoS&lt;/code> 漏洞。
* &lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-15226">CVE-2019-15226&lt;/a>&lt;/strong>: 经过调查，&lt;code>Istio&lt;/code> 团队发现，如果攻击者使用大量非常小的 &lt;code>header&lt;/code>，则可以利用此问题在 &lt;code>Istio&lt;/code> 中进行 &lt;code>DoS&lt;/code> 攻击。&lt;/p>
&lt;h2 id="bug-fix">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>修复了 &lt;code>nodeagent&lt;/code> 在使用 &lt;code>citadel&lt;/code> 时启动失败的错误 (&lt;a href="https://github.com/istio/istio/issues/17108">Issue 15876&lt;/a>)&lt;/li>
&lt;/ul></description><pubDate>Tue, 08 Oct 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.2.x/announcing-1.2.7/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.2.x/announcing-1.2.7/</guid></item><item><title>Istio 1.1.16 发布公告</title><description>
&lt;p>我们很高兴地宣布 Istio 1.1.16 现在是可用的，详情请查看如下更改。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.1.16"
data-downloadbuttontext="DOWNLOAD 1.1.16"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.1.16)'
data-updatebutton='了解 Istio 1.1.17'
data-updatehref="/v1.9/zh/news/releases/1.1.x/announcing-1.1.17/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.1/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.1.15...1.1.16">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="security-update">安全更新&lt;/h2>
&lt;p>此版本包含了我们在 &lt;a href="/v1.9/zh/news/security/istio-security-2019-005">2019 年 10 月 8 日&lt;/a>的新闻中所阐述的修复程序的安全漏洞。特别是：&lt;/p>
&lt;p>&lt;strong>ISTIO-SECURITY-2019-005&lt;/strong>: &lt;code>Envoy&lt;/code> 社区发现了一个 &lt;code>DoS&lt;/code> 漏洞。
* &lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-15226">CVE-2019-15226&lt;/a>&lt;/strong>: 经过调查，&lt;code>Istio&lt;/code> 团队发现，如果攻击者使用大量非常小的 &lt;code>header&lt;/code>，则可以利用此问题进行对 &lt;code>Istio&lt;/code> 的 &lt;code>DoS&lt;/code> 攻击。&lt;/p>
&lt;p>除了对上述程序的安全修复以外，此版本中不包含其他任何内容。&lt;/p></description><pubDate>Tue, 08 Oct 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1.16/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1.16/</guid></item><item><title>Istio 1.3.1 发布公告</title><description>
&lt;p>此版本包含一些错误修复程序，以提高稳定性。此发行说明描述了 Istio 1.3.0 和 Istio 1.3.1 之间的区别。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.3.x/announcing-1.3/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.3.1"
data-downloadbuttontext="DOWNLOAD 1.3.1"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.3.1)'
data-updatebutton='了解 Istio 1.3.8'
data-updatehref="/v1.9/zh/news/releases/1.3.x/announcing-1.3.8/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.3/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.3.0...1.3.1">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>修复&lt;/strong> 在升级过程中错误的导致 secret 清理任务执行错误的问题（&lt;a href="https://github.com/istio/istio/issues/16873">Issue 16873&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 默认配置禁用 Kubernetes Ingress 支持的问题（&lt;a href="https://github.com/istio/istio/issues/17148">Issue 17148&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 在 Stackdriver 日志记录适配器中处理无效 &lt;code>UTF-8&lt;/code> 字符的问题（&lt;a href="https://github.com/istio/istio/issues/16966">Issue 16966&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> HTTP 指标中没有为 &lt;code>BlackHoleCluster&lt;/code> 和 &lt;code>PassThroughCluster&lt;/code> 设置 &lt;code>destination_service&lt;/code> 标签的问题（&lt;a href="https://github.com/istio/istio/issues/16629">Issue 16629&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 由于 &lt;code>destination_service&lt;/code> 标签问题导致 &lt;code>istio_tcp_connections_closed_total&lt;/code> 和 &lt;code>istio_tcp_connections_opened_total&lt;/code> 指标不能被正确设置（&lt;a href="https://github.com/istio/istio/issues/17234">Issue 17234&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> Istio 1.2.4 引入的 Envoy 崩溃问题（&lt;a href="https://github.com/istio/istio/issues/16357">Issue 16357&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 在节点上禁用 IPv6 时，Istio CNI Sidecar 初始化的问题（&lt;a href="https://github.com/istio/istio/issues/15895">Issue 15895&lt;/a>）。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 影响 JWT 中 RS384 和 RS512 算法支持问题（&lt;a href="https://github.com/istio/istio/issues/15380">Issue 15380&lt;/a>）。&lt;/li>
&lt;/ul>
&lt;h2 id="minor-enhancements">小的增强&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>增加&lt;/strong> &lt;code>.Values.global.priorityClassName&lt;/code> 对遥测部署的支持。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> 对 Datadog 的支持。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> &lt;code>pilot_xds_push_time&lt;/code> 指标以报告 Pilot xDS 推送时间。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> &lt;code>istioctl experimental analyze&lt;/code> 以支持多资源分析和验证。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> 对在 WebAssembly 沙箱中运行元数据交换和统计信息扩展的支持。请按照&lt;a href="/v1.9/zh/docs/ops/configuration/telemetry/in-proxy-service-telemetry/">以下&lt;/a>说明进行尝试。&lt;/li>
&lt;li>&lt;strong>删除&lt;/strong> proxy-status 命令中的时间差异信息。&lt;/li>
&lt;/ul></description><pubDate>Fri, 27 Sep 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.3.x/announcing-1.3.1/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.3.x/announcing-1.3.1/</guid></item><item><title>Istio 1.2.6 发布公告</title><description>
&lt;p>我们很高兴地宣布 Istio 1.2.6 现在是可用的，详情请查看如下更改。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.2.x/announcing-1.2/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.2.6"
data-downloadbuttontext="DOWNLOAD 1.2.6"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.2.6)'
data-updatebutton='了解 Istio 1.2.10'
data-updatehref="/v1.9/zh/news/releases/1.2.x/announcing-1.2.10/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.2/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.2.5...1.2.6">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>修复了 &lt;code>redisquota&lt;/code> 有关 &lt;code>memquota&lt;/code> 的计数不一致问题 (&lt;a href="https://github.com/istio/istio/issues/15543">Issue 15543&lt;/a>)。&lt;/li>
&lt;li>修复了在 Istio 1.2.5 中引入的 Envoy 崩溃问题 (&lt;a href="https://github.com/istio/istio/issues/16357">Issue 16357&lt;/a>)。&lt;/li>
&lt;li>修复了在插件证书（带有中间证书）的上下文中损坏的 &lt;code>Citadel&lt;/code> 的运行状况的检查 (&lt;a href="https://github.com/istio/istio/issues/16593">Issue 16593&lt;/a>)。&lt;/li>
&lt;li>修复了 Stackdriver Mixer Adapter 的错误日志的详细程度 (&lt;a href="https://github.com/istio/istio/issues/16782">Issue 16782&lt;/a>)。&lt;/li>
&lt;li>修复了一个错误，该错误将删除具有多个端口的服务主机上的账户映射。&lt;/li>
&lt;li>修复了由 Pilot 产生的不正确的通配符 &lt;code>filterChainMatch&lt;/code> 导致的主机重复的问题 (&lt;a href="https://github.com/istio/istio/issues/16573">Issue 16573&lt;/a>)。&lt;/li>
&lt;/ul>
&lt;h2 id="small-enhancements">小改进&lt;/h2>
&lt;ul>
&lt;li>当与 Stackdriver 等服务进行会话连接时，会暴露 &lt;code>sidecarToTelemetrySessionAffinity&lt;/code> (Mixer V1 需要) (&lt;a href="https://github.com/istio/istio/issues/16862">Issue 16862&lt;/a>)。&lt;/li>
&lt;li>暴露 &lt;code>HTTP/2&lt;/code> 窗口大小作为 Pilot 的环境变量 (&lt;a href="https://github.com/istio/istio/issues/17117">Issue 17117&lt;/a>)。&lt;/li>
&lt;/ul></description><pubDate>Tue, 17 Sep 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.2.x/announcing-1.2.6/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.2.x/announcing-1.2.6/</guid></item><item><title>Istio 1.1.15 发布公告</title><description>
&lt;p>我们很高兴地宣布 Istio 1.1.15 现在是可用的，详情请查看如下更改。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.1.15"
data-downloadbuttontext="DOWNLOAD 1.1.15"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.1.15)'
data-updatebutton='了解 Istio 1.1.17'
data-updatehref="/v1.9/zh/news/releases/1.1.x/announcing-1.1.17/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.1/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.1.14...1.1.15">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;p>Bug 修复{#bug-fixes}&lt;/p>
&lt;ul>
&lt;li>修复 Istio 1.1.14 中引入的 Envoy 崩溃 bug (&lt;a href="https://github.com/istio/istio/issues/16357">Issue 16357&lt;/a>)。&lt;/li>
&lt;/ul>
&lt;h2 id="small-enhancements">小改进&lt;/h2>
&lt;ul>
&lt;li>暴露 &lt;code>HTTP/2&lt;/code> 窗口大小作为 Pilot 环境变量 (&lt;a href="https://github.com/istio/istio/issues/17117">Issue 17117&lt;/a>)。&lt;/li>
&lt;/ul></description><pubDate>Mon, 16 Sep 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1.15/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1.15/</guid></item><item><title>Istio 1.2.4 sidecar 镜像漏洞</title><description>
&lt;p>致 Istio 用户社区，&lt;/p>
&lt;p>在太平洋标准时间 2019 年 8 月 23 日下午 9:16 至太平洋标准时间 2019 年 9 月 6 日上午 09:26 之间，Istio &lt;code>proxyv2&lt;/code> 1.2.4（参见 &lt;a href="https://hub.docker.com/r/istio/proxyv2">https://hub.docker.com/r/istio/proxyv2&lt;/a>）的 Docker 映像包含了错误的针对 &lt;a href="/v1.9/zh/news/security/istio-security-2019-003/">ISTIO-SECURITY-2019-003&lt;/a> 和 &lt;a href="/v1.9/zh/news/security/istio-security-2019-004/">ISTIO-SECURITY-2019-004&lt;/a> 漏洞的代理版本。&lt;/p>
&lt;p>如果在此期间安装了 Istio 1.2.4，请考虑升级到还包含其他安全修复程序的 Istio 1.2.5。&lt;/p>
&lt;h2 id="detailed-explanation">详细说明&lt;/h2>
&lt;p>由于在修复最近的 HTTP2 DoS 漏洞时我们已经执行了通信禁令，因此对于这种类型的发布来说很常见：我们预先私下构建了 Sidecar 的映像，在公开披露的同时，我们在 Docker Hub 上手动推送了该映像。&lt;/p>
&lt;p>对于无法修复安全漏洞的秘密披露版本，该 Docker 映像通常会通过我们的发行渠道作业完全自动的完成 push。&lt;/p>
&lt;p>我们的自动发布流程无法与漏洞披露禁令所要求的手动交互一起正常工作：发布管道保留了对 Istio 仓库旧版本代码的引用。&lt;/p>
&lt;p>出现的问题，自动构建需要基于旧版本构建，这是在 Istio 1.2.5 发行期间的事情：我们遇到了一个需要 &lt;a href="https://github.com/istio-releases/pipeline/commit/635d276ad7eac01bef9c3f195520a0f722626c0f">revert commit&lt;/a> 的问题，该问题触发了基于旧版本 Istio 1.2.4 代码的重建。&lt;/p>
&lt;p>此 revert commit 发生在太平洋标准时间 2019 年 8 月 23 日下午 09:16。我们已经注意到该问题，并于太平洋标准时间 2019 年 9 月 6 日上午 09:26 回推了该镜像。&lt;/p>
&lt;p>对于由于此事件给您带来的不便，我们感到抱歉，并且我们&lt;a href="https://github.com/istio/istio/issues/16887">正在努力建立更好的发布系统&lt;/a>，以及一种更有效的方式来处理漏洞报告。&lt;/p>
&lt;ul>
&lt;li>1.2 的发布管理器&lt;/li>
&lt;/ul></description><pubDate>Tue, 10 Sep 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/security/incorrect-sidecar-image-1.2.4/</link><author/><guid isPermaLink="true">/v1.9/zh/news/security/incorrect-sidecar-image-1.2.4/</guid><category>community</category><category>blog</category><category>security</category></item><item><title>Istio 1.2.5 发布公告</title><description>
&lt;p>我们很高兴地宣布 Istio 1.2.5 现在是可用的，详情请查看如下更改。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.2.x/announcing-1.2/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.2.5"
data-downloadbuttontext="DOWNLOAD 1.2.5"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.2.5)'
data-updatebutton='了解 Istio 1.2.10'
data-updatehref="/v1.9/zh/news/releases/1.2.x/announcing-1.2.10/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.2/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.2.4...1.2.5">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="security-update">安全更新&lt;/h2>
&lt;p>遵循 &lt;a href="/v1.9/zh/news/security/istio-security-2019-003/">ISTIO-SECURITY-2019-003&lt;/a>
和 &lt;a href="/v1.9/zh/news/security/istio-security-2019-004">ISTIO-SECURITY-2019-004&lt;/a> 中描述的安全漏洞的修复，我们现在解决内部控制平面的通信问题。这些修复在我们之前的安全版本中不可用，并且我们认为控制平面 &lt;code>gRPC&lt;/code> 表面更难以开发。&lt;/p>
&lt;p>您可以在它们的邮件列表中找到 &lt;code>gRPC&lt;/code> 的漏洞修复说明，详情参见 &lt;a href="https://groups.google.com/forum/#!topic/grpc-io/w5jPamxdda4">HTTP/2 Security Vulnerabilities&lt;/a>。&lt;/p>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>&lt;p>修复了一个 Envoy 错误，打破 &lt;code>java.net.http.HttpClient&lt;/code> 和其他客户端试图使用 &lt;code>Upgrade: h2c&lt;/code> 的 header 从 &lt;code>HTTP/1.1&lt;/code> 到 &lt;code>HTTP/2&lt;/code> 进行升级，详情参见 (&lt;a href="https://github.com/istio/istio/issues/16391">Issue 16391&lt;/a>)。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了一个在发送超时时出现内存泄漏的问题 (&lt;a href="https://github.com/istio/istio/issues/15876">Issue 15876&lt;/a>)。&lt;/p>&lt;/li>
&lt;/ul></description><pubDate>Mon, 26 Aug 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.2.x/announcing-1.2.5/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.2.x/announcing-1.2.5/</guid></item><item><title>Istio 1.1.14 发布公告</title><description>
&lt;p>我们很高兴地宣布 Istio 1.1.14 现在是可用的，详情请查看如下更改。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.1.14"
data-downloadbuttontext="DOWNLOAD 1.1.14"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.1.14)'
data-updatebutton='了解 Istio 1.1.17'
data-updatehref="/v1.9/zh/news/releases/1.1.x/announcing-1.1.17/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.1/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.1.13...1.1.14">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="security-update">安全更新&lt;/h2>
&lt;p>遵循 &lt;a href="/v1.9/zh/news/security/istio-security-2019-003/">ISTIO-SECURITY-2019-003&lt;/a>
和 &lt;a href="/v1.9/zh/news/security/istio-security-2019-004/">ISTIO-SECURITY-2019-004&lt;/a> 中描述的安全漏洞的修复，我们现在解决内部控制平面的通信问题。这些修复在我们之前的安全版本中不可用，并且我们认为控制平面 &lt;code>gRPC&lt;/code> 表面更难以开发。&lt;/p>
&lt;p>您可以在它们的邮件列表中找到 &lt;code>gRPC&lt;/code> 的漏洞修复说明，详情参见 &lt;a href="https://groups.google.com/forum/#!topic/grpc-io/w5jPamxdda4">HTTP/2 Security Vulnerabilities&lt;/a>。&lt;/p>
&lt;p>Bug 修复{#bug-fixes}&lt;/p>
&lt;ul>
&lt;li>修正了一个 Envoy 错误，打破 &lt;code>java.net.http.HttpClient&lt;/code> 和其他客户端试图使用 &lt;code>Upgrade: h2c&lt;/code> 的 header 从 &lt;code>HTTP/1.1&lt;/code> 到 &lt;code>HTTP/2&lt;/code> 进行升级，详情参见 (&lt;a href="https://github.com/istio/istio/issues/16391">Issue 16391&lt;/a>)。&lt;/li>
&lt;/ul></description><pubDate>Mon, 26 Aug 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1.14/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1.14/</guid></item><item><title>对 Istio 1.1 的支持将于 2019 年 9 月 19 日终止</title><description>&lt;p>根据 Istio 的&lt;a href="/v1.9/zh/about/release-cadence/">支持策略&lt;/a>，在下一个 LTS 版本发布后的三个月内，将支持 1.1 LTS 版本。由于 &lt;a href="/v1.9/zh/news/releases/1.2.x/announcing-1.2/">1.2 在 6 月 18 日发布&lt;/a>，对 1.1 的支持将于 2019 年 9 月 19 日终止。&lt;/p>
&lt;p>届时，我们将会把针对安全问题和关键性错误修复后的程序反向合并到 1.1，因此我们建议您升级到最新版本的 Istio（1.9.5。如果您不这样做，可能会在短时间内为了修复关键性错误程序而进行频繁的重大升级。&lt;/p>
&lt;p>我们非常关注您和您的集群，所以请参照我们的建议并进行升级。&lt;/p></description><pubDate>Thu, 15 Aug 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/support/announcing-1.1-eol/</link><author/><guid isPermaLink="true">/v1.9/zh/news/support/announcing-1.1-eol/</guid></item><item><title>ISTIO-SECURITY-2019-004</title><description>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th colspan="2">安全漏洞详情&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>CVE(s)&lt;/td>
&lt;td>
&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>CVSS 影响评分&lt;/td>
&lt;td> &lt;a href="https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=">&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>受影响的版本&lt;/td>
&lt;td>
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="context">内容&lt;/h2>
&lt;p>Envoy 和 Istio 容易受到一系列基于 HTTP/2 的 DoS 攻击：&lt;/p>
&lt;ul>
&lt;li>利用 HTTP/2 的 PING 帧及 PING ACK 帧响应队列发起的洪水攻击，这会导致内存的无限制增长(可能导致内存不足的情况)。&lt;/li>
&lt;li>利用 HTTP/2 的 PRIORITY 帧发起的洪水攻击，这会导致 CPU 使用率过高、不能及时响应其它正常的客户端。&lt;/li>
&lt;li>利用 HTTP/2 的 HEADERS 帧(带有无效 HTTP header) 和 &lt;code>RST_STREAM&lt;/code> 帧响应队列发起的洪水攻击，这会导致内存的无限制增长(可能导致内存不足的情况)。&lt;/li>
&lt;li>利用 HTTP/2 的 SETTINGS 帧及 SETTINGS ACK 帧响应队列发起的洪水攻击，这会导致内存的无限制增长(可能导致内存不足的情况)。&lt;/li>
&lt;li>利用 HTTP/2 的 空荷载帧发起的洪水攻击，这会导致 CPU 使用率过高、不能及时响应其它正常的客户端。&lt;/li>
&lt;/ul>
&lt;p>这些漏洞是从外部报告的，并影响多个代理的实现。更多信息请查看&lt;a href="https://github.com/Netflix/security-bulletins/blob/master/advisories/third-party/2019-002.md">安全公告&lt;/a>。&lt;/p>
&lt;h2 id="impact-and-detection">影响范围&lt;/h2>
&lt;p>如果 Istio 终止来自外部的 HTTP，则 Istio 会变得很脆弱。如果终止 HTTP 的是 Istio 前面的 Intermediary (例: HTTP 负载均衡)，那 Intermediary 就可以保护 Istio，前提是 Intermediary 本身不容易受到相同的 HTTP/2 攻击。&lt;/p>
&lt;h2 id="mitigation">防范&lt;/h2>
&lt;ul>
&lt;li>对于 Istio 1.1.x 部署：更新至 &lt;a href="/v1.9/zh/news/releases/1.1.x/announcing-1.1.13">Istio 1.1.13&lt;/a> 或者更新的版本。&lt;/li>
&lt;li>对于 Istio 1.2.x 部署：更新至 &lt;a href="/v1.9/zh/news/releases/1.2.x/announcing-1.2.4">Istio 1.2.4&lt;/a> 或者更新的版本。&lt;/li>
&lt;/ul>
&lt;h2 id="漏洞报告">漏洞报告&lt;/h2>
&lt;p>希望大家遵循&lt;a href="/v1.9/zh/about/security-vulnerabilities/">漏洞报告步骤&lt;/a>，以报告任何可能会导致安全漏洞的 bug。</description><pubDate>Tue, 13 Aug 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/security/istio-security-2019-004/</link><author/><guid isPermaLink="true">/v1.9/zh/news/security/istio-security-2019-004/</guid><category>CVE</category></item><item><title>ISTIO-SECURITY-2019-003</title><description>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th colspan="2">安全漏洞详情&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>CVE(s)&lt;/td>
&lt;td>
&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-14993">CVE-2019-14993&lt;/a>&lt;br>
&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>CVSS 影响评分&lt;/td>
&lt;td>7.5 &lt;a href="https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=CVSS%3a3.0%2fAV%3aN%2fAC%3aL%2fPR%3aN%2fUI%3aN%2fS%3aU%2fC%3aN%2fI%3aN%2fA%3aH">CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>受影响的版本&lt;/td>
&lt;td>
1.1 to 1.1.12&lt;br>
1.2 to 1.2.3&lt;br>
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="context">内容&lt;/h2>
&lt;p>一位 Envoy 用户报告了一个 (c.f. &lt;a href="https://github.com/envoyproxy/envoy/issues/7728">Envoy Issue 7728&lt;/a>) 关于非常大的 URI 的正则表达式会导致 Envoy 崩溃的问题。通过调查，Istio 团队发现如果用户正在这些 Istio API（&lt;code>JWT&lt;/code>, &lt;code>VirtualService&lt;/code>, &lt;code>HTTPAPISpecBinding&lt;/code>, &lt;code>QuotaSpecBinding&lt;/code>）中使用正则表达式，那么这个问题可能在 Istio 中引发 Dos 攻击。&lt;/p>
&lt;h2 id="impact-and-detection">影响范围&lt;/h2>
&lt;p>运行下面的命令可以打印下面的输出，检测在你的集群中是否使用了 Istio 正则表达式相关的 API。&lt;/p>
&lt;ul>
&lt;li>YOU ARE AFFECTED: found regex used in &lt;code>AuthenticationPolicy&lt;/code> or &lt;code>VirtualService&lt;/code>&lt;/li>
&lt;li>YOU ARE NOT AFFECTED: did not find regex usage&lt;/li>
&lt;/ul>
&lt;pre>&lt;code class='language-bash' data-expandlinks='true' data-repo='istio' >$ cat &amp;lt;&amp;lt;&amp;#39;EOF&amp;#39; | bash -
set -e
set -u
set -o pipefail
red=`tput setaf 1`
green=`tput setaf 2`
reset=`tput sgr0`
echo &amp;#34;Checking regex usage in Istio API ...&amp;#34;
AFFECTED=()
JWT_REGEX=()
JWT_REGEX+=($(kubectl get Policy --all-namespaces -o jsonpath=&amp;#39;{..regex}&amp;#39;))
JWT_REGEX+=($(kubectl get MeshPolicy --all-namespaces -o jsonpath=&amp;#39;{..regex}&amp;#39;))
if [ &amp;#34;${#JWT_REGEX[@]}&amp;#34; != 0 ]; then
AFFECTED+=(&amp;#34;AuthenticationPolicy&amp;#34;)
fi
VS_REGEX=()
VS_REGEX+=($(kubectl get VirtualService --all-namespaces -o jsonpath=&amp;#39;{..regex}&amp;#39;))
if [ &amp;#34;${#VS_REGEX[@]}&amp;#34; != 0 ]; then
AFFECTED+=(&amp;#34;VirtualService&amp;#34;)
fi
HTTPAPI_REGEX=()
HTTPAPI_REGEX+=($(kubectl get HTTPAPISpec --all-namespaces -o jsonpath=&amp;#39;{..regex}&amp;#39;))
if [ &amp;#34;${#HTTPAPI_REGEX[@]}&amp;#34; != 0 ]; then
AFFECTED+=(&amp;#34;HTTPAPISpec&amp;#34;)
fi
QUOTA_REGEX=()
QUOTA_REGEX+=($(kubectl get QuotaSpec --all-namespaces -o jsonpath=&amp;#39;{..regex}&amp;#39;))
if [ &amp;#34;${#QUOTA_REGEX[@]}&amp;#34; != 0 ]; then
AFFECTED+=(&amp;#34;QuotaSpec&amp;#34;)
fi
if [ &amp;#34;${#AFFECTED[@]}&amp;#34; != 0 ]; then
echo &amp;#34;${red}YOU ARE AFFECTED: found regex used in ${AFFECTED[@]}${reset}&amp;#34;
exit 1
fi
echo &amp;#34;${green}YOU ARE NOT AFFECTED: did not find regex usage${reset}&amp;#34;
EOF
&lt;/code>&lt;/pre>
&lt;h2 id="mitigation">防范&lt;/h2>
&lt;ul>
&lt;li>Istio 1.1.x: 升级到 &lt;a href="/v1.9/zh/news/releases/1.1.x/announcing-1.1.13">Istio 1.1.13&lt;/a> 或者更高&lt;/li>
&lt;li>Istio 1.2.x: 升级到 &lt;a href="/v1.9/zh/news/releases/1.2.x/announcing-1.2.4">Istio 1.2.4&lt;/a> 或者更高&lt;/li>
&lt;/ul>
&lt;h2 id="漏洞报告">漏洞报告&lt;/h2>
&lt;p>希望大家遵循&lt;a href="/v1.9/zh/about/security-vulnerabilities/">漏洞报告步骤&lt;/a>，以报告任何可能会导致安全漏洞的 bug。</description><pubDate>Tue, 13 Aug 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/security/istio-security-2019-003/</link><author/><guid isPermaLink="true">/v1.9/zh/news/security/istio-security-2019-003/</guid><category>CVE</category></item><item><title>Istio 1.2.4 发布公告</title><description>
&lt;p>我们很高兴地宣布 Istio 1.2.4 现在是可用的，详情请查看如下更改。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.2.x/announcing-1.2/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.2.4"
data-downloadbuttontext="DOWNLOAD 1.2.4"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.2.4)'
data-updatebutton='了解 Istio 1.2.10'
data-updatehref="/v1.9/zh/news/releases/1.2.x/announcing-1.2.10/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.2/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.2.3...1.2.4">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="security-update">安全更新&lt;/h2>
&lt;p>此版本包含了在 &lt;a href="/v1.9/zh/news/security/istio-security-2019-003/">ISTIO-SECURITY-2019-003&lt;/a>] 和 &lt;a href="/v1.9/zh/news/security/istio-security-2019-004/">ISTIO-SECURITY-2019-004&lt;/a> 中所阐述的安全漏洞程序的修复。特别是：&lt;/p>
&lt;p>&lt;strong>ISTIO-SECURITY-2019-003&lt;/strong>: 一位 Envoy 用户公开报告了一个正则表达式的匹配问题 (c.f. &lt;a href="https://github.com/envoyproxy/envoy/issues/7728">Envoy Issue 7728&lt;/a>)，该问题可使 Envoy 出现非常严重的 URI 崩溃。
* &lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-14993">CVE-2019-14993&lt;/a>&lt;/strong>: 经调查，Istio 小组发现，当用户正在使用 &lt;code>Istio Api&lt;/code> 中一些像 &lt;code>JWT&lt;/code>, &lt;code>VirtualService&lt;/code>, &lt;code>HTTPAPISpecBinding&lt;/code>, &lt;code>QuotaSpecBinding&lt;/code> 的正则表达式时，会被利用而发起 &lt;code>Istio DoS&lt;/code> 攻击。&lt;/p>
&lt;p>&lt;strong>ISTIO-SECURITY-2019-004&lt;/strong>: Envoy 和之后的 Istio 更容易受到一系列基于 HTTP/2 的 DoS 攻击：
* &lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9512">CVE-2019-9512&lt;/a>&lt;/strong>: 使用 &lt;code>PING&lt;/code> 帧和响应 &lt;code>PING&lt;/code> ACK 帧的 HTTP/2 流，会导致无限的内存增长（这可能导致内存不足的原因）。
* &lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9513">CVE-2019-9513&lt;/a>&lt;/strong>: 使用 PRIORITY 帧的 HTTP/2 流会导致其他客户端的 CPU 使用率过低。
* &lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9514">CVE-2019-9514&lt;/a>&lt;/strong>: 使用具有无效的 HTTP header 的 &lt;code>HEADERS&lt;/code> 帧和 &lt;code>RST_STREAM&lt;/code> 帧的 HTTP/2 流，会导致无限的内存增长（这可能导致内存不足的原因）。
* &lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9515">CVE-2019-9515&lt;/a>&lt;/strong>: 使用 &lt;code>SETTINGS&lt;/code> 帧和 &lt;code>SETTINGS&lt;/code> ACK 帧的 HTTP/2 流，会导致无限的内存增长（这可能导致内存不足的原因）。
* &lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9518">CVE-2019-9518&lt;/a>&lt;/strong>: 使用具有空负载帧的 HTTP/2 流会导致其他客户端的 CPU 使用率过低。&lt;/p>
&lt;p>除上述修复的程序之外，此版本中不包含其他任何内容。&lt;/p></description><pubDate>Tue, 13 Aug 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.2.x/announcing-1.2.4/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.2.x/announcing-1.2.4/</guid></item><item><title>Istio 1.1.13 发布公告</title><description>
&lt;p>我们很高兴地宣布 Istio 1.1.13 现在是可用的，详情请查看如下更改。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.1.13"
data-downloadbuttontext="DOWNLOAD 1.1.13"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.1.13)'
data-updatebutton='了解 Istio 1.1.17'
data-updatehref="/v1.9/zh/news/releases/1.1.x/announcing-1.1.17/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.1/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.1.12...1.1.13">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="security-update">安全更新&lt;/h2>
&lt;p>此版本包含了在 &lt;a href="/v1.9/zh/news/security/istio-security-2019-003/">ISTIO-SECURITY-2019-003&lt;/a>] 和 &lt;a href="/v1.9/zh/news/security/istio-security-2019-004/">ISTIO-SECURITY-2019-004&lt;/a> 中所阐述的安全漏洞程序的修复。特别是：&lt;/p>
&lt;p>&lt;strong>ISTIO-SECURITY-2019-003&lt;/strong>: 一位 Envoy 用户公开报告了一个正则表达式的匹配问题 (c.f. &lt;a href="https://github.com/envoyproxy/envoy/issues/7728">Envoy Issue 7728&lt;/a>)，该问题可使 Envoy 出现非常严重的 URI 崩溃。
* &lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-14993">CVE-2019-14993&lt;/a>&lt;/strong>: 经调查，Istio 小组发现，当用户正在使用 &lt;code>Istio Api&lt;/code> 中一些像 &lt;code>JWT&lt;/code>, &lt;code>VirtualService&lt;/code>, &lt;code>HTTPAPISpecBinding&lt;/code>, &lt;code>QuotaSpecBinding&lt;/code> 的正则表达式时，会被利用而发起 &lt;code>Istio DoS&lt;/code> 攻击。&lt;/p>
&lt;p>&lt;strong>ISTIO-SECURITY-2019-004&lt;/strong>: Envoy 和之后的 Istio 更容易受到一系列基于 HTTP/2 的 DoS 攻击：
* &lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9512">CVE-2019-9512&lt;/a>&lt;/strong>: 使用 &lt;code>PING&lt;/code> 帧和响应 &lt;code>PING&lt;/code> ACK 帧的 HTTP/2 流，会导致无限的内存增长（这可能导致内存不足的原因）。
* &lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9513">CVE-2019-9513&lt;/a>&lt;/strong>: 使用 PRIORITY 帧的 HTTP/2 流会导致其他客户端的 CPU 使用率过低。
* &lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9514">CVE-2019-9514&lt;/a>&lt;/strong>: 使用具有无效的 HTTP header 的 &lt;code>HEADERS&lt;/code> 帧和 &lt;code>RST_STREAM&lt;/code> 帧的 HTTP/2 流，会导致无限的内存增长（这可能导致内存不足的原因）。
* &lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9515">CVE-2019-9515&lt;/a>&lt;/strong>: 使用 &lt;code>SETTINGS&lt;/code> 帧和 &lt;code>SETTINGS&lt;/code> ACK 帧的 HTTP/2 流，会导致无限的内存增长（这可能导致内存不足的原因）。
* &lt;strong>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9518">CVE-2019-9518&lt;/a>&lt;/strong>: 使用具有空负载帧的 HTTP/2 流会导致其他客户端的 CPU 使用率过低。&lt;/p>
&lt;p>除上述修复的程序之外，此版本中不包含其他任何内容。&lt;/p></description><pubDate>Tue, 13 Aug 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1.13/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1.13/</guid></item><item><title>Istio 1.2.3 发布公告</title><description>
&lt;p>我们很高兴的宣布 Istio 1.2.3 现在是可用的，具体更新内容如下。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.2.x/announcing-1.2/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.2.3"
data-downloadbuttontext="DOWNLOAD 1.2.3"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.2.3)'
data-updatebutton='了解 Istio 1.2.10'
data-updatehref="/v1.9/zh/news/releases/1.2.x/announcing-1.2.10/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.2/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.2.2...1.2.3">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>修复了一个错误，当 pod 定义了一个端口，而服务未定义该端口时，sidecar 会将请求无限转发给自身（&lt;a href="https://github.com/istio/istio/issues/14443">Issue 14443&lt;/a>）和（&lt;a href="https://github.com/istio/istio/issues/14242">Issue 14242&lt;/a>）&lt;/li>
&lt;li>修复了启动遥测后 Stackdriver 适配器会关闭的 bug。&lt;/li>
&lt;li>修复 Redis 连接问题。&lt;/li>
&lt;li>修复虚拟服务基于正则表达式匹配 HTTP URI 区分大小写的问题（&lt;a href="https://github.com/istio/istio/issues/14983">Issue 14983&lt;/a>）&lt;/li>
&lt;li>修复 demo 配置文件的 HPA 和 CPU 设置（&lt;a href="https://github.com/istio/istio/issues/15338">Issue 15338&lt;/a>）&lt;/li>
&lt;li>放宽 Keep-Alive 实施策略，避免在轻负载下断开连接（&lt;a href="https://github.com/istio/istio/issues/15088">Issue 15088&lt;/a>）&lt;/li>
&lt;li>当未使用 SDS 时，跳过 Kubernetes JWT 身份验证，以降低使用受损（不可信）JWT 的风险。&lt;/li>
&lt;/ul>
&lt;h2 id="tests-upgrade">测试升级&lt;/h2>
&lt;ul>
&lt;li>更新 Bookinfo 评论示例应用程序的基础镜像版本（&lt;a href="https://github.com/istio/istio/issues/15477">Issue 15477&lt;/a>）&lt;/li>
&lt;li>Bookinfo 示例镜像鉴定（&lt;a href="https://github.com/istio/istio/issues/14237">Issue 14237&lt;/a>）&lt;/li>
&lt;/ul></description><pubDate>Fri, 02 Aug 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.2.x/announcing-1.2.3/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.2.x/announcing-1.2.3/</guid></item><item><title>Istio 1.1.12 发布公告</title><description>
&lt;p>我们非常高兴的宣布 Istio 1.1.12 已经可用。请浏览下面的变更说明。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.1.12"
data-downloadbuttontext="DOWNLOAD 1.1.12"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.1.12)'
data-updatebutton='了解 Istio 1.1.17'
data-updatehref="/v1.9/zh/news/releases/1.1.x/announcing-1.1.17/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.1/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.1.11...1.1.12">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>修复了一个错误，当 &lt;code>Pod&lt;/code> 资源定义了一个端口，但 service 中未定义时，sidecar 可以将请求无限转发给自己（&lt;a href="https://github.com/istio/istio/issues/14443">Issue 14443&lt;/a>）和（&lt;a href="https://github.com/istio/istio/issues/14242">Issue 14242&lt;/a>）&lt;/li>
&lt;/ul></description><pubDate>Fri, 02 Aug 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1.12/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1.12/</guid></item><item><title>Istio 1.1.11 发布公告</title><description>
&lt;p>我们很高兴的宣布 Istio 1.1.11 现在是可用的。更新详情如下。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.1.11"
data-downloadbuttontext="DOWNLOAD 1.1.11"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.1.11)'
data-updatebutton='了解 Istio 1.1.17'
data-updatehref="/v1.9/zh/news/releases/1.1.x/announcing-1.1.17/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.1/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.1.10...1.1.11">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="small-enhancements">小改进&lt;/h2>
&lt;ul>
&lt;li>添加了一个功能，以在入口网关启用 &lt;code>HTTP/1.0&lt;/code> 支持（&lt;a href="https://github.com/istio/istio/issues/13085">Issue 13085&lt;/a>）。&lt;/li>
&lt;/ul></description><pubDate>Wed, 03 Jul 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1.11/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1.11/</guid></item><item><title>ISTIO-SECURITY-2019-002</title><description>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th colspan="2">安全漏洞详情&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>CVE(s)&lt;/td>
&lt;td>
&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>CVSS 影响评分&lt;/td>
&lt;td> &lt;a href="https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=">&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>受影响的版本&lt;/td>
&lt;td>
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="context">内容&lt;/h2>
&lt;p>当请求包含格式错误的 JWT 令牌时，Istio JWT 认证过滤器中的 BUG 会导致 Envoy 在某些情况下崩溃。该 BUG 已由一个用户在 &lt;a href="https://github.com/istio/istio/issues/15084">GitHub&lt;/a> 上于 2019 年 6 月 23 日发现并报告。&lt;/p>
&lt;p>此 BUG 会影响所有正在使用 JWT 身份认证策略的 Istio 版本。&lt;/p>
&lt;p>此 BUG 会导致客户端收到 HTTP 503 错误，并且 Envoy 会有以下日志。&lt;/p>
&lt;pre>&lt;code class='language-plain' data-expandlinks='true' data-repo='istio' >Epoch 0 terminated with an error: signal: segmentation fault (core dumped)
&lt;/code>&lt;/pre>
&lt;p>无论 JWT 规范中的 &lt;code>trigger_rules&lt;/code> 如何设置，Envoy 都可能因为格式错误的 JWT token (没有有效的签名) 崩溃，导致所有 URI 访问不受限制。因此，这个 BUG 使 Envoy 容易受到潜在的 DoS 攻击。&lt;/p>
&lt;h2 id="impact-and-detection">影响范围&lt;/h2>
&lt;p>如果满足以下两个条件，则 Envoy 将很容易受到攻击：&lt;/p>
&lt;ul>
&lt;li>使用了 JWT 身份认证策略。&lt;/li>
&lt;li>使 JWT issuer(由 &lt;code>jwksUri&lt;/code> 发行) 使用 RSA 算法进行签名认证。&lt;/li>
&lt;/ul>
&lt;div>
&lt;aside class="callout tip">
&lt;div class="type">&lt;svg class="large-icon">&lt;use xlink:href="/v1.9/img/icons.svg#callout-tip"/>&lt;/svg>&lt;/div>
&lt;div class="content">用于签名认证的 RSA 算法不包含任何已知的安全漏洞。仅当使用此算法时才触发此 CVE，但与系统的安全性无关。&lt;/div>
&lt;/aside>
&lt;/div>
&lt;p>如果将 JWT 策略应用于 Istio ingress gateway。请注意，有权访问 Ingress gateway 的任何外部用户都可以通过单个 HTTP 请求导致它崩溃。&lt;/p>
&lt;p>如果仅将 JWT 策略应用 Sidecar，请记住它仍然可能受到攻击。例如，Istio ingress gateway 可能会将 JWT token 转发到 Sidecar，这可能是格式错误的 JWT token ，该 token 可能让 Sidecar 崩溃。&lt;/p>
&lt;p>易受攻击的 Envoy 将在处理 JWT token 格式错误的 HTTP 请求上崩溃。当 Envoy 崩溃时，所有现有连接将立即断开连接。&lt;code>pilot-agent&lt;/code> 将自动重启崩溃的 Envoy，重启可能需要几秒钟到几分钟的时间。崩溃超过十次后，pilot-agent 将停止重新启动 Envoy。在这种情况下，Kubernetes 将重新部署 Pod，包括 Envoy 的工作负载。&lt;/p>
&lt;p>要检测集群中是否应用了任何 JWT 身份认证策略，请运行以下命令，该命令将显示以下任一输出：&lt;/p>
&lt;ul>
&lt;li>在身份认证策略中找到了 JWT, &lt;strong>你会收到影响&lt;/strong>&lt;/li>
&lt;li>未在身份认证策略中找到 JWT, &lt;em>你不会会收到影响&lt;/em>&lt;/li>
&lt;/ul>
&lt;pre>&lt;code class='language-bash' data-expandlinks='true' data-repo='istio' >$ cat &amp;lt;&amp;lt;&amp;#39;EOF&amp;#39; | bash -
set -e
set -u
set -o pipefail
red=`tput setaf 1`
green=`tput setaf 2`
reset=`tput sgr0`
echo &amp;#34;Checking authentication policy...&amp;#34;
JWKS_URI=()
JWKS_URI+=($(kubectl get policy --all-namespaces -o jsonpath=&amp;#39;{range .items[*]}{.spec.origins[*].jwt.jwksUri}{&amp;#34; &amp;#34;}{end}&amp;#39;))
JWKS_URI+=($(kubectl get meshpolicy --all-namespaces -o jsonpath=&amp;#39;{range .items[*]}{.spec.origins[*].jwt.jwksUri}{&amp;#34; &amp;#34;}{end}&amp;#39;))
if [ &amp;#34;${#JWKS_URI[@]}&amp;#34; != 0 ]; then
echo &amp;#34;${red}在身份认证策略中找到了 JWT, 你会收到影响${reset}&amp;#34;
exit 1
fi
echo &amp;#34;${green}未在身份认证策略中找到 JWT, 你不会受到影响${reset}&amp;#34;
EOF
&lt;/code>&lt;/pre>
&lt;h2 id="mitigation">防范&lt;/h2>
&lt;p>在以下 Istio 发行版中已修复此 BUG：&lt;/p>
&lt;ul>
&lt;li>Istio 1.0.x: 升级到 &lt;a href="/v1.9/zh/news/releases/1.0.x/announcing-1.0.9">Istio 1.0.9&lt;/a> 或者更新高版本。&lt;/li>
&lt;li>Istio 1.1.x: 升级到 &lt;a href="/v1.9/zh/news/releases/1.1.x/announcing-1.1.10">Istio 1.1.10&lt;/a> 或者更新高版本。&lt;/li>
&lt;li>Istio 1.2.x: 升级到 &lt;a href="/v1.9/zh/news/releases/1.2.x/announcing-1.2.2">Istio 1.2.2&lt;/a> 或者更新高版本。&lt;/li>
&lt;/ul>
&lt;p>如果您无法立即升级到以下版本之一，则可以选择注入一个 &lt;a href="https://github.com/istio/tools/tree/master/examples/luacheck">Lua filter&lt;/a> 到老的 Istio 版本中。Istio 1.1.9、1.0.8、1.0.6、和 1.1.3 将会进行该认证。&lt;/p>
&lt;p>Lua 过滤器是在 Istio &lt;code>jwt-auth&lt;/code> 过滤器 &lt;em>之前&lt;/em> 注入的。如果在 HTTP 请求中提供了 JWT 令牌，则 &lt;code>Lua&lt;/code> 过滤器将检查 JWT 令牌头是否包含 alg:ES256 。如果过滤器找到了这样的 JWT 令牌，则该请求将被拒绝。&lt;/p>
&lt;p>要安装 Lua 过滤器，请执行以下命令：&lt;/p>
&lt;pre>&lt;code class='language-bash' data-expandlinks='true' data-repo='istio' >$ git clone git@github.com:istio/tools.git
$ cd tools/examples/luacheck/
$ ./setup.sh
&lt;/code>&lt;/pre>
&lt;p>安装脚本使用 Helm 模板来生成一个 &lt;code>envoyFilter&lt;/code> 资源，该资源将部署到 Gateway。您可以将 Listener 类型更改为 &lt;code>ANY&lt;/code>，以将其也应用到 Sidecar。只有当您在 Sidecar 上强制使用 JWT 身份认证策略，并在直接接收外部的请求，才应该这样做。&lt;/p>
&lt;h2 id="credit">致谢&lt;/h2>
&lt;p>Istio 团队非常感谢 Divya Raj 的原始 BUG 报告。&lt;/p>
&lt;h2 id="漏洞报告">漏洞报告&lt;/h2>
&lt;p>希望大家遵循&lt;a href="/v1.9/zh/about/security-vulnerabilities/">漏洞报告步骤&lt;/a>，以报告任何可能会导致安全漏洞的 bug。</description><pubDate>Fri, 28 Jun 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/security/istio-security-2019-002/</link><author/><guid isPermaLink="true">/v1.9/zh/news/security/istio-security-2019-002/</guid><category>CVE</category></item><item><title>Istio 1.2.2 发布公告</title><description>
&lt;p>我们很高兴的宣布 Istio 1.2.2 现在是可用的，具体更新内容如下。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.2.x/announcing-1.2/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.2.2"
data-downloadbuttontext="DOWNLOAD 1.2.2"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.2.2)'
data-updatebutton='了解 Istio 1.2.10'
data-updatehref="/v1.9/zh/news/releases/1.2.x/announcing-1.2.10/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.2/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.2.1...1.2.2">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>修复由 JWT 格式错误导致的 Istio JWT Envoy 过滤器崩溃（&lt;a href="https://github.com/istio/istio/issues/15084">Issue 15084&lt;/a>）&lt;/li>
&lt;li>修复 x-forward-proto header 的错误覆盖（&lt;a href="https://github.com/istio/istio/issues/15124">Issue 15124&lt;/a>）&lt;/li>
&lt;/ul></description><pubDate>Fri, 28 Jun 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.2.x/announcing-1.2.2/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.2.x/announcing-1.2.2/</guid></item><item><title>Istio 1.1.10 发布公告</title><description>
&lt;p>我们很高兴的宣布 Istio 1.1.10 现在是可用的。更新详情如下。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.1.10"
data-downloadbuttontext="DOWNLOAD 1.1.10"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.1.10)'
data-updatebutton='了解 Istio 1.1.17'
data-updatehref="/v1.9/zh/news/releases/1.1.x/announcing-1.1.17/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.1/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.1.9...1.1.10">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>消除因 Envoy 重新启动后无法与 SDS 节点代理对话而导致的 503 错误（&lt;a href="https://github.com/istio/istio/issues/14853">Issue 14853&lt;/a>）。&lt;/li>
&lt;li>解决升级过程中由于 &amp;lsquo;TLS error: Secret is not supplied by SDS&amp;rsquo; 导致的错误（&lt;a href="https://github.com/istio/istio/issues/15020">Issue 15020&lt;/a>）。&lt;/li>
&lt;li>修复由 JWT 格式错误导致的 Istio JWT Envoy 过滤器崩溃（&lt;a href="https://github.com/istio/istio/issues/15084">Issue 15084&lt;/a>）。&lt;/li>
&lt;/ul></description><pubDate>Fri, 28 Jun 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1.10/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1.10/</guid></item><item><title>Announcing Istio 1.0.9</title><description>
&lt;p>我们很高兴的宣布 Istio 1.0.9 现已正式发布。下面是更新详情。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="https://github.com/istio/istio/releases/tag/1.0.9">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.0/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.0.8...1.0.9">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>修复了由格式错误的 JWT 导致 Istio JWT Envoy 过滤器崩溃的问题（&lt;a href="https://github.com/istio/istio/issues/15084">Issue 15084&lt;/a>）。&lt;/li>
&lt;/ul></description><pubDate>Fri, 28 Jun 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.0.x/announcing-1.0.9/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.0.x/announcing-1.0.9/</guid></item><item><title>Istio 1.2.1 发布公告</title><description>
&lt;p>我们很高兴的宣布 Istio 1.2.1 现在是可用的，具体更新内容如下。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.2.x/announcing-1.2/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.2.1"
data-downloadbuttontext="DOWNLOAD 1.2.1"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.2.1)'
data-updatebutton='了解 Istio 1.2.10'
data-updatehref="/v1.9/zh/news/releases/1.2.x/announcing-1.2.10/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.2/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.2.0...1.2.1">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>修复在安装中生成重复 CRD 的问题（&lt;a href="https://github.com/istio/istio/issues/14976">Issue 14976&lt;/a>）&lt;/li>
&lt;li>修复禁用 Galley 时无法启动 Mixer 的问题（&lt;a href="https://github.com/istio/istio/issues/14841">Issue 14841&lt;/a>）&lt;/li>
&lt;li>修复环境变量遮蔽的问题（NAMESPACE 用于监控的命名空间覆盖了 Citadel 的存储命名空间（istio-system）&lt;/li>
&lt;li>修复升级过程中的 &amp;lsquo;TLS error: Secret is not supplied by SDS&amp;rsquo; 错误（&lt;a href="https://github.com/istio/istio/issues/15020">Issue 15020&lt;/a>）&lt;/li>
&lt;/ul>
&lt;h2 id="minor-enhancements">次要改进&lt;/h2>
&lt;ul>
&lt;li>通过将重试设置为 0，允许用户禁用 Istio 的默认重试（&lt;a href="https://github.com/istio/istio/issues/14900">Issue 14900&lt;/a>）&lt;/li>
&lt;li>引入 Redis 过滤器（此功能由环境特性标志 &lt;code>PILOT_ENABLE_REDIS_FILTER&lt;/code> 保护，默认情况下处于禁用状态）&lt;/li>
&lt;li>将 HTTP/1.0 支持添加到网关配置生成（&lt;a href="https://github.com/istio/istio/issues/13085">Issue 13085&lt;/a>）&lt;/li>
&lt;li>为 Istio 组件添加了&lt;a href="https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/">容忍&lt;/a>（&lt;a href="https://github.com/istio/istio/pull/15081">Pull Request 15081&lt;/a>）&lt;/li>
&lt;/ul></description><pubDate>Thu, 27 Jun 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.2.x/announcing-1.2.1/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.2.x/announcing-1.2.1/</guid></item><item><title>对 Istio 1.0 的支持已结束</title><description>&lt;p>如&lt;a href="/v1.9/zh/news/support/announcing-1.0-eol/">先前宣布&lt;/a>的一样，对 Istio 1.0 的支持现已正式终止。&lt;/p>
&lt;p>我们将不再为 1.0 提供针对安全问题和关键错误的修复程序，因此，如果您尚未升级，我们建议您升级到最新版本的 Istio (1.9.5)。&lt;/p></description><pubDate>Wed, 19 Jun 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/support/announcing-1.0-eol-final/</link><author/><guid isPermaLink="true">/v1.9/zh/news/support/announcing-1.0-eol-final/</guid></item><item><title>Istio 1.1.9 发布公告</title><description>
&lt;p>我们非常高兴的宣布 Istio 1.1.9 已经可用。请浏览下面的变更说明。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.1.9"
data-downloadbuttontext="DOWNLOAD 1.1.9"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.1.9)'
data-updatebutton='了解 Istio 1.1.17'
data-updatehref="/v1.9/zh/news/releases/1.1.x/announcing-1.1.17/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.1/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.1.8...1.1.9">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>防止将太大的字符串发送到 Prometheus（&lt;a href="https://github.com/istio/istio/issues/14642">Issue 14642&lt;/a>）。&lt;/li>
&lt;li>如果在续订期间遇到传输错误，将重用先前缓存的 JWT 公共密钥（&lt;a href="https://github.com/istio/istio/issues/14638">Issue 14638&lt;/a>）。&lt;/li>
&lt;li>绕过 HTTP OPTIONS 方法的 JWT 身份验证以支持 CORS 请求。&lt;/li>
&lt;li>修复 Mixer 过滤器导致的 Envoy 崩溃（&lt;a href="https://github.com/istio/istio/issues/14707">Issue 14707&lt;/a>）。&lt;/li>
&lt;/ul>
&lt;h2 id="small-enhancements">小改进&lt;/h2>
&lt;ul>
&lt;li>将加密签名验证功能公开给 Envoy 的 &lt;code>Lua&lt;/code> 过滤器（&lt;a href="https://github.com/envoyproxy/envoy/issues/7009">Envoy Issue 7009&lt;/a>）。&lt;/li>
&lt;/ul></description><pubDate>Mon, 17 Jun 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1.9/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1.9/</guid></item><item><title>Istio 1.0.8 发布公告</title><description>
&lt;p>我们很高兴的宣布 Istio 1.0.8 现已正式发布。下面是更新详情。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.0.8"
data-downloadbuttontext="DOWNLOAD 1.0.8"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.0.8)'
data-updatebutton='了解 Istio 1.0.9'
data-updatehref="/v1.9/zh/news/releases/1.0.x/announcing-1.0.9/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.0/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.0.7...1.0.8">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>修复了 Citadel 如果无法联系 Kubernetes API 服务器可能会生成新的根 CA 的问题，该问题会导致双向 TLS 验证失败（&lt;a href="https://github.com/istio/istio/issues/14512">Issue 14512&lt;/a>）。&lt;/li>
&lt;/ul>
&lt;h2 id="small-enhancements">小的改进&lt;/h2>
&lt;ul>
&lt;li>将 Citadel 默认根 CA 证书的 TTL 从 1 年更新为 10 年。&lt;/li>
&lt;/ul></description><pubDate>Fri, 07 Jun 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.0.x/announcing-1.0.8/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.0.x/announcing-1.0.8/</guid></item><item><title>Istio 1.1.8 发布公告</title><description>
&lt;p>我们非常高兴的宣布 Istio 1.1.8 已经可用。请浏览下面的变更说明。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.1.8"
data-downloadbuttontext="DOWNLOAD 1.1.8"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.1.8)'
data-updatebutton='了解 Istio 1.1.17'
data-updatehref="/v1.9/zh/news/releases/1.1.x/announcing-1.1.17/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.1/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.1.7...1.1.8">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>修复 CDS 集群的 &lt;code>PASSTHROUGH&lt;/code> &lt;code>DestinationRules&lt;/code>（&lt;a href="https://github.com/istio/istio/issues/13744">Issue 13744&lt;/a>）。&lt;/li>
&lt;li>使 Helm charts 中的 &lt;code>appVersion&lt;/code> 和 &lt;code>version&lt;/code> 字段显示正确的 Istio 版本（&lt;a href="https://github.com/istio/istio/issues/14290">Issue 14290&lt;/a>）。&lt;/li>
&lt;li>修复 Mixer 崩溃同时影响策略和遥测服务（&lt;a href="https://github.com/istio/istio/issues/14235">Issue 14235&lt;/a>）。&lt;/li>
&lt;li>修复多集群时不同集群中的两个 pod 无法共享同一个 IP 地址的问题（&lt;a href="https://github.com/istio/istio/issues/14066">Issue 14066&lt;/a>）。&lt;/li>
&lt;li>修复当 Citadel 无法连接 Kubernetes API 服务时重新生成新的根 CA 导致双向 TLS 验证失败的问题（&lt;a href="https://github.com/istio/istio/issues/14512">Issue 14512&lt;/a>）。&lt;/li>
&lt;li>改进 Pilot 验证以拒绝相同域名的不同 &lt;code>VirtualServices&lt;/code>，因为 Envoy 不会接受（&lt;a href="https://github.com/istio/istio/issues/13267">Issue 13267&lt;/a>）。&lt;/li>
&lt;li>修复了本地负载均衡问题，即本地中只有一个副本会接收流量（&lt;a href="https://github.com/istio/istio/issues/13994">13994&lt;/a>）。&lt;/li>
&lt;li>修复了 Pilot Agent 可能不会注意到 TLS 证书轮换的问题（&lt;a href="https://github.com/istio/istio/issues/14539">Issue 14539&lt;/a>）。&lt;/li>
&lt;li>修复 Envoy 中一个 &lt;code>LuaJIT&lt;/code> 崩溃问题（&lt;a href="https://github.com/envoyproxy/envoy/pull/6994">Envoy Issue 6994&lt;/a>）。&lt;/li>
&lt;li>修复一个资源竞争问题：Envoy 可能在下游连接已经关闭 TCP 连接后重用 HTTP/1.1 连接，从而导致 503 错误和重试（&lt;a href="https://github.com/istio/istio/issues/14037">Issue 14037&lt;/a>）。&lt;/li>
&lt;li>修复了 Mixer 的 Zipkin 适配器中的跟踪问题，该问题导致 spans 丢失（&lt;a href="https://github.com/istio/istio/issues/13391">Issue 13391&lt;/a>）。&lt;/li>
&lt;/ul>
&lt;h2 id="small-enhancements">小改进&lt;/h2>
&lt;ul>
&lt;li>通过在 &lt;code>DEBUG&lt;/code> 模式下记录 &lt;code>the endpoints within network ... will be ignored for no network configured&lt;/code> 消息减少 Pilot 日志信息。&lt;/li>
&lt;li>使 pilot-agent 忽略未知标记以更容易回滚。&lt;/li>
&lt;li>将 Citadel 的默认根 CA 证书 TTL 从 1 年更新为 10 年。&lt;/li>
&lt;/ul></description><pubDate>Thu, 06 Jun 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1.8/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1.8/</guid></item><item><title>ISTIO-SECURITY-2019-001</title><description>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th colspan="2">安全漏洞详情&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>CVE(s)&lt;/td>
&lt;td>
&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>CVSS 影响评分&lt;/td>
&lt;td> &lt;a href="https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=">&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>受影响的版本&lt;/td>
&lt;td>
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="context">内容&lt;/h2>
&lt;p>在检视 &lt;a href="/v1.9/zh/news/releases/1.1.x/announcing-1.1.7">Istio 1.1.7&lt;/a> 发布公告时我们发现已修复的缺陷 &lt;a href="https://github.com/istio/istio/issues/13868">issue 13868&lt;/a> 隐含一个安全漏洞。&lt;/p>
&lt;p>起初我们认为该缺陷仅影响 alpha 特性 &lt;a href="/v1.9/zh/about/feature-stages/#security-and-policy-enforcement">TCP Authorization&lt;/a>，这样就不需要安全公告。但后来我们发现稳定特性
&lt;a href="/v1.9/zh/docs/reference/config/policy-and-telemetry/adapters/denier/">Deny Checker&lt;/a>、
&lt;a href="/v1.9/zh/docs/reference/config/policy-and-telemetry/adapters/list/">List Checker&lt;/a> 也受到影响。
我们正在重新评估标识缺陷为安全漏洞的流程而不是通过
&lt;a href="/v1.9/zh/about/security-vulnerabilities/">private disclosure process&lt;/a>。&lt;/p>
&lt;p>该缺陷源于 Istio 1.1 中引入的一个代码变更，影响至 1.1.6 的所有版本。&lt;/p>
&lt;h2 id="impact-and-detection">影响与检测&lt;/h2>
&lt;p>从 Istio 1.1 版本起，Istio 默认安装时策略增强是关闭的。&lt;/p>
&lt;p>您可以通过以下命令来检测服务网格策略增强状态：&lt;/p>
&lt;pre>&lt;code class='language-bash' data-expandlinks='true' data-repo='istio' >$ kubectl -n istio-system get cm istio -o jsonpath=&amp;#34;{@.data.mesh}&amp;#34; | grep disablePolicyChecks
disablePolicyChecks: true
&lt;/code>&lt;/pre>
&lt;p>如果 &lt;code>disablePolicyChecks&lt;/code> 状态为 true 那意味着该漏洞对您没有影响。&lt;/p>
&lt;p>如果以下条件都是 true 那意味着该漏洞对您有影响：&lt;/p>
&lt;ul>
&lt;li>您在使用受影响的 Istio 版本&lt;/li>
&lt;li>&lt;code>disablePolicyChecks&lt;/code> 设置为 false（请使用上述命令检查）&lt;/li>
&lt;li>您的工作负载未使用 HTTP、HTTP/2 或 gRPC 协议&lt;/li>
&lt;li>使用 Mixer 适配器（比如 Deny Checker、List Checker）来为您的后端 TCP 服务提供授权。&lt;/li>
&lt;/ul>
&lt;h2 id="mitigation">防范&lt;/h2>
&lt;ul>
&lt;li>Istio 1.0.x 用户未受影响。&lt;/li>
&lt;li>对 Istio 1.1.x 部署请升级至 &lt;a href="/v1.9/zh/news/releases/1.1.x/announcing-1.1.7">Istio 1.1.7&lt;/a> 或后续版本。&lt;/li>
&lt;/ul>
&lt;h2 id="credit">致谢&lt;/h2>
&lt;p>Istio 团队非常感谢 &lt;code>Haim Helman&lt;/code> 报告该缺陷。&lt;/p>
&lt;h2 id="漏洞报告">漏洞报告&lt;/h2>
&lt;p>希望大家遵循&lt;a href="/v1.9/zh/about/security-vulnerabilities/">漏洞报告步骤&lt;/a>，以报告任何可能会导致安全漏洞的 bug。</description><pubDate>Tue, 28 May 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/security/istio-security-2019-001/</link><author/><guid isPermaLink="true">/v1.9/zh/news/security/istio-security-2019-001/</guid><category>CVE</category></item><item><title>对 Istio 1.0 的支持将于 2019 年 6 月 19 日终止</title><description>&lt;p>根据 Istio 的&lt;a href="/v1.9/zh/about/release-cadence/">支持策略&lt;/a>，在下一个 LTS 版本发布后，1.0 会继续得到三个月的支持。由于 &lt;a href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/">1.1 已于 3 月 19 日发布&lt;/a>，因此对 1.0 的支持将于 2019 年 6 月 19 日终止。&lt;/p>
&lt;p>届时，我们将停止为 1.0 提供针对安全问题和关键错误的修复程序，因此我们建议您升级到最新版本的 Istio (1.9.5)。如果您不升级，可能会使自己处于必须在短时间内完成重大升级才能获取关键修复程序的地步。&lt;/p>
&lt;p>我们关心您和您的集群，请对自己好点，升吧。&lt;/p></description><pubDate>Thu, 23 May 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/support/announcing-1.0-eol/</link><author/><guid isPermaLink="true">/v1.9/zh/news/support/announcing-1.0-eol/</guid></item><item><title>Istio 1.1.7 发布公告</title><description>
&lt;p>我们非常高兴的宣布 Istio 1.1.7 已经可用。请浏览下面的变更说明。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.1.7"
data-downloadbuttontext="DOWNLOAD 1.1.7"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.1.7)'
data-updatebutton='了解 Istio 1.1.17'
data-updatehref="/v1.9/zh/news/releases/1.1.x/announcing-1.1.17/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.1/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.1.6...1.1.7">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="security-update">安全更新&lt;/h2>
&lt;p>该版本修复了 &lt;a href="/v1.9/zh/news/security/istio-security-2019-001">CVE 2019-12243&lt;/a>。&lt;/p>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>修复了在同一秒创建的具有重叠主机的两个网关可能导致 Pilot 无法正确生成路由并导致 Envoy 侦听器在启动时无限期卡死的问题。&lt;/li>
&lt;li>提高 SDS 节点代理的健壮性：如果 Envoy 发送带有空的 &lt;code>ResourceNames&lt;/code> 的 SDS 请求，请忽略它并等待下一个请求，而不是关闭连接（&lt;a href="https://github.com/istio/istio/issues/13853">Issue 13853&lt;/a>）。&lt;/li>
&lt;li>在以前的版本中，如果服务端口名称是 &lt;code>mysql&lt;/code>，Pilot 会自动将实验性的 &lt;code>envoy.filters.network.mysql_proxy&lt;/code> 过滤器注入到出站过滤器链中。这是令人惊讶的，并给某些运维人员造成了问题，因此，现在仅当将 &lt;code>PILOT_ENABLE_MYSQL_FILTER&lt;/code> 环境变量设置为 &lt;code>1&lt;/code> 时，Pilot 才会自动注入 &lt;code>envoy.filters.network.mysql_proxy&lt;/code> 过滤器（&lt;a href="https://github.com/istio/istio/issues/13998">Issue 13998&lt;/a>）。&lt;/li>
&lt;li>解决了错误地为 TCP 禁用 Mixer 策略检查的问题（&lt;a href="https://github.com/istio/istio/issues/13868">Issue 13868&lt;/a>）。&lt;/li>
&lt;/ul>
&lt;h2 id="small-enhancements">小改进&lt;/h2>
&lt;ul>
&lt;li>新增 &lt;code>--applicationPorts&lt;/code> 选项到 &lt;code>ingressgateway&lt;/code> Helm charts。当设置为以逗号分隔的端口列表时，就绪检查将失败，直到所有端口都变为活动状态为止。配置后，流量将不会发送到处于预热状态的 Envoy。&lt;/li>
&lt;li>将 &lt;code>ingressgateway&lt;/code> Helm chart 中的内存限制增加到 1GB，并向 SDS 节点代理容器添加资源 &lt;code>request&lt;/code> 和 &lt;code>limits&lt;/code> 以支持 HPA 自动缩放。&lt;/li>
&lt;/ul></description><pubDate>Fri, 17 May 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1.7/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1.7/</guid></item><item><title>发布公告 Istio 1.1.6</title><description>
&lt;p>我们非常高兴的宣布 Istio 1.1.6 已经可用。请浏览下面的变更说明。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.1.6"
data-downloadbuttontext="DOWNLOAD 1.1.6"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.1.6)'
data-updatebutton='了解 Istio 1.1.17'
data-updatehref="/v1.9/zh/news/releases/1.1.x/announcing-1.1.17/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.1/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.1.5...1.1.6">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>修复 Galley Helm charts 使得 &lt;code>validatingwebhookconfiguration&lt;/code> 可以部署到其它命名空间（非 &lt;code>istio-system&lt;/code>）中（&lt;a href="https://github.com/istio/istio/issues/13625">Issue 13625&lt;/a>）。&lt;/li>
&lt;li>为反亲和性支持提供额外的 Helm chart 修复：修复 &lt;code>gatewaypodAntiAffinityRequiredDuringScheduling&lt;/code> 和 &lt;code>podAntiAffinityLabelSelector&lt;/code> 匹配表达式以及修复 &lt;code>podAntiAffinityLabelSelector&lt;/code> 的默认值（&lt;a href="https://github.com/istio/istio/issues/13892">Issue 13892&lt;/a>）。&lt;/li>
&lt;li>使 Pilot 处理以下情况：在侦听器还在回收时，Envoy 持续请求已删除网关的路由（&lt;a href="https://github.com/istio/istio/issues/13739">Issue 13739&lt;/a>）。&lt;/li>
&lt;/ul>
&lt;h2 id="small-enhancements">小改进&lt;/h2>
&lt;ul>
&lt;li>如果启用了访问日志，&lt;code>passthrough&lt;/code> 侦听器的请求将被记录。&lt;/li>
&lt;li>使 Pilot 容忍未知的 JSON 字段，以便在升级过程中更轻松地回滚到旧版本。&lt;/li>
&lt;li>&lt;code>SDS&lt;/code> 增加对后备 secrets 的支持，使得 Envoy 可以使用它而不是在启动过程中无限期地等待最新或不存在的 secret（&lt;a href="https://github.com/istio/istio/issues/13853">Issue 13853&lt;/a>）。&lt;/li>
&lt;/ul></description><pubDate>Sat, 11 May 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1.6/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1.6/</guid></item><item><title>Istio 1.1.5 发布公告</title><description>
&lt;p>我们非常高兴的宣布 Istio 1.1.5 已经可用。请浏览下面的变更说明。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.1.5"
data-downloadbuttontext="DOWNLOAD 1.1.5"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.1.5)'
data-updatebutton='了解 Istio 1.1.17'
data-updatehref="/v1.9/zh/news/releases/1.1.x/announcing-1.1.17/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.1/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.1.4...1.1.5">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>向 Pilot 增加额外的验证以拒绝网关配置中主机匹配重叠的问题（&lt;a href="https://github.com/istio/istio/issues/13717">Issue 13717&lt;/a>）。&lt;/li>
&lt;li>根据最新稳定版本的 &lt;code>istio-cni&lt;/code> 构建，而不是最新的每日构建（&lt;a href="https://github.com/istio/istio/issues/13171">Issue 13171&lt;/a>）。&lt;/li>
&lt;/ul>
&lt;h2 id="small-enhancements">小改进&lt;/h2>
&lt;ul>
&lt;li>添加日志以帮助诊断主机名解析失败问题（&lt;a href="https://github.com/istio/istio/issues/13581">Issue 13581&lt;/a>）。&lt;/li>
&lt;li>通过移除对 &lt;code>busybox&lt;/code> 镜像的不必要依赖，提高安装 &lt;code>prometheus&lt;/code> 的简便性（&lt;a href="https://github.com/istio/istio/issues/13501">Issue 13501&lt;/a>）。&lt;/li>
&lt;li>使 Pilot Agent 的证书路径可配置（&lt;a href="https://github.com/istio/istio/issues/11984">Issue 11984&lt;/a>）。&lt;/li>
&lt;/ul></description><pubDate>Fri, 03 May 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1.5/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1.5/</guid></item><item><title>Istio 1.1.4 发布</title><description>
&lt;p>我们很高心的宣布最新的 Istio 1.1.4 版本已经发布 ，具体更改如下。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.1.4"
data-downloadbuttontext="DOWNLOAD 1.1.4"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.1.4)'
data-updatebutton='了解 Istio 1.1.17'
data-updatehref="/v1.9/zh/news/releases/1.1.x/announcing-1.1.17/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.1/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.1.3...1.1.4">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="behavior-change">行为变更&lt;/h2>
&lt;ul>
&lt;li>更改了 Pilot 的默认行为，以允许流量流向网格外部，即使该流量与内部服务位于同一端口上也是如此，此行为可由 &lt;code>PILOT_ENABLE_FALLTHROUGH_ROUTE&lt;/code> 环境变量控制。&lt;/li>
&lt;/ul>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>&lt;p>修复了 &lt;code>ExternalName&lt;/code> 类型服务的出口路由的生成。&lt;/p>&lt;/li>
&lt;li>&lt;p>添加了对配置 Envoy 的空闲连接超时的支持，预防内存或者 IP 端口耗尽 (&lt;a href="https://github.com/istio/istio/issues/13355">Issue 13355&lt;/a>).&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了基于本地负载均衡的故障转移处理中的 Pilot 崩溃错误。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了在 Pilot 获得自定义证书路径时崩溃的错误。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了 Pilot 中的一个错误，该错误忽略了用作服务条目主机的短名称 (&lt;a href="https://github.com/istio/istio/issues/13436">Issue 13436&lt;/a>)。&lt;/p>&lt;/li>
&lt;li>&lt;p>向 envoy-metrics-service 集群配置中添加了缺失的 &lt;code>https_protocol_options&lt;/code>。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了 Pilot 中的一个错误，当路由 fall through 时，Pilot 无法正确处理 https 流量 (&lt;a href="https://github.com/istio/istio/issues/13386">Issue 13386&lt;/a>)。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了之前遗留的一个问题，从 Kubernetes 移除端点后，Pilot 并未从 Envoy 移除端点 (&lt;a href="https://github.com/istio/istio/issues/13402">Issue 13402&lt;/a>)。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了节点代理中的崩溃错误 (&lt;a href="https://github.com/istio/istio/issues/13325">Issue 13325&lt;/a>)。&lt;/p>&lt;/li>
&lt;li>&lt;p>添加了缺少的验证，以防止网关名称包含点（.）(&lt;a href="https://github.com/istio/istio/issues/13211">Issue 13211&lt;/a>)。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了 &lt;a href="/v1.9/zh/docs/reference/config/networking/destination-rule#LoadBalancerSettings-ConsistentHashLB">&lt;code>ConsistentHashLB.minimumRingSize&lt;/code>&lt;/a>
默认为 0 而不是记录的 1024 (&lt;a href="https://github.com/istio/istio/issues/13261">Issue 13261&lt;/a>)。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="small-enhancements">小改进&lt;/h2>
&lt;ul>
&lt;li>&lt;p>更新了 &lt;a href="https://www.kiali.io">Kiali&lt;/a> 附加组件的最新版本。&lt;/p>&lt;/li>
&lt;li>&lt;p>更新了最新版本的 &lt;a href="https://grafana.com">Grafana&lt;/a>。&lt;/p>&lt;/li>
&lt;li>&lt;p>添加了验证以确保仅使用单个副本部署 Citadel (&lt;a href="https://github.com/istio/istio/issues/13383">Issue 13383&lt;/a>)。&lt;/p>&lt;/li>
&lt;li>&lt;p>添加了对配置代理和 Istio 控制平面的日志记录级别的支持 ((&lt;a href="https://github.com/istio/istio/issues/11847">Issue 11847&lt;/a>)。&lt;/p>&lt;/li>
&lt;li>&lt;p>允许 Sidecar 绑定到任何环回地址，而不仅限于 127.0.0.1 (&lt;a href="https://github.com/istio/istio/issues/13201">Issue 13201&lt;/a>)。&lt;/p>&lt;/li>
&lt;/ul></description><pubDate>Wed, 24 Apr 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1.4/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1.4/</guid></item><item><title>Istio 1.1.3 发布公告</title><description>
&lt;p>我们很高兴的宣布 Istio 1.1.3 发布，下面介绍相关更新信息。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.1.3"
data-downloadbuttontext="DOWNLOAD 1.1.3"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.1.3)'
data-updatebutton='了解 Istio 1.1.17'
data-updatehref="/v1.9/zh/news/releases/1.1.x/announcing-1.1.17/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.1/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.1.2...1.1.3">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="known-issues-with-1-1-3">1.1.3 版本已知问题&lt;/h2>
&lt;ul>
&lt;li>在启用了 alpha-quality SDS 证书轮换功能的集群中，存在&lt;a href="https://github.com/istio/istio/issues/13325">节点代理恐慌&lt;/a>问题。
由于这是我们首次将 SDS 证书轮换纳入长期运行的测试版本，因此我们不知道这是潜在的错误还是新的回归。
考虑到 SDS 证书轮换为 alpha 版本，我们决定带着这个问题发布 1.1.3 版本，在 1.1.4 版本中我们将解决此问题。&lt;/li>
&lt;/ul>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>&lt;p>删除了 Istio 1.1.2 对 Envoy 某个补丁的反向移植，该补丁用于修复 &lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9900">&lt;code>CVE-2019-9900&lt;/code>&lt;/a> 和 &lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9901">&lt;code>CVE-2019-9901&lt;/code>&lt;/a>。以便更新包含了最终版本补丁的 Envoy。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复分割水平 &lt;code>EDS&lt;/code> 的负载均衡权重设置。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复 Envoy 默认日志格式中的错字。（&lt;a href="https://github.com/istio/istio/issues/12232">Issue 12232&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>在配置更改时正确地重新加载进程外适配器地址。（&lt;a href="https://github.com/istio/istio/issues/12488">Issue 12488&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>恢复意外删除的 Kiali 设置。（&lt;a href="https://github.com/istio/istio/issues/3660">Issue 3660&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>修复当具有相同目标端口的服务存在时导致的重复入站侦听问题。（&lt;a href="https://github.com/istio/istio/issues/9504">Issue 9504&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>通过自动绑定到 &lt;code>Sidecar&lt;/code> 侦听器的服务，解决为 &lt;code>istio-system&lt;/code> 以外命名空间配置 &lt;code>Sidecar&lt;/code> &lt;code>egress&lt;/code> 端口的问题，从而生成 &lt;code>BlackHoleCluster&lt;/code> 的 &lt;code>envoy.tcp_proxy&lt;/code> 过滤器。（&lt;a href="https://github.com/istio/istio/issues/12536">Issue 12536&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>通过支持更准确的主机匹配来修正网关 &lt;code>vhost&lt;/code> 配置生成问题。（&lt;a href="https://github.com/istio/istio/issues/12655">Issue 12655&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>修复 &lt;code>ALLOW_ANY&lt;/code>，如果端口上已经存在 http 服务，现在允许外部流量。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复验证逻辑，现在 &lt;code>port.name&lt;/code> 不再是有效的 &lt;code>PortSelection&lt;/code>。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-proxy-config-cluster">&lt;code>istioctl proxy-config cluster&lt;/code>&lt;/a> 命令输出结果中集群类型列的渲染问题。（&lt;a href="https://github.com/istio/istio/issues/12455">Issue 12455&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>修复 SDS secret 的挂载配置。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复 Helm chart 中错误的 Istio 版本。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复当存在重叠端口时出现的 DNS 故障。（&lt;a href="https://github.com/istio/istio/issues/11658">Issue 11658&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>修复 Helm &lt;code>podAntiAffinity&lt;/code> 模板错误。（&lt;a href="https://github.com/istio/istio/issues/12790">Issue 12790&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>修复源目标服务发现不使用源目标负载均衡器的问题。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复当存在无效或丢失密钥时出现的 SDS 内存泄漏问题。（&lt;a href="https://github.com/istio/istio/issues/13197">Issue 13197&lt;/a>）&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="small-enhancements">小的增强&lt;/h2>
&lt;ul>
&lt;li>&lt;p>从 &lt;code>PushContext&lt;/code> 日志中隐藏 &lt;code>ServiceAccounts&lt;/code> 以缩小日志。&lt;/p>&lt;/li>
&lt;li>&lt;p>通过 &lt;code>values.yaml&lt;/code> 的 &lt;code>localityLbSetting&lt;/code> 字段配置网格。&lt;/p>&lt;/li>
&lt;li>&lt;p>从 Helm 图表中删除即将弃用的 &lt;code>critical-pod&lt;/code> 注释。（&lt;a href="https://github.com/istio/istio/issues/12650">Issue 12650&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>支持 Pod 反亲和性注释以提高控制平面的可用性。（&lt;a href="https://github.com/istio/istio/issues/11333">Issue 11333&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>访问日志中优化 &lt;code>IP&lt;/code> 地址打印。&lt;/p>&lt;/li>
&lt;li>&lt;p>删除冗余的 write header，以进一步减小日志。&lt;/p>&lt;/li>
&lt;li>&lt;p>改进 Pilot 的目标主机验证。&lt;/p>&lt;/li>
&lt;li>&lt;p>显式的配置 &lt;code>istio-init&lt;/code> 以 root 身份运行，以免使用 Pod-level 的 &lt;code>securityContext.runAsUser&lt;/code> 破坏它。（&lt;a href="https://github.com/istio/istio/issues/5453">Issue 5453&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>添加用于 Vault 集成的配置示例。&lt;/p>&lt;/li>
&lt;li>&lt;p>从 &lt;code>ServiceEntry&lt;/code> 执行局部负载均衡权重。&lt;/p>&lt;/li>
&lt;li>&lt;p>使由 Pilot Agent 监视的 TLS 证书位置可配置。（&lt;a href="https://github.com/istio/istio/issues/11984">Issue 11984&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>添加对 Datadog 追踪的支持。&lt;/p>&lt;/li>
&lt;li>&lt;p>为 &lt;code>istioctl&lt;/code> 添加别名，可以使用 &amp;ldquo;x&amp;rdquo; 代替 &amp;ldquo;experimental&amp;rdquo;。&lt;/p>&lt;/li>
&lt;li>&lt;p>通过在 CSR 请求中添加抖动来提供改进的 Sidecar certificate。&lt;/p>&lt;/li>
&lt;li>&lt;p>允许配置权重负载平衡注册表的位置。&lt;/p>&lt;/li>
&lt;li>&lt;p>为内置的 Mixer 适配器添加对标准 CRD 的支持。&lt;/p>&lt;/li>
&lt;li>&lt;p>减少用于演示配置的 Pilot 的资源需求。&lt;/p>&lt;/li>
&lt;li>&lt;p>通过添加数据源完全填充 Galley 仪表盘。（&lt;a href="https://github.com/istio/istio/issues/13040">Issue 13040&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>将 Istio 1.1 &lt;code>sidecar&lt;/code> 的性能调整覆盖到 &lt;code>istio-gateway&lt;/code>。&lt;/p>&lt;/li>
&lt;li>&lt;p>通过拒绝 &lt;code>*&lt;/code> 主机来改善目标主机的验证。（&lt;a href="https://github.com/istio/istio/issues/12794">Issue 12794&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>在集群定义中暴露上游的 &lt;code>idle_timeout&lt;/code>，以便可以在使用前从连接池中删除死连接。（&lt;a href="https://github.com/istio/istio/issues/9113">Issue 9113&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>注册 &lt;code>Sidecar&lt;/code> 资源以限制 Pod 可以看到的内容时，如果规范包含一个 &lt;code>workloadSelector&lt;/code>，这些限制将被应用。（&lt;a href="https://github.com/istio/istio/issues/11818">Issue 11818&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>更新 Bookinfo 示例以使端口 80 用于 TLS 源。&lt;/p>&lt;/li>
&lt;li>&lt;p>为 Citadel 添加存活探针。&lt;/p>&lt;/li>
&lt;li>&lt;p>通过将 15020 设置为 &lt;code>ingressgateway&lt;/code> 服务中列出的第一个端口来提高 AWS ELB 的互操作性。（&lt;a href="https://github.com/istio/istio/issues/12503">Issue 12502&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>对故障转移模式使用异常值检测，但不用于局部加权负载均衡的分布模式。（&lt;a href="https://github.com/istio/istio/issues/12961">Issues 12965&lt;/a>）&lt;/p>&lt;/li>
&lt;li>&lt;p>对于 Istio 1.1.0+ Sidecar，使用 &lt;code>filter_enabled&lt;/code> 字段取代 &lt;code>CorsPolicy&lt;/code> 中的 &lt;code>enabled&lt;/code> 字段。&lt;/p>&lt;/li>
&lt;li>&lt;p>标准化 Mixer Helm chart 上的标签.&lt;/p>&lt;/li>
&lt;/ul></description><pubDate>Mon, 15 Apr 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1.3/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1.3/</guid></item><item><title>包含重要安全更新的 Istio 1.1.2 发布公告</title><description>
&lt;p>我们宣布 Istio 1.1.2 现已可用，其包含了一些重要的安全更新。请参阅下面的详细资料。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.1.2"
data-downloadbuttontext="DOWNLOAD 1.1.2"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.1.2)'
data-updatebutton='了解 Istio 1.1.17'
data-updatehref="/v1.9/zh/news/releases/1.1.x/announcing-1.1.17/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.1/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.1.1...1.1.2">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="security-update">安全更新&lt;/h2>
&lt;p>最近在 Envoy 代理中发现了两个安全漏洞 (&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9900">CVE 2019-9900&lt;/a> 和 &lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9901">CVE 2019-9901&lt;/a>)。
此漏洞已在 Envoy 1.9.1 版中被修复，相应地，也对 Istio 1.1.2 和 Istio 1.0.7 内置的 Envoy 进行了修复。
由于 Envoy 是 Istio 不可或缺的一部分，因此建议用户立即更新 Istio，以防范由这些漏洞引起的安全风险。&lt;/p>
&lt;p>漏洞实际上是这样导致的：Envoy 没有规范化 HTTP URI 路径，也没有完全验证 HTTP/1.1 header 值。这些漏洞影响了依赖于 Envoy 强制执行授权、路由和速率限制的 Istio 特性。&lt;/p>
&lt;h2 id="affected-Istio-releases">受影响的 Istio 版本&lt;/h2>
&lt;p>以下 Istio 版本容易受到攻击：&lt;/p>
&lt;ul>
&lt;li>&lt;p>1.1, 1.1.1&lt;/p>
&lt;ul>
&lt;li>这些版本可以升级至 Istio 1.1.2。&lt;/li>
&lt;li>1.1.2 与 1.1.1 是基于相同源码构建的，仅添加了解决 CVE 的 Envoy 补丁。&lt;/li>
&lt;/ul>&lt;/li>
&lt;li>&lt;p>1.0, 1.0.1, 1.0.2, 1.0.3, 1.0.4, 1.0.5, 1.0.6&lt;/p>
&lt;ul>
&lt;li>这些版本可以升级至 Istio 1.0.7。&lt;/li>
&lt;li>1.0.6 与 1.0.7 是基于相同源码构建的，仅添加了解决 CVE 的 Envoy 补丁。&lt;/li>
&lt;/ul>&lt;/li>
&lt;li>&lt;p>0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8&lt;/p>
&lt;ul>
&lt;li>这些发行版不再受支持，也不会进行修补。请升级到受支持的版本，以获取必要的修复程序。&lt;/li>
&lt;/ul>&lt;/li>
&lt;/ul>
&lt;h2 id="vulnerability-impact">漏洞影响&lt;/h2>
&lt;p>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9900">CVE 2019-9900&lt;/a> 和 &lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9901">CVE 2019-9901&lt;/a>
允许远程攻击者使用特制的请求 URI 路径（9901）和 HTTP/1.1 header 中的 NUL 字节（9900）来访问未经授权的资源，并可能绕过速率限制等 DoS 防御系统，或路由至未暴露的上游系统。
参阅 &lt;a href="https://github.com/envoyproxy/envoy/issues/6434">issue 6434&lt;/a> 和 &lt;a href="https://github.com/envoyproxy/envoy/issues/6435">issue 6435&lt;/a> 获取更多信息。&lt;/p>
&lt;p>由于 Istio 基于 Envoy，因此 Istio 客户可能会受到这些漏洞的影响，具体取决于 Istio 策略和路由规则中是否使用了路径和请求 header 以及后端 HTTP 实现是如何解析它们的。如果 Mixer 或 Istio 的授权策略或路由规则使用前缀路径匹配规则，则攻击者可能利用这些漏洞来访问某些 HTTP 后端上的未授权路径。&lt;/p>
&lt;h2 id="mitigation">防范&lt;/h2>
&lt;p>消除漏洞需要更新到正确的 Envoy 版本。我们已经在最新的 Istio 修补程序版本中合并了必要的更新。&lt;/p>
&lt;p>对于 Istio 1.1.x deployment：至少升级至 &lt;a href="/v1.9/zh/news/releases/1.1.x/announcing-1.1.2">Istio 1.1.2&lt;/a>&lt;/p>
&lt;p>对于 Istio 1.0.x deployment：至少升级至 &lt;a href="/v1.9/zh/news/releases/1.0.x/announcing-1.0.7">Istio 1.0.7&lt;/a>&lt;/p>
&lt;p>尽管 Envoy 1.9.1 需要选择路径规范化以解决 CVE 2019-9901，但默认情况下，Istio 1.1.2 和 1.0.7 中内置的 Envoy 版本已经启用了路径规范化。&lt;/p>
&lt;h2 id="detection-of-NUL-header-exploit">检测 NUL header 漏洞&lt;/h2>
&lt;p>根据目前的信息，这只会影响 HTTP/1.1 的流量。如果您的网络或配置不是这种结构，那么此漏洞不太可能影响到您。&lt;/p>
&lt;p>基于文件的访问日志记录与 gRPC 访问日志记录一样，使用 &lt;code>c_str()&lt;/code> 表示 header 值，因此扫描 NUL，不会发现通过 Envoy 的访问日志的任何异常。&lt;/p>
&lt;p>相反，运维人员可能会在 Envoy 执行的路由和 &lt;code>RouteConfiguration&lt;/code> 预期的逻辑之间的日志中寻找不一致之处。&lt;/p>
&lt;p>外部授权和速率限制服务可以检查 header 中的 NUL。后端服务器可能具有足够的日志记录来检测 NUL 或意外访问；根据 RFC 7230，在这种情况下，很可能会通过 400 bad request 简单地拒绝 NUL。&lt;/p>
&lt;h2 id="detection-of-path-traversal-exploit">检测路径遍历漏洞&lt;/h2>
&lt;p>Envoy 的访问日志（基于文件或 gRPC ）将包含非规范化路径，因此可以检查这些日志以检测可疑的模式和与预期的运维人员配置意图不一致的请求。此外，在 &lt;code>ext_authz&lt;/code>、速率限制和后端服务器上可以使用非规范化路径进行日志检查。&lt;/p></description><pubDate>Fri, 05 Apr 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1.2/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1.2/</guid></item><item><title>含有重要安全更新的 Istio 1.0.7 发布公告</title><description>
&lt;p>我们很高兴的宣布 Istio 1.0.7 现已正式发布。下面是更新详情。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.0.7"
data-downloadbuttontext="DOWNLOAD 1.0.7"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.0.7)'
data-updatebutton='了解 Istio 1.0.9'
data-updatehref="/v1.9/zh/news/releases/1.0.x/announcing-1.0.9/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.0/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.0.6...1.0.7">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="security-update">安全更新&lt;/h2>
&lt;p>最近在 Envoy 代理中发现了两个安全漏洞 (&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9900">CVE 2019-9900&lt;/a> 和 &lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9901">CVE 2019-9901&lt;/a>)。
此漏洞已在 Envoy 1.9.1 版中被修复，相应地，也对 Istio 1.1.2 和 Istio 1.0.7 内置的 Envoy 进行了修复。
由于 Envoy 是 Istio 不可或缺的一部分，因此建议用户立即更新 Istio，以防范由这些漏洞引起的安全风险。&lt;/p>
&lt;p>漏洞实际上是这样导致的：Envoy 没有规范化 HTTP URI 路径，也没有完全验证 HTTP/1.1 header 值。这些漏洞影响了依赖于 Envoy 强制执行授权、路由和速率限制的 Istio 特性。&lt;/p>
&lt;h2 id="affected-Istio-releases">受影响的 Istio 版本&lt;/h2>
&lt;p>以下 Istio 版本容易受到攻击：&lt;/p>
&lt;ul>
&lt;li>&lt;p>1.1, 1.1.1&lt;/p>
&lt;ul>
&lt;li>这些版本可以升级至 Istio 1.1.2。&lt;/li>
&lt;li>1.1.2 与 1.1.1 是基于相同源码构建的，仅添加了解决 CVE 的 Envoy 补丁。&lt;/li>
&lt;/ul>&lt;/li>
&lt;li>&lt;p>1.0, 1.0.1, 1.0.2, 1.0.3, 1.0.4, 1.0.5, 1.0.6&lt;/p>
&lt;ul>
&lt;li>这些版本可以升级至 Istio 1.0.7。&lt;/li>
&lt;li>1.0.6 与 1.0.7 是基于相同源码构建的，仅添加了解决 CVE 的 Envoy 补丁。&lt;/li>
&lt;/ul>&lt;/li>
&lt;li>&lt;p>0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8&lt;/p>
&lt;ul>
&lt;li>这些发行版不再受支持，也不会进行修补。请升级到受支持的版本，以获取必要的修复程序。&lt;/li>
&lt;/ul>&lt;/li>
&lt;/ul>
&lt;h2 id="vulnerability-impact">漏洞影响&lt;/h2>
&lt;p>&lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9900">CVE 2019-9900&lt;/a> 和 &lt;a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9901">CVE 2019-9901&lt;/a>
允许远程攻击者使用特制的请求 URI 路径（9901）和 HTTP/1.1 header 中的 NUL 字节（9900）来访问未经授权的资源，并可能绕过速率限制等 DoS 防御系统，或路由至未暴露的上游系统。
参阅 &lt;a href="https://github.com/envoyproxy/envoy/issues/6434">issue 6434&lt;/a> 和 &lt;a href="https://github.com/envoyproxy/envoy/issues/6435">issue 6435&lt;/a> 获取更多信息。&lt;/p>
&lt;p>由于 Istio 基于 Envoy，因此 Istio 客户可能会受到这些漏洞的影响，具体取决于 Istio 策略和路由规则中是否使用了路径和请求 header 以及后端 HTTP 实现是如何解析它们的。&lt;/p>
&lt;p>如果 Mixer 或 Istio 的授权策略或路由规则使用前缀路径匹配规则，则攻击者可能利用这些漏洞来访问某些 HTTP 后端上的未授权路径。&lt;/p>
&lt;h2 id="mitigation">防范&lt;/h2>
&lt;p>消除漏洞需要更新到正确的 Envoy 版本。我们已经在最新的 Istio 修补程序版本中合并了必要的更新。&lt;/p>
&lt;p>对于 Istio 1.1.x deployment：至少升级至 &lt;a href="/v1.9/zh/news/releases/1.1.x/announcing-1.1.2">Istio 1.1.2&lt;/a>&lt;/p>
&lt;p>对于 Istio 1.0.x deployment：至少升级至 &lt;a href="/v1.9/zh/news/releases/1.0.x/announcing-1.0.7">Istio 1.0.7&lt;/a>&lt;/p>
&lt;p>尽管 Envoy 1.9.1 需要选择路径规范化以解决 CVE 2019-9901，但默认情况下，Istio 1.1.2 和 1.0.7 中内置的 Envoy 版本已经启用了路径规范化。&lt;/p>
&lt;h2 id="detection-of-NUL-header-exploit">检测 NUL header 漏洞&lt;/h2>
&lt;p>根据目前的信息，这只会影响 HTTP/1.1 的流量。如果您的网络或配置不是这种结构，那么此漏洞不太可能影响到您。&lt;/p>
&lt;p>基于文件的访问日志记录与 gRPC 访问日志记录一样，使用 &lt;code>c_str()&lt;/code> 表示 header 值，因此扫描 NUL，不会发现通过 Envoy 的访问日志的任何异常。&lt;/p>
&lt;p>相反，运维人员可能会在 Envoy 执行的路由和 &lt;code>RouteConfiguration&lt;/code> 预期的逻辑之间的日志中寻找不一致之处。&lt;/p>
&lt;p>外部授权和速率限制服务可以检查 header 中的 NUL。后端服务器可能具有足够的日志记录来检测 NUL 或意外访问；根据 RFC 7230，在这种情况下，很可能会通过 400 bad request 简单地拒绝 NUL。&lt;/p>
&lt;h2 id="detection-of-path-traversal-exploit">检测路径遍历漏洞&lt;/h2>
&lt;p>Envoy 的访问日志（基于文件或 gRPC ）将包含非规范化路径，因此可以检查这些日志以检测可疑的模式和与预期的运维人员配置意图不一致的请求。此外，在 &lt;code>ext_authz&lt;/code>、速率限制和后端服务器上可以使用非规范化路径进行日志检查。&lt;/p></description><pubDate>Fri, 05 Apr 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.0.x/announcing-1.0.7/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.0.x/announcing-1.0.7/</guid></item><item><title>Istio 1.1.1 发布公告</title><description>
&lt;p>我们非常高兴的宣布 Istio 1.1.1 发布，请浏览下面的变更说明：&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/">
&lt;h5>升级之前&lt;/h5>
&lt;p>升级前须知。&lt;/p>
&lt;/a>
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.1.1"
data-downloadbuttontext="DOWNLOAD 1.1.1"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.1.1)'
data-updatebutton='了解 Istio 1.1.17'
data-updatehref="/v1.9/zh/news/releases/1.1.x/announcing-1.1.17/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.1/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.1.0...1.1.1">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes-and-minor-enhancements">Bug 修复和一些较小的增强&lt;/h2>
&lt;ul>
&lt;li>配置 Prometheus 以监控 Citadel。（&lt;a href="https://github.com/istio/istio/pull/12175">Issue 12175&lt;/a>）&lt;/li>
&lt;li>改善 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-verify-install">&lt;code>istioctl verify-install&lt;/code>&lt;/a> 命令的输出。（&lt;a href="https://github.com/istio/istio/pull/12174">Issue 12174&lt;/a>）&lt;/li>
&lt;li>降低 SPIFFE URI 的缺少服务账户消息的日志级别。（&lt;a href="https://github.com/istio/istio/issues/12108">Issue 12108&lt;/a>）&lt;/li>
&lt;li>修复 opt-in SDS 功能 Unix 域套接字路径错误的问题。（&lt;a href="https://github.com/istio/istio/pull/12688">Issue 12688&lt;/a>）&lt;/li>
&lt;li>修复 Envoy 追踪在父级 span 传播空字符串时无法创建子 span 的问题。（&lt;a href="https://github.com/envoyproxy/envoy/pull/6263">Envoy Issue 6263&lt;/a>）&lt;/li>
&lt;li>将名称空间作用域添加到网关的 “port” 名称。这解决了两个问题：
&lt;ul>
&lt;li>&lt;code>IngressGateway&lt;/code> 仅遵守第一个端口为 443 的网关定义。（&lt;a href="https://github.com/istio/istio/issues/11509">Issue 11509&lt;/a>）&lt;/li>
&lt;li>&lt;code>IngressGateway&lt;/code> 路由错误，两个不同网关使用同一个端口名（SDS）（&lt;a href="https://github.com/istio/istio/issues/12500">Issue 12500&lt;/a>）&lt;/li>
&lt;/ul>&lt;/li>
&lt;li>本地负载均衡权重相关的五个错误修复：
&lt;ul>
&lt;li>修复导致每个位置的端点为空的错误。（&lt;a href="https://github.com/istio/istio/issues/12610">Issue 12610&lt;/a>）&lt;/li>
&lt;li>正确的应用本地负载均衡权重配置。（&lt;a href="https://github.com/istio/istio/issues/12587">Issue 12587&lt;/a>）&lt;/li>
&lt;li>Kubernetes 中的位置标签 &lt;code>istio-locality&lt;/code> 不应包含 &lt;code>/&lt;/code>，应使用 &lt;code>.&lt;/code>。（&lt;a href="https://github.com/istio/istio/issues/12582">Issue 12582&lt;/a>）&lt;/li>
&lt;li>修复了本地负载均衡方面的崩溃问题。（&lt;a href="https://github.com/istio/istio/pull/12649">Issue 12649&lt;/a>）&lt;/li>
&lt;li>修复了本地负载均衡标准化中的错误。（&lt;a href="https://github.com/istio/istio/pull/12579">Issue 12579&lt;/a>）&lt;/li>
&lt;/ul>&lt;/li>
&lt;li>传播 Envoy 度量服务配置。（&lt;a href="https://github.com/istio/istio/issues/12569">Issue 12569&lt;/a>）&lt;/li>
&lt;li>不应用 &lt;code>VirtualService&lt;/code> 规则到错误的网关。（&lt;a href="https://github.com/istio/istio/issues/10313">Issue 10313&lt;/a>）&lt;/li>
&lt;/ul></description><pubDate>Mon, 25 Mar 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1.1/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1.1/</guid></item><item><title>Istio 1.0.6 发布公告</title><description>
&lt;p>我们很高兴的宣布 Istio 1.0.6 现已正式发布。下面是更新详情。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.0.6"
data-downloadbuttontext="DOWNLOAD 1.0.6"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.0.6)'
data-updatebutton='了解 Istio 1.0.9'
data-updatehref="/v1.9/zh/news/releases/1.0.x/announcing-1.0.9/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.0/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.0.5...1.0.6">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="bug-fixes">Bug 修复&lt;/h2>
&lt;ul>
&lt;li>修复 Galley Helm 图表，使 &lt;code>validatingwebhookconfiguration&lt;/code> 对象现在可以部署到 &lt;code>istio-system&lt;/code> 以外的名称空间（&lt;a href="https://github.com/istio/istio/issues/13625">Issue 13625&lt;/a>）。&lt;/li>
&lt;li>Helm 图表中其他针对反亲和性支持的修复：修复 &lt;code>gatewaypodAntiAffinityRequiredDuringScheduling&lt;/code> 和 &lt;code>podAntiAffinityLabelSelector&lt;/code> 匹配表达式，并修复 &lt;code>podAntiAffinityLabelSelector&lt;/code> 的默认值（&lt;a href="https://github.com/istio/istio/issues/13892">Issue 13892&lt;/a>）。&lt;/li>
&lt;li>让 Pilot 处理这种情况：监听器资源耗尽时，Envoy 依然继续请求已删除被 gateway 的路由（&lt;a href="https://github.com/istio/istio/issues/13739">Issue 13739&lt;/a>）。&lt;/li>
&lt;/ul>
&lt;h2 id="small-enhancements">小的改进&lt;/h2>
&lt;ul>
&lt;li>如果启用了访问日志，&lt;code>passthrough&lt;/code> 监听器的请求将被记录。&lt;/li>
&lt;li>使 Pilot 容忍未知的 JSON 字段，以便在升级过程中可以更轻松地回滚到旧版本。&lt;/li>
&lt;li>将备用 secret 的支持添加到 Envoy 可以使用的 &lt;code>SDS&lt;/code> 中，而不是在启动过程中无限期地等待最新的或不存在的 secret（&lt;a href="https://github.com/istio/istio/issues/13853">Issue 13853&lt;/a>）。&lt;/li>
&lt;/ul></description><pubDate>Tue, 12 Feb 2019 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.0.x/announcing-1.0.6/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.0.x/announcing-1.0.6/</guid></item><item><title>Istio 1.0.5 发布公告</title><description>
&lt;p>我们很高兴的宣布 Istio 1.0.5 现已正式发布。下面是更新详情。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.0.5"
data-downloadbuttontext="DOWNLOAD 1.0.5"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.0.5)'
data-updatebutton='了解 Istio 1.0.9'
data-updatehref="/v1.9/zh/news/releases/1.0.x/announcing-1.0.9/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.0/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.0.4...1.0.5">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="general">概况&lt;/h2>
&lt;ul>
&lt;li>&lt;p>禁用 &lt;code>istio-policy&lt;/code> 服务中的前置条件缓存，因为它会导致无效的结果。缓存将在以后的版本中重新引入。&lt;/p>&lt;/li>
&lt;li>&lt;p>Mixer 现在仅在启用了 &lt;code>tracespan&lt;/code> 适配器的情况下才生成 span，从而降低了正常情况下的 CPU 开销。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了一个可能导致 Pilot 挂起的 bug。&lt;/p>&lt;/li>
&lt;/ul></description><pubDate>Thu, 20 Dec 2018 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.0.x/announcing-1.0.5/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.0.x/announcing-1.0.5/</guid></item><item><title>Istio 1.0.4 发布公告</title><description>
&lt;p>我们很高兴的宣布 Istio 1.0.4 现已正式发布。下面是更新详情。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.0.4"
data-downloadbuttontext="DOWNLOAD 1.0.4"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.0.4)'
data-updatebutton='了解 Istio 1.0.9'
data-updatehref="/v1.9/zh/news/releases/1.0.x/announcing-1.0.9/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.0/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.0.3...1.0.4">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="known-issues">已知问题&lt;/h2>
&lt;ul>
&lt;li>使用 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-proxy-status">&lt;code>istioctl proxy-status&lt;/code>&lt;/a> 来获取代理同步状态时，可能会导致 Pilot 死锁。
临时的解决方法是不使用 &lt;code>istioctl proxy-status&lt;/code>。
一旦 Pilot 进入死锁状态，它将表现出持续的内存增长，最终耗尽内存。&lt;/li>
&lt;/ul>
&lt;h2 id="networking">网络&lt;/h2>
&lt;ul>
&lt;li>&lt;p>修复了过期 endpoint 漏删导致 503 错误的 bug。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了 Pod 标签包含 &lt;code>/&lt;/code> 时 sidecar 的注入 bug。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="policy-and-telemetry">策略和遥测&lt;/h2>
&lt;ul>
&lt;li>&lt;p>修复了进程外 Mixer 适配器偶尔的数据损坏问题导致的不正确行为。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了在等待失踪的 CRD 时，Mixer 过度使用 CPU 的 bug。&lt;/p>&lt;/li>
&lt;/ul></description><pubDate>Wed, 21 Nov 2018 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.0.x/announcing-1.0.4/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.0.x/announcing-1.0.4/</guid></item><item><title>Istio 1.0.3 发布公告</title><description>
&lt;p>我们很高兴的宣布 Istio 1.0.3 现已正式发布。下面是更新详情。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.0.3"
data-downloadbuttontext="DOWNLOAD 1.0.3"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.0.3)'
data-updatebutton='了解 Istio 1.0.9'
data-updatehref="/v1.9/zh/news/releases/1.0.x/announcing-1.0.9/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.0/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.0.2...1.0.3">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="behavior-changes">行为变更&lt;/h2>
&lt;ul>
&lt;li>&lt;p>现在强制使用&lt;a href="/v1.9/zh/docs/ops/common-problems/validation">验证 webhook&lt;/a>。禁用它可能导致 Pilot 崩溃。&lt;/p>&lt;/li>
&lt;li>&lt;p>现在，&lt;a href="/v1.9/zh/docs/reference/config/networking/service-entry/">Service entry&lt;/a> 验证会在配置为 DNS 解析时拒绝通配主机名（&lt;code>*&lt;/code>）。API 从未允许这样做，只是在以前的版本中，&lt;code>ServiceEntry&lt;/code> 被错误地排除在验证之外。把通配符作为主机名的一部分，例如 &lt;code>*.bar.com&lt;/code>，将保持不变。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;code>istio-proxy&lt;/code> 的核心转储路径已更改为 &lt;code>/var/lib/istio&lt;/code>。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="networking">网络&lt;/h2>
&lt;ul>
&lt;li>&lt;p>&lt;a href="/v1.9/zh/docs/tasks/security/authentication/authn-policy/#auto-mutual-TLS">双向 TLS&lt;/a> 宽容模式现在是默认启用的。&lt;/p>&lt;/li>
&lt;li>&lt;p>Pilot 性能和可扩展性已大大增强。Pilot 现在可以在不到 1 秒的时间内向 500 个 sidecar 提供 endpoint 更新。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;a href="/v1.9/zh/docs/tasks/observability/distributed-tracing/overview/#trace-sampling">追踪采样&lt;/a>默认设置为 1%。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="policy-and-telemetry">策略和遥测&lt;/h2>
&lt;ul>
&lt;li>&lt;p>Mixer（&lt;code>istio-telemetry&lt;/code>）现在支持基于请求速率和预期延迟的减载。&lt;/p>&lt;/li>
&lt;li>&lt;p>Mixer 客户端（&lt;code>istio-policy&lt;/code>）现在支持 &lt;code>FAIL_OPEN&lt;/code> 设置。&lt;/p>&lt;/li>
&lt;li>&lt;p>Istio 性能仪表盘已添加至 Grafana。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;code>istio-telemetry&lt;/code> CPU 使用率降低 10%。&lt;/p>&lt;/li>
&lt;li>&lt;p>淘汰 &lt;code>statsd-to-prometheus&lt;/code> deployment。Prometheus 现在可以直接从 &lt;code>istio-proxy&lt;/code> 中抓取指标。&lt;/p>&lt;/li>
&lt;/ul></description><pubDate>Tue, 30 Oct 2018 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.0.x/announcing-1.0.3/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.0.x/announcing-1.0.3/</guid></item><item><title>Istio 1.0.2 发布公告</title><description>
&lt;p>我们很高兴的宣布 Istio 1.0.2 现已正式发布。下面是更新详情。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.0.2"
data-downloadbuttontext="DOWNLOAD 1.0.2"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.0.2)'
data-updatebutton='了解 Istio 1.0.9'
data-updatehref="/v1.9/zh/news/releases/1.0.x/announcing-1.0.9/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.0/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.0.1...1.0.2">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="general">概况&lt;/h2>
&lt;ul>
&lt;li>&lt;p>修复 Envoy 的 bug：如果在双向 TLS 端口上接收正常流量，则 sidecar 会崩溃。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复 Pilot 在多集群环境中向 Envoy 传播不完整更新的 bug。&lt;/p>&lt;/li>
&lt;li>&lt;p>为 Grafana 添加了更多 Helm 选项。&lt;/p>&lt;/li>
&lt;li>&lt;p>改进 Kubernetes 服务注册队列的性能。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复 &lt;code>istioctl proxy-status&lt;/code> 未显示补丁版本的 bug。&lt;/p>&lt;/li>
&lt;li>&lt;p>添加虚拟服务 SNI host 的验证。&lt;/p>&lt;/li>
&lt;/ul></description><pubDate>Thu, 06 Sep 2018 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.0.x/announcing-1.0.2/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.0.x/announcing-1.0.2/</guid></item><item><title>Istio 1.0.1 发布公告</title><description>
&lt;p>我们很高兴的宣布 Istio 1.0.1 现已正式发布。下面是更新详情。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.0.1"
data-downloadbuttontext="DOWNLOAD 1.0.1"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.0.1)'
data-updatebutton='了解 Istio 1.0.9'
data-updatehref="/v1.9/zh/news/releases/1.0.x/announcing-1.0.9/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.0/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://github.com/istio/istio/compare/1.0.0...1.0.1">
&lt;h5>代码变更&lt;/h5>
&lt;p>查看源码变更的详细信息。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="networking">网络&lt;/h2>
&lt;ul>
&lt;li>&lt;p>改进了 Pilot 的可扩展性和 Envoy 的启动时间。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了添加端口时，虚拟服务 host 不匹配的 bug。&lt;/p>&lt;/li>
&lt;li>&lt;p>增加了对&lt;a href="/v1.9/zh/docs/ops/best-practices/traffic-management/#split-virtual-services">合并同一主机的多个虚拟服务或目标规则定义&lt;/a>的有限支持。&lt;/p>&lt;/li>
&lt;li>&lt;p>使用 HTTP 时，允许连续的&lt;a href="https://www.envoyproxy.io/docs/envoy/latest/api-v2/api/v2/cluster/outlier_detection.proto">异常&lt;/a>网关故障。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="environment">环境&lt;/h2>
&lt;ul>
&lt;li>&lt;p>对于那些只想使用 Istio 流量管理功能的用户，Pilot 现在可以独立使用。&lt;/p>&lt;/li>
&lt;li>&lt;p>引入了方便的配置 &lt;code>values-istio-gateway.yaml&lt;/code>，该配置使用户能够运行独立网关。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了一堆 Helm 的安装问题，包括 &lt;code>istio-sidecar-injector&lt;/code> 找不到配置映射的 bug。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了 Galley 尚未准备就绪的 Istio 安装 bug。&lt;/p>&lt;/li>
&lt;li>&lt;p>修复了有关网格扩展的各种 bug。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="policy-and-telemetry">策略和遥测&lt;/h2>
&lt;ul>
&lt;li>&lt;p>向 Mixer Prometheus 适配器添加了实验性的指标过期配置。&lt;/p>&lt;/li>
&lt;li>&lt;p>Grafana 升级至 5.2.2。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h3 id="adapters">适配器&lt;/h3>
&lt;ul>
&lt;li>现在可以为 Stackdriver 适配器指定接收器选项。&lt;/li>
&lt;/ul>
&lt;h2 id="galley">Galley&lt;/h2>
&lt;ul>
&lt;li>改进健康检查的配置验证。&lt;/li>
&lt;/ul></description><pubDate>Wed, 29 Aug 2018 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.0.x/announcing-1.0.1/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.0.x/announcing-1.0.1/</guid></item><item><title>Istio 1.0 发布公告</title><description>
&lt;p>今天，我们激动的宣布，Istio 1.0 正式发布！自我们最初发布 0.1 版以来已经一年多了。从那时起，一个由贡献者和用户组成的蓬勃发展的社区，使得 Istio 有了长足的发展。现在，许多公司已成功将 Istio 投入生产，并从 Istio 对部署的洞察力和控制力中获得了真正的价值。我们帮助了很多大型企业和快速发展的初创企业，例如：&lt;a href="https://www.ebay.com/">eBay&lt;/a>、&lt;a href="https://www.autotrader.co.uk/">Auto Trader UK&lt;/a>、&lt;a href="http://www.descarteslabs.com/">Descartes Labs&lt;/a>、&lt;a href="https://www.fitstation.com/">HP FitStation&lt;/a>、&lt;a href="https://juspay.in">JUSPAY&lt;/a>、&lt;a href="https://www.namely.com/">Namely&lt;/a>、&lt;a href="https://www.pubnub.com/">PubNub&lt;/a> 和 &lt;a href="https://www.trulia.com/">Trulia&lt;/a> 已经使用 Istio 从头开始连接、管理和保护其服务。将此版本发布为 1.0 表示我们已经建立了一套核心功能，可供用户在生产中使用。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="update-notice entry"
data-title='更新提示'
data-downloadhref="https://github.com/istio/istio/releases/tag/1.0.0"
data-downloadbuttontext="DOWNLOAD 1.0.0"
data-updateadvice='在下载 ％s 之前，您应该知道有一个更新的补丁版本，这个版本修复了已知的 Bug 并且在一定程度上提升了性能。%!(EXTRA string=1.0)'
data-updatebutton='了解 Istio 1.0.9'
data-updatehref="/v1.9/zh/news/releases/1.0.x/announcing-1.0.9/">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v1.0/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="ecosystem">生态系统&lt;/h2>
&lt;p>去年，我们发现 Istio 的生态系统有了大幅增长。
&lt;a href="https://www.envoyproxy.io/">Envoy&lt;/a> 继续保持惊人的增长，并增加了许多对服务网格生产质量至关重要的功能。
诸如 &lt;a href="https://www.datadoghq.com/">Datadog&lt;/a>、&lt;a href="https://www.solarwinds.com/">SolarWinds&lt;/a>、&lt;a href="https://sysdig.com/blog/monitor-istio/">Sysdig&lt;/a>、&lt;a href="https://cloud.google.com/stackdriver/">Google Stackdriver&lt;/a> 和 &lt;a href="https://aws.amazon.com/cloudwatch/">Amazon CloudWatch&lt;/a> 之类的可观察性提供商已经编写了将 Istio 与他们的产品集成的插件。
&lt;a href="https://www.tigera.io/resources/using-network-policy-concert-istio-2/">Tigera&lt;/a>、&lt;a href="https://www.aporeto.com/">Aporeto&lt;/a>、&lt;a href="https://cilium.io/">Cilium&lt;/a> 和 &lt;a href="https://styra.com/">Styra&lt;/a> 为我们的策略执行和网络功能构建了扩展。
&lt;a href="https://www.redhat.com/en">Red Hat&lt;/a> 构建了 &lt;a href="https://www.kiali.io">Kiali&lt;/a>，以围绕网格管理和可观察性提供不错的用户体验。
&lt;a href="https://www.cloudfoundry.org/">Cloud Foundry&lt;/a> 基于 Istio 的下一代流量路由栈，
最近宣布的 &lt;a href="https://github.com/knative/docs">Knative&lt;/a> serverless 项目也在做同样的事情，并且 &lt;a href="https://apigee.com/">Apigee&lt;/a> 宣布他们计划在其 API 管理中使用它。
这些只是社区去年添加集成中的一部分。&lt;/p>
&lt;h2 id="features">特性&lt;/h2>
&lt;p>自 0.8 版以来，我们添加了一些重要的新功能，更重要的是将许多现有功能标记为 Beta，表明它们已可以投入生产。以下是一些要点：&lt;/p>
&lt;ul>
&lt;li>&lt;p>现在可以将多个 Kubernetes 集群&lt;a href="/v1.9/zh/docs/setup/install/multicluster/">添加到单个网格&lt;/a>中，并实现跨集群通信和一致的策略实施。多群集支持现在为 Beta。&lt;/p>&lt;/li>
&lt;li>&lt;p>现在，可以对通过网状网络的流量进行细粒度控制的网络 API 已成为 Beta。使用网关对进入和退出问题进行显式建模，使运维人员可以&lt;a href="/v1.9/zh/blog/2018/v1alpha3-routing/">控制网络拓扑&lt;/a>并满足边缘的访问安全性要求。&lt;/p>&lt;/li>
&lt;li>&lt;p>双向 TLS 现在[以增量方式推出]，无需更新服务的所有客户端。这是一项关键功能，现有生产部署可以无障碍的就地采用。&lt;/p>&lt;/li>
&lt;li>&lt;p>Mixer 开始支持&lt;a href="https://github.com/istio/istio/wiki/Out-Of-Process-gRPC-Adapter-Dev-Guide">开发进程外适配器&lt;/a>。这将成为在未来发行版中扩展 Mixer 的默认方法，并使构建适配器更加简单。&lt;/p>&lt;/li>
&lt;li>&lt;p>现在，由 Envoy 完全控制本地控制访问服务的&lt;a href="/v1.9/zh/docs/concepts/security/#authorization">授权策略&lt;/a>，以提高其性能和可靠性。&lt;/p>&lt;/li>
&lt;li>&lt;p>现在建议使用 &lt;a href="/v1.9/zh/docs/setup/install/helm/">Helm chart 安装&lt;/a>方法，该方法提供了丰富的自定义选项，可以按您的意愿采用 Istio。&lt;/p>&lt;/li>
&lt;li>&lt;p>我们已经在性能上做出了很多努力，包括连续回归测试，大规模环境模拟和目标修复。我们对结果感到非常满意，并将在未来几周内详细分享更多信息。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="what-is-next">接下来呢？&lt;/h2>
&lt;p>尽管这是该项目的重要里程碑，但还有很多工作要做。通过与使用者合作，我们获得了很多有关下一步重点的反馈。我们听到了围绕以下功能的一致诉求：混合云、安装模块化、更丰富的网络功能和大规模部署的可伸缩性。我们已经在 1.0 版本中考虑了其中一些反馈，并且在接下来的几个月中我们将继续积极地解决这项工作。&lt;/p>
&lt;h2 id="getting-started">开始之前&lt;/h2>
&lt;p>如果您是 Istio 的新手，并希望将其用于您的部署，我们很乐意听取您的意见。
可以看看&lt;a href="/v1.9/zh/docs/">我们的文档&lt;/a>或者移步我们的&lt;a href="https://discuss.istio.io">聊天室&lt;/a>。
如果您想更深入地&lt;a href="/v1.9/zh/about/community">为项目做贡献&lt;/a>，请参加一个我们的社区会议，并打个招呼。&lt;/p>
&lt;h2 id="thanks">感谢&lt;/h2>
&lt;p>Istio 团队非常感谢为该项目做出贡献的每个人。没有您的帮助，就没有 Istio 的今天。这一年真的太神奇了，我们非常期待接下来的一年，我们共同构成的社区又可以取得什么样的成就。&lt;/p>
&lt;h2 id="release-notes">发行说明&lt;/h2>
&lt;h3 id="networking">网络&lt;/h3>
&lt;ul>
&lt;li>&lt;p>&lt;strong>使用虚拟服务的 SNI 路由&lt;/strong>。&lt;a href="/v1.9/zh/docs/reference/config/networking/virtual-service/">&lt;code>VirtualService&lt;/code>&lt;/a> 新引入的 &lt;code>TLS&lt;/code> 部分，可用于基于 SNI 值的路由 TLS 流量。可以将名为 TLS/HTTPS 的服务端口与虚拟服务 TLS 路由结合使用。没有附带虚拟服务的 TLS/HTTPS 端口将被视为不透明的 TCP。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>恢复流式 gRPC&lt;/strong>。Istio 0.8 导致长时间运行的流式 gRPC 连接的定期终止。此问题已在 1.0 中修复。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>移除旧的（v1alpha1）网络 API&lt;/strong>。对旧的 &lt;code>v1alpha1&lt;/code> 流量管理模型的支持已被删除。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>弃用 Istio Ingress&lt;/strong>。默认情况下，旧的 Istio Ingress 已被弃用并禁用。我们鼓励用户改用 &lt;a href="/v1.9/zh/docs/concepts/traffic-management/#gateways">gateway&lt;/a>。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h3 id="policy-and-telemetry">策略和遥测&lt;/h3>
&lt;ul>
&lt;li>&lt;p>&lt;strong>更新的属性&lt;/strong>。用于描述流量来源和目的地的一组&lt;a href="/v1.9/zh/docs/reference/config/policy-and-telemetry/attribute-vocabulary/">属性&lt;/a>已被彻底修改，变得更加精确和全面。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>策略检查缓存&lt;/strong>。Mixer 现在具有了用于策略检查的大型 2 级缓存，补充了 sidecar 代理中存在的 1 级缓存。这进一步减少了外部强制策略检查的平均延迟。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>遥测缓冲&lt;/strong>。Mixer 现在可以在将调用报告分配给适配器之前先缓冲调用报告，这为适配器提供了机会以更大的块处理遥测数据，从而减少了 Mixer 及其适配器的总体计算开销。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>进程外适配器&lt;/strong>。Mixer 现在包括对进程外适配器的初始支持。这将是与 Mixer 集成的推荐方法。&lt;a href="https://github.com/istio/istio/wiki/Mixer-Out-Of-Process-Adapter-Dev-Guide">进程外适配器开发指南&lt;/a>和&lt;a href="https://github.com/istio/istio/wiki/Mixer-Out-Of-Process-Adapter-Walkthrough">进程外适配器遍历&lt;/a>提供了有关如何构建进程外适配器的初始文档。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>客户端遥测&lt;/strong>。现在，除了服务器端遥测之外，还可以从交互的客户端收集遥测。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h4 id="adapters">适配器&lt;/h4>
&lt;ul>
&lt;li>&lt;p>&lt;strong>SignalFX&lt;/strong>。新的 &lt;code>signalfx&lt;/code> 适配器。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>Stackdriver&lt;/strong>。&lt;a href="/v1.9/zh/docs/reference/config/policy-and-telemetry/adapters/stackdriver/">&lt;code>stackdriver&lt;/code>&lt;/a> 适配器在此发行版中得到大幅增强，添加了新功能并提高性能。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h3 id="security">安全&lt;/h3>
&lt;ul>
&lt;li>&lt;p>&lt;strong>授权&lt;/strong>。我们已经重新实现了[授权功能] 的 RPC 级授权策略，此功能现在的实现，不再需要使用 Mixer 和 Mixer 适配器。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>改进双向 TLS 身份认证控制&lt;/strong>。现在，可以更轻松地控制服务之间的&lt;a href="/v1.9/zh/docs/concepts/security/#authentication">双向 TLS 身份认证&lt;/a>。我们提供 &lt;code>PERMISSIVE&lt;/code> 模式，以便您可以为您的服务&lt;a href="/v1.9/zh/docs/tasks/security/authentication/mtls-migration/">递增地启用双向 TLS&lt;/a>。我们移除了服务注释，采用&lt;a href="/v1.9/zh/docs/tasks/security/authentication/authn-policy/">独特的方法来启用双向 TLS&lt;/a>，并结合了客户端&lt;a href="/v1.9/zh/docs/concepts/traffic-management/#destination-rules">目标规则&lt;/a>。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>JWT 授权&lt;/strong>。现在支持 &lt;a href="/v1.9/zh/docs/concepts/security/#authentication">JWT 身份验证&lt;/a>，可以使用&lt;a href="/v1.9/zh/docs/concepts/security/#authentication-policies">身份验证策略&lt;/a>对其进行配置。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h3 id="istioctl">&lt;code>istioctl&lt;/code>&lt;/h3>
&lt;ul>
&lt;li>&lt;p>添加 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-authn-tls-check">&lt;code>istioctl authn tls-check&lt;/code>&lt;/a> 命令。&lt;/p>&lt;/li>
&lt;li>&lt;p>添加 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-proxy-status">&lt;code>istioctl proxy-status&lt;/code>&lt;/a> 命令。&lt;/p>&lt;/li>
&lt;li>&lt;p>添加 &lt;code>istioctl experimental convert-ingress&lt;/code> 命令。&lt;/p>&lt;/li>
&lt;li>&lt;p>移除 &lt;code>istioctl experimental convert-networking-config&lt;/code> 命令。&lt;/p>&lt;/li>
&lt;li>&lt;p>改进和 bug 修复：&lt;/p>
&lt;ul>
&lt;li>&lt;p>使 &lt;code>kubeconfig&lt;/code> handle 与 &lt;code>kubectl&lt;/code> 对齐。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;code>istioctl get all&lt;/code> 返回所有类型的网络和身份验证配置。&lt;/p>&lt;/li>
&lt;li>&lt;p>在 &lt;code>istioctl get&lt;/code> 中添加了 &lt;code>--all-namespaces&lt;/code> 标志，用于检索所有命名空间中的资源。&lt;/p>&lt;/li>
&lt;/ul>&lt;/li>
&lt;/ul>
&lt;h3 id="known-issues-with-1-0">1.0 已知问题&lt;/h3>
&lt;ul>
&lt;li>&lt;p>Amazon EKS 服务未实现 sidecar 自动注入。在 Amazon EKS 中使用 Istio 需要为 sidecar 使用&lt;a href="/v1.9/zh/docs/setup/additional-setup/sidecar-injection/#manual-sidecar-injection">手动注入&lt;/a>并通过 &lt;a href="/v1.9/zh/docs/setup/install/helm">Helm 参数&lt;/a> &lt;code>--set galley.enabled=false&lt;/code> 关闭 galley。&lt;/p>&lt;/li>
&lt;li>&lt;p>在&lt;a href="/v1.9/zh/docs/setup/install/multicluster">多集群部署&lt;/a>中，mixer-telemetry 和 mixer-policy 组件不会连接到任何远程集群的 Kubernetes API 端点。由于与远程集群上的工作负载相关的某些元数据不完整，这会导致遥测保真度的损失。&lt;/p>&lt;/li>
&lt;li>&lt;p>有的 Kubernetes 清单，可用于独立使用 Citadel 或启用 Citadel 运行状况检查。Helm 没有实现这些模式。有关更多详细信息，请参见 &lt;a href="https://github.com/istio/istio/issues/6922">Issue 6922&lt;/a>。&lt;/p>&lt;/li>
&lt;li>&lt;p>网格扩展功能，使您可以将原始 VM 添加到网格，此功能在 1.0 中已被破坏。我们预计将在几天内产生可解决此问题的补丁。&lt;/p>&lt;/li>
&lt;/ul></description><pubDate>Tue, 31 Jul 2018 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.0.x/announcing-1.0/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.0.x/announcing-1.0/</guid></item><item><title>Istio 0.8 发布公告</title><description>
&lt;p>这是迈向 Istio 1.0 前的一个重要版本。除了常规的 bug 修复和性能改进之外，还包含许多新功能和体系结构改进。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="https://github.com/istio/istio/releases/tag/0.8.0">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v0.8/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="networking">网络&lt;/h2>
&lt;ul>
&lt;li>&lt;p>&lt;strong>改良的流量管理模型&lt;/strong>。我们终于准备好完成我们的&lt;a href="/v1.9/zh/blog/2018/v1alpha3-routing/">新流量管理 API&lt;/a> 的总结。我们相信，在涵盖更多实际部署&lt;a href="/v1.9/zh/docs/tasks/traffic-management/">用例&lt;/a>的同时，这种新模型更易于理解。对于从早期发行版升级的人，这儿有一个&lt;a href="/v1.9/zh/docs/setup/upgrade/">迁移指南&lt;/a>和内置在 &lt;code>istioctl&lt;/code> 中的转换工具，可帮助您从旧模型转换配置。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>Envoy 流式配置&lt;/strong>。默认情况下，Pilot 现在使用其 &lt;a href="https://github.com/envoyproxy/data-plane-api/blob/master/xds_protocol.rst">ADS API&lt;/a> 将配置流式传输到 Envoy。这种新方法提高了有效的可伸缩性，减少了推出延迟，应该能消除虚假的 404 错误。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>Ingress/Egress 的 Gateway&lt;/strong>。我们不再支持将 Kubernetes Ingress 规范与 Istio 路由规则结合使用，因为它导致了许多错误和可靠性问题。Istio 现在支持用于 ingress 和 egress 代理的独立于平台的 &lt;a href="/v1.9/zh/docs/concepts/traffic-management/#gateways">Gateway&lt;/a> 模型，该模型可跨 Kubernetes 和 Cloud Foundry 使用，并与路由无缝协作。Gateway 支持基于&lt;a href="https://en.wikipedia.org/wiki/Server_Name_Indication">服务器名称指示&lt;/a>的路由，并基于客户端提供的服务器名称提供证书。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>受限的入站端口&lt;/strong>。现在，我们将 Pod 中的入站端口限制为该 Pod 中运行的应用所声明的端口。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="security">安全&lt;/h2>
&lt;ul>
&lt;li>&lt;p>&lt;strong>Citadel 介绍&lt;/strong>。我们终于给安全组件起了个名字。以前的 Istio-Auth 或者 Istio-CA 现在被统称为 Citadel。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>多集群支持&lt;/strong>。我们在多集群部署中支持每一个集群的 Citadel，以便所有 Citadel 共享相同的根证书，并且工作负载可以在整个网格上相互认证。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>认证策略&lt;/strong>。我们为&lt;a href="/v1.9/zh/docs/tasks/security/authentication/authn-policy/">认证策略&lt;/a>创建了一个统一的 API，用于控制服务到服务的通信是否使用双向 TLS 以及最终用户身份验证。这是现在控制这些行为的推荐方法。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="telemetry">遥测&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>自我报告&lt;/strong>。Mixer 和 Pilot 现在会产生遥测，该遥测流经正常的 Istio 遥测管道，就像网格中的服务一样。&lt;/li>
&lt;/ul>
&lt;h2 id="setup">安装&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>Istio 安装菜单&lt;/strong>。Istio 具有一系列丰富的功能，但是您并不需要全部安装或使用它们。通过使用 Helm 或 &lt;code>istioctl gen-deploy&lt;/code>，用户可以只安装他们想要的功能。例如，用户可以只安装 Pilot 并享受流量管理功能，而无需处理 Mixer 或 Citadel。&lt;/li>
&lt;/ul>
&lt;h2 id="mixer-adapters">Mixer 适配器&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>CloudWatch&lt;/strong>。Mixer 现在可以将指标报告给 AWS CloudWatch。&lt;a href="/v1.9/zh/docs/reference/config/policy-and-telemetry/adapters/cloudwatch/">了解更多&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="known-issues-with-0.8">0.8 已知问题&lt;/h2>
&lt;ul>
&lt;li>&lt;p>有关指向 headless 服务的虚拟服务的网关无法工作（&lt;a href="https://github.com/istio/istio/issues/5005">Issue #5005&lt;/a>）。&lt;/p>&lt;/li>
&lt;li>&lt;p>这是一个 &lt;a href="https://github.com/istio/istio/issues/5723">Google Kubernetes Engine 1.10.2 的问题&lt;/a>。变通的方法是使用 Kubernetes 1.9 或者将节点的镜像切换为 Ubuntu。该问题预计在 GKE 1.10.4 会得到修复。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;code>istioctl experimental convert-networking-config&lt;/code> 工具存在一个已知的命名空间问题，所需的命名空间可能会被修改为 &lt;code>istio-system&lt;/code>，请在运行对话工具后手动将其修改为所需的命名空间。&lt;a href="https://github.com/istio/istio/issues/5817">了解更多&lt;/a>&lt;/p>&lt;/li>
&lt;/ul></description><pubDate>Fri, 01 Jun 2018 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/0.x/announcing-0.8/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/0.x/announcing-0.8/</guid></item><item><title>Istio 0.7 发布公告</title><description>&lt;p>这次发布的版本，我们专注于改进构建和测试基础架构并提高测试质量。因此，本月没有新功能。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="https://github.com/istio/istio/releases/tag/0.7.0">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v0.7/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;/div>
&lt;p>请注意，此版本包括对新的 v1alpha3 流量管理功能的初步支持。此功能仍在不断变化中，0.8 可能会有一些重大变化。
因此，如果您想探索，请继续前进，但它可能会在 0.8 或更高的版本有变化。&lt;/p>
&lt;p>已知问题：&lt;/p>
&lt;p>我们的 &lt;a href="/v1.9/zh/docs/setup/install/helm">Helm chart&lt;/a> 现在必须使用一些变通的方法才能正确运行，查看 &lt;a href="https://github.com/istio/istio/issues/4701">4701&lt;/a> 获取详情。&lt;/p></description><pubDate>Wed, 28 Mar 2018 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/0.x/announcing-0.7/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/0.x/announcing-0.7/</guid></item><item><title>Istio 0.6 发布公告</title><description>
&lt;p>除了常规的 bug 修复和性能改进，该版本还新增或更新了以下特性。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="https://github.com/istio/istio/releases/tag/0.6.0">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v0.6/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="networking">网络&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>自定义 Envoy 配置&lt;/strong>。Pilot 现在支持将自定义 Envoy 配置传递到 proxy。&lt;a href="https://github.com/mandarjog/istioluawebhook">了解更多&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="mixer-adapters">Mixer 适配器&lt;/h2>
&lt;ul>
&lt;li>&lt;p>&lt;strong>SolarWinds&lt;/strong>。Mixer 现在可以跟 AppOptics 和 Papertrail 交互。&lt;a href="/v1.9/zh/docs/reference/config/policy-and-telemetry/adapters/solarwinds/">了解更多&lt;/a>&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>Redis 配额&lt;/strong>。现在，Mixer 支持了一个用于速率限制跟踪的基于 Redis 的适配器。&lt;a href="/v1.9/zh/docs/reference/config/policy-and-telemetry/adapters/redisquota/">了解更多&lt;/a>&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>Datadog&lt;/strong>。现在，Mixer 提供了一个将度量标准数据传递给 Datadog 代理的适配器。&lt;a href="/v1.9/zh/docs/reference/config/policy-and-telemetry/adapters/datadog/">了解更多&lt;/a>&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="other">其它&lt;/h2>
&lt;ul>
&lt;li>&lt;p>&lt;strong>独立的检查、报告集群&lt;/strong>。现在，配置 Envoy 时，具有 Mixer 检查功能的实例和具有 Mixer 报告功能的实例可以来自不同的群集。这在大型部署中可能有用，以更好地扩展 Mixer 实例。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>监控仪表盘&lt;/strong>。Grafana 现在有了初步的 Mixer&amp;amp;Pilot 监控仪表盘。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>存活及就绪检测&lt;/strong>。Istio 组件现在提供了规范的存活及就绪检测支持，以帮助确保网格基础结构的健康。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>Egress 策略和遥测&lt;/strong>。Istio 可以监控由 &lt;code>EgressRule&lt;/code> 或 External Service 定义的外部服务的流量。也可以将 Mixer 策略应用于该流量。&lt;/p>&lt;/li>
&lt;/ul></description><pubDate>Thu, 08 Mar 2018 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/0.x/announcing-0.6/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/0.x/announcing-0.6/</guid></item><item><title>Istio 0.5 发布公告</title><description>
&lt;p>除了常规的 bug 修复和性能改进，该版本还新增或更新了以下特性。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="https://github.com/istio/istio/releases/tag/0.5.0">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v0.5/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="networking">网络&lt;/h2>
&lt;ul>
&lt;li>&lt;p>&lt;strong>渐进式部署 Istio&lt;/strong>。（预览）现在，通过仅安装所需的组件（例如，仅 Pilot + Ingress 作为最小化的 Istio 安装），您可以比以前更轻松地逐步采用 Istio。请参考 &lt;code>istioctl&lt;/code> CLI 工具，以生成有关自定义 Istio 部署的信息。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>自动注入 Proxy&lt;/strong>。我们利用 Kubernetes 1.9 的新 &lt;a href="https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.9.md#api-machinery">muting webhook 特性&lt;/a>提供 Pod 级的自动注入。自动注入需要 Kubernetes 1.9 或更高版本，因此不适用于旧版本。不再支持 alpha 初始化机制。&lt;a href="/v1.9/zh/docs/setup/additional-setup/sidecar-injection/#automatic-sidecar-injection">了解更多&lt;/a>&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>改进流量规则&lt;/strong>。根据用户反馈，我们对 Istio 的流量管理（路由规则，目标规则等）进行了重大更改。在接下来的几周中，我们会不断完善您的反馈，希望我们能继续为您提供帮助。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="mixer-adapters">Mixer 适配器&lt;/h2>
&lt;ul>
&lt;li>&lt;p>&lt;strong>Open Policy Agent&lt;/strong>。现在，Mixer 有一个实现了 &lt;a href="https://www.openpolicyagent.org">open policy agent&lt;/a> 模型的适配器，可提供灵活的细粒度访问控制机制。&lt;a href="https://docs.google.com/document/d/1U2XFmah7tYdmC5lWkk3D43VMAAQ0xkBatKmohf90ICA">了解更多&lt;/a>&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>Istio RBAC&lt;/strong>。现在，Mixer 有了一个基于角色的访问控制适配器。&lt;a href="/v1.9/zh/docs/concepts/security/#authorization">了解更多&lt;/a>&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>Fluentd&lt;/strong>。现在，Mixer 提供了一个通过 &lt;a href="https://www.fluentd.org">Fluentd&lt;/a> 收集日志的适配器。&lt;a href="/v1.9/zh/docs/tasks/observability/logs/fluentd/">了解更多&lt;/a>&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>Stdio&lt;/strong>。现在，Stdio 适配器使您可以将日志记录到文件，并支持日志轮转、备份以及大量控件。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="security">安全&lt;/h2>
&lt;ul>
&lt;li>&lt;p>&lt;strong>使用你自己的 CA&lt;/strong>。多项针对 ‘使用你自己的 CA’特性的改进。&lt;a href="/v1.9/zh/docs/tasks/security/plugin-ca-cert/">了解更多&lt;/a>&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>PKCS8&lt;/strong>。将 PKCS8 密钥的支持添加到 Istio PKI。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>Istio RBAC&lt;/strong>。Istio RBAC 为 Istio 网格中的服务提供了访问控制。&lt;a href="/v1.9/zh/docs/concepts/security/#authorization">了解更多&lt;/a>&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="other">其它&lt;/h2>
&lt;ul>
&lt;li>&lt;p>&lt;strong>发行版二进制文件&lt;/strong>。我们已将版本和安装默认值切换至发行版，以提高性能和安全性，&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>组件日志&lt;/strong>。Istio 组件现在提供了一组丰富的命令行选项来控制本地日志记录，包括对日志轮换的通用支持。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>一致的版本报告&lt;/strong>。Istio 组件现在提供了一致的命令行界面来报告其版本信息。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>可选的实例字段&lt;/strong>。在配置中，Mixer 实例的定义不再需要包含关联模板的每个字段。缺省字段的值将为零或空值。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="known-issues">已知问题&lt;/h2>
&lt;ul>
&lt;li>&lt;p>Helm charts 安装目前无法使用。&lt;/p>&lt;/li>
&lt;li>&lt;p>sidecar 自动注入仅支持 Kubernetes 1.9 及以后的版本。&lt;/p>&lt;/li>
&lt;/ul></description><pubDate>Fri, 02 Feb 2018 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/0.x/announcing-0.5/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/0.x/announcing-0.5/</guid></item><item><title>Istio 0.4 发布公告</title><description>
&lt;p>随着我们稳定的每月发布流程，此版本只进行了几周的更改。除了普通的错误修复和性能改进之外，此版本还包含以下项。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="https://github.com/istio/istio/releases/tag/0.4.0">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v0.4/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="general">General&lt;/h2>
&lt;ul>
&lt;li>&lt;p>&lt;strong>Cloud Foundry&lt;/strong>。增加了对 &lt;a href="https://www.cloudfoundry.org">Cloud Foundry&lt;/a> 平台的最低 Pilot 支持，使 Pilot 可以发现 CF 服务和服务实例。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>Circonus&lt;/strong>。Mixer 现在包含了用于 &lt;a href="https://www.circonus.com">Circonus&lt;/a> 分析和监控平台的适配器。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>Pilot 指标&lt;/strong>。Pilot 现在会收集诊断指标。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>Helm Chart&lt;/strong>。现在，我们提供了 Helm Chart 安装 Istio 的方式。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>增强的属性表达式&lt;/strong>。Mixer 的表达语言获得了一些新功能，使编写策略规则变得更加容易。&lt;a href="/v1.9/zh/docs/reference/config/policy-and-telemetry/expression-language/">学到更多&lt;/a>&lt;/p>&lt;/li>
&lt;/ul>
&lt;p>如果您想了解细节，可以在&lt;a href="https://github.com/istio/istio/wiki/v0.4.0">此处&lt;/a>查看我们更详细的低级发行说明。&lt;/p></description><pubDate>Mon, 18 Dec 2017 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/0.x/announcing-0.4/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/0.x/announcing-0.4/</guid></item><item><title>Istio 0.3 发布公告</title><description>
&lt;p>我们很高兴的宣布 Istio 0.3 现已正式发布。下面是更新详情。&lt;/p>
&lt;div class="relnote-actions call-to-action">
&lt;a class="entry" href="https://github.com/istio/istio/releases/tag/0.3.0">
&lt;h5>下载&lt;/h5>
&lt;p>下载安装该发行版。&lt;/p>
&lt;/a>
&lt;a class="entry" href="https://archive.istio.io/v0.3/docs">
&lt;h5>文档&lt;/h5>
&lt;p> 访问该发行版的文档。&lt;/p>
&lt;/a>
&lt;/div>
&lt;h2 id="general">概况&lt;/h2>
&lt;p>从 0.3 开始，Istio 的发布节奏切换为月度更新。我们希望这将有助于提高我们及时提供改进的能力。有关此版本的各个功能的状态，请参见 &lt;a href="/v1.9/zh/about/feature-stages/">here&lt;/a>。&lt;/p>
&lt;p>团队将重点放在内部基础设施工作上，以提高我们的速度，所以在新功能方面，这是一个相当适中的发布。解决了许多错误和较小的问题，并在许多方面提高了整体性能。&lt;/p>
&lt;h2 id="security">安全&lt;/h2>
&lt;ul>
&lt;li>&lt;p>&lt;strong>安全的控制平面通信&lt;/strong>。Mixer 和 Pilot 现在由双向 TLS 保障安全，就像网格中的所有服务一样。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>选择性认证&lt;/strong>。现在，您可以通过服务注释在每个服务的基础上控制身份验证，这有助于逐步迁移到 Istio。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="networking">网络&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>TCP Egress 规则&lt;/strong>。现在，您可以指定影响 TCP 级别流量的 Egress 规则。&lt;/li>
&lt;/ul>
&lt;h2 id="policy-enforcement-and-telemetry">策略执行和遥测&lt;/h2>
&lt;ul>
&lt;li>&lt;p>&lt;strong>改善缓存&lt;/strong>。Envoy 和 Mixer 之间的缓存得到了很大改善，大大降低了授权检查的平均延迟。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>改进的列表适配器&lt;/strong>。Mixer “列表” 适配器现在支持正则表达式匹配。有关详细信息，请参见适配器的&lt;a href="/v1.9/zh/docs/reference/config/policy-and-telemetry/adapters/list/">配置选项&lt;/a>。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>配置校验&lt;/strong>。Mixer 对配置状态进行更广泛的验证，以便更早发现问题。我们希望在即将发布的版本中，投入更多的精力在此功能上。&lt;/p>&lt;/li>
&lt;/ul>
&lt;p>如果您想了解细节，可以在&lt;a href="https://github.com/istio/istio/wiki/v0.3.0">这里&lt;/a>查看我们更详细的低级发行说明。&lt;/p></description><pubDate>Wed, 29 Nov 2017 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/0.x/announcing-0.3/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/0.x/announcing-0.3/</guid></item><item><title>宣布 Istio 0.2</title><description>
&lt;p>我在 2017 年 5 月 24 日发布了 Istio ，它是一个用于连接、管理、监控和保护微服务的开放平台。看着饱含浓厚兴趣的开发者、运营商、合作伙伴和不断发展的社区，我们感到十分的欣慰。我们 0.1 版本的重点是展示 Istio 在 Kubernetes 中的所有概念。&lt;/p>
&lt;p>今天我们十分高兴地宣布推出 0.2 版本，它提高了稳定性和性能、允许在 Kubernetes 集群中广泛部署并自动注入 sidecar 、为 TCP 服务添加策略和身份验证、同时保证扩展网格收录那些部署在虚拟机中的服务。此外，Istio 可以利用 Consul/Nomad 或 Eureka 在 Kubernetes 外部运行。除了核心功能，Istio 的扩展已经准备由第三方公司和开发人员编写。&lt;/p>
&lt;h2 id="highlights-for-the-0.2-release">0.2 版本的亮点&lt;/h2>
&lt;h3 id="usability-improvements">可用性改进&lt;/h3>
&lt;ul>
&lt;li>&lt;p>&lt;em>支持多命名空间&lt;/em>: Istio 现在可以跨多个名称空间在集群范围内工作，这也是来自 0.1 版本中社区最强烈的要求之一。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;em>TCP 服务的策略与安全&lt;/em>: 除了 HTTP ，我们还为 TCP 服务增加了透明双向 TLS 认证和策略实施。这将让拥有像遥测，策略和安全等 Istio 功能的同时，保护更多 Kubernetes deployment 。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;em>自动注入 sidecar&lt;/em>: 通过利用 Kubernetes 1.7 提供的 alpha &lt;a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/">初始化程序&lt;/a> ，当您的集群启用了该程序时，envoy sidecar 就可以自动注入到应用的 deployment 里。这使得你可以使用 &lt;code>kubectl&lt;/code> 命令部署微服务，这与您通常在没有 Istio 的情况下部署微服务的命令完全相同。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;em>扩展 Istio&lt;/em> : 改进的 Mixer 设计，可以允许供应商编写 Mixer 适配器以实现对其自身系统的支持，例如应用管理或策略实施。该 &lt;a href="https://github.com/istio/istio/wiki/Mixer-Compiled-In-Adapter-Dev-Guide">Mixer 适配器开发指南&lt;/a>可以轻松的帮你将 Istio 集成于你的解决方案。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;em>使用您自己的 CA 证书&lt;/em>: 允许用户提供自己的密钥和证书给 Istio CA 和永久 CA 密钥/证书存储，允许在持久化存储中提供签名密钥/证书，以便于 CA 重启。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;em>改进路由和指标&lt;/em>: 支持 WebSocket 、MongoDB 和 Redis 协议。您可以将弹性功能（如熔断器）应用于第三方服务。除了 Mixer 的指标外，数以百计 Envoy 指标现在已经在 Prometheus 中可见，它们用于监控 Istio 网格中的流量吞吐。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h3 id="cross-environment-support">跨环境支持&lt;/h3>
&lt;ul>
&lt;li>&lt;p>&lt;em>网格扩展&lt;/em>: Istio 网格现在可以在 Kubernetes 之外跨服务 —— 就像那些运行在虚拟机中的服务一样，他们同时享受诸如自动双向 TLS 认证、流量管理、遥测和跨网格策略实施带来的好处。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;em>运行在 Kubernetes 外部&lt;/em>: 我们知道许多客户使用其他的服务注册中心和 orchestration 解决方案（如 Consul/Nomad 和 Eureka），Istio Pilot 可以在 Kubernetes 外部单独运行，同时从这些系统中获取信息，并在虚拟机或容器中管理 Envoy fleet 。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="get-involved-in-shaping-the-future-of-Istio">加入到塑造 Istio 未来的队伍中&lt;/h2>
&lt;p>呈现在我们面前的是一幅不断延伸的&lt;a href="/v1.9/zh/about/feature-stages/">蓝图&lt;/a> ，它充满着强大的潜能。我们将在下个版本致力于 Istio 的稳定性，可靠性，第三方工具集成和多集群用例。&lt;/p>
&lt;p>想要了解如何参与并为 Istio 的未来做出贡献，请查看我们在 GitHub 的&lt;a href="https://github.com/istio/community">社区&lt;/a>项目，它将会向您介绍我们的工作组，邮件列表，各种社区会议，常规流程和指南。&lt;/p>
&lt;p>我们要感谢为我们测试新版本、提交错误报告、贡献代码、帮助其他成员以及通过参与无数次富有成效的讨论塑造 Istio 的出色社区，这让我们的项目自启动以来在 GitHub 上累积了 3000 颗星，并且在 Istio 邮件列表上有着数百名活跃的社区成员。&lt;/p>
&lt;p>谢谢&lt;/p>
&lt;h2 id="release-notes">发布说明&lt;/h2>
&lt;h3 id="general">通用&lt;/h3>
&lt;ul>
&lt;li>&lt;p>&lt;strong>更新配置模型&lt;/strong>。Istio 现在使用了 Kubernetes 的 &lt;a href="https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/">Custom Resource&lt;/a>
来描述和存储其配置。当运行在 Kubernetes 上时，现在可以使用 &lt;code>kubectl&lt;/code> 命令来管理配置。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>多 namespace 的支持&lt;/strong>。Istio 控制平面组件现在位于专用的 &lt;code>istio-system&lt;/code> namespace 下。
Istio 可以管理其他非系统名称空间中的服务。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>Mesh 扩展&lt;/strong>。初步支持将非 Kubernetes 服务（以 VM 和/或 物理机的形式）添加到网格中。
这是此功能的早期版本，存在一些限制（例如，要求在容器和 VM 之间建立扁平网络）。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>多环境的支持&lt;/strong>。初步支持将 Istio 与其他服务注册表（包括 Consul 和 Eureka ）结合使用。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>自动注入 Sidecar&lt;/strong>。使用 Kubernetes 中的 &lt;a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/">Initializers&lt;/a> alpha 功能，可以在部署后将 Istio 边车自动注入到 Pod 中。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h3 id="performance-and-quality">性能及品质&lt;/h3>
&lt;p>整个系统在性能和可靠性方面都有许多改进。
我们尚未考虑将 Istio 0.2 用于生产，但我们在这一方面取得了长足的进步。以下是一些注意事项：&lt;/p>
&lt;ul>
&lt;li>&lt;p>&lt;strong>缓存客户端&lt;/strong>。现在，Envoy 使用的 Mixer 客户端库为 Check 调用提供了缓存，为 Report 调用提供了批处理，从而大大减少了端到端的开销。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>避免热重启&lt;/strong>。通过有效使用 LDS/RDS/CDS/EDS，基本上消除了 Envoy 需要热重启的情况。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>减少内存使用&lt;/strong>。大大减少了 Sidecar 辅助代理的大小，从 50Mb 减少到了 7Mb。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>改善 Mixer 延迟&lt;/strong>。Mixer 现在可以清楚地描述配置时间和请求时间的计算，这样可以避免在请求时针对初始请求进行额外的设置工作，从而提供更平滑的平均延迟。
更好的资源缓存还有助于提高端到端性能。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>减少 Egress 流量的延迟&lt;/strong>。现在，我们直接将流量从 sidecar 转发到外部服务。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h3 id="traffic-management">流量管理&lt;/h3>
&lt;ul>
&lt;li>&lt;p>&lt;strong>Egress 规则&lt;/strong>。现在可以为 Egress 流量指定路由规则。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>新协议&lt;/strong>。Mesh-wide 现在支持 WebSocket 链接, MongoDB 代理,
和 Kubernetes &lt;a href="https://kubernetes.io/docs/concepts/services-networking/service/#headless-services">headless 服务&lt;/a>。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>其它改进&lt;/strong>。Ingress 正确支持 gRPC 服务，更好的支持健康检查和 Jaeger 追踪。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h3 id="policy-enforcement-telemetry">策略执行及遥测&lt;/h3>
&lt;ul>
&lt;li>&lt;p>&lt;strong>Ingress 策略&lt;/strong>。除了 0.1 中支持的东西流量。现在，策略也可以应用于南北流量。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>支持 TCP 服务&lt;/strong>。除了 0.1 中可用的 HTTP 级策略控制外，0.2 还引入了 TCP 服务的策略控制。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>新的 Mixer API&lt;/strong>。Envoy 用于与 Mixer 进行交互的 API 已进行了完全重新设计，以提高健壮性，灵活性，并支持丰富的代理端缓存和批处理以提高性能。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>新的 Mixer Adapter 模型&lt;/strong>。新的适配器组合模型通过模板添加全新的适配器类，使扩展 Mixer 更容易。这种新模型将作为将来许多功能的基础构建块。
请参阅&lt;a href="https://github.com/istio/istio/wiki/Mixer-Compiled-In-Adapter-Dev-Guide">适配器开发者指南&lt;/a>以了解如何编写适配器。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>改进 Mixer 构建模型&lt;/strong>。现在，构建包含自定义适配器的 Mixer 二进制文件变得更加容易。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>Mixer Adapter 更新&lt;/strong>。内置适配器已全部重写以适合新的适配器模型。该版本已添加了 &lt;code>stackdriver&lt;/code> 适配器。
实验性的 &lt;code>redisquota&lt;/code> 适配器已从 0.2 版本中删除，但有望在 生产就绪的 0.3 版本中回归。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>Mixer 调用追踪&lt;/strong>。现在可以在 Zipkin 仪表板中跟踪和分析 Envoy 和 Mixer 之间的调用。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h3 id="security">安全&lt;/h3>
&lt;ul>
&lt;li>&lt;p>&lt;strong>TCP 流量的双向 TLS&lt;/strong>。除了 HTTP 流量外，TCP 流量现在也支持双向 TLS。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>VM 和物理机的身份配置&lt;/strong>。Auth 支持使用每节点代理进行身份配置的新机制。
该代理在每个节点（VM /物理机）上运行，并负责生成和发送 CSR（证书签名请求）以从 Istio CA 获取证书。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>使用自己的 CA 证书&lt;/strong>。允许用户向 Istio CA 提供自己的密钥和证书。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>永久性 CA 密钥/证书存储&lt;/strong>。Istio CA 现在将签名密钥/证书持久化存储，以方便 CA 重新启动。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="known-issues">已知问题&lt;/h2>
&lt;ul>
&lt;li>&lt;p>&lt;strong>用户访问应用程序时可能会收到 404&lt;/strong>：我们注意到，Envoy 有时无法正确获取路由，因此将 404 返回给用户。
我们正在对此&lt;a href="https://github.com/istio/istio/issues/1038">问题&lt;/a>进行积极的工作。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>在真正准备就绪之前，Istio Ingress 或 Egress 就报告了准备就绪&lt;/strong>：您可以在 &lt;code>istio-system&lt;/code> 名称空间中检查 &lt;code>istio-ingress&lt;/code> 和 &lt;code>istio-egress&lt;/code> pod 的状态，并在所有 Istio pod 报告就绪状态后等待几秒钟。我们正在对此&lt;a href="https://github.com/istio/istio/pull/1055">问题&lt;/a>进行积极的工作。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>启用了 Istio Auth 的服务无法与一个非 Istio 服务通信&lt;/strong>：此限制将在不久的将来消除。&lt;/p>&lt;/li>
&lt;/ul></description><pubDate>Tue, 10 Oct 2017 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/0.x/announcing-0.2/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/0.x/announcing-0.2/</guid></item><item><title>初次了解 Istio</title><description>
&lt;p>Google、IBM 和 Lyft 骄傲的宣布了 &lt;a href="/v1.9/zh">Istio&lt;/a> 的首个公开版本。Istio 是一个以统一方式对微服务实施连接、管理、监控以及安全增强的开源项目。当前版本专注于支持 &lt;a href="https://kubernetes.io/">Kubernetes&lt;/a> 环境，我们计划在接下来的几个月添加诸如虚拟机和 Cloud Foundry 等环境的支持。
Istio 为微服务添加了流量管理能力，同时为比如安全、监控、路由、连接管理和策略等附加能力打下了基础。此软件构建于来自 Lyft 的经过实战检验的 &lt;a href="https://envoyproxy.github.io/envoy/">Envoy&lt;/a> 代理之上，能在 &lt;em>无需改动任何应用代码&lt;/em> 的情况下赋予对应用流量的可见性和控制能力。Istio 为 CIO 们提供了一个在企业内加强安全、策略和合规性的强有力的工具。&lt;/p>
&lt;h2 id="background">背景&lt;/h2>
&lt;p>基于微服务模式编写可靠的、松耦合的、产品级的应用是有挑战的。随着巨型单体应用被分解为微服务，软件团队不得不面对将微服务集成进分布式系统的挑战：服务发现、负载均衡、故障容忍、端到端监测、动态路由，还有最重要的合规和安全。&lt;/p>
&lt;p>层出不穷的方案尝试解决这些挑战，互不一致的库、脚本和堆栈溢出代码段导致这些解决方案跨越多种语言和运行时，严重影响了可观测性，最终危及到安全。&lt;/p>
&lt;p>有一个解决方案是使用通用 RPC 库比如 &lt;a href="https://grpc.io">gRPC&lt;/a>，但是这在大规模适配时花销不菲，且可能在某些事实上无法变更的应用上留下棕色地带。运维人员需要一个灵活的工具来使他们的微服务变得安全、合规、可追踪和高可用，开发人员也需要这种能力来在产品环境实验不同的功能或者部署金丝雀版本而不影响系统的完整性。&lt;/p>
&lt;h2 id="solution-service-mesh">解决方案：服务网格&lt;/h2>
&lt;p>想象一下如果我们可以在服务和网络之间透明的注入一层基础设施来给予运维人员所需要的控制能力的同时又能让开发人员免除需要将解决分布式系统问题的代码糅合到业务代码的烦恼。这种一致的基础设施层与服务开发的搭配通常被称之为 &lt;strong>&lt;em>服务网格&lt;/em>&lt;/strong>。正如微服务帮助不同的功能团队之间互相解耦，服务网格可以帮助解除功能开发和发布流程之间的耦合。Istio 通过在不同的服务网络间注入代理来将不同的微服务集成进同一个服务网格。&lt;/p>
&lt;p>Google、IBM 和 Lyft 为了共同的愿景，基于为内部和企业客户构建和管理大规模微服务的经验合力创造了 Istio，以此来为微服务的开发和维护提供一个可靠的基础。Google 和 IBM 在他们自身的应用以及他们的企业客户的敏感的／ 受管制的环境中实施大规模微服务时积累了丰富的经验，同时 Lyft 开发了 Envoy 以解决他们内部面对的挑战。在成功的将其应用于生产环境，管理过能每秒处理两百万个请求的分布于上万个虚拟机 超过 100 个微服务一年后 &lt;a href="https://eng.lyft.com/announcing-envoy-c-l7-proxy-and-communication-bus-92520b6c8191">Lyft 开源 Envoy&lt;/a> 。&lt;/p>
&lt;h2 id="benefits-of-Istio">Istio 的好处&lt;/h2>
&lt;p>&lt;strong>集群范围的可见性&lt;/strong>：故障时有发生，运维人员需要工具来监控集群健康和微服务状态。Istio 生成有关应用和网络行为的详细监测数据，可使用 &lt;a href="https://prometheus.io/">Prometheus&lt;/a> 和 &lt;a href="https://github.com/grafana/grafana">Grafana&lt;/a> 渲染，也可以发送指标和日志到任何收集、聚合和查询的系统以轻松的扩展其功能。Istio 使用 &lt;a href="https://github.com/openzipkin/zipkin">Zipkin&lt;/a> 提供分析性能瓶颈和诊断分布式故障的功能。&lt;/p>
&lt;figure style="width:100%">
&lt;div class="wrapper-with-intrinsic-ratio" style="padding-bottom:55.425531914893625%">
&lt;a data-skipendnotes="true" href="/v1.9/zh/news/releases/0.x/announcing-0.1/istio_grafana_dashboard-new.png" title="Grafana Dashboard with Response Size">
&lt;img class="element-to-stretch" src="/v1.9/zh/news/releases/0.x/announcing-0.1/istio_grafana_dashboard-new.png" alt="Grafana Dashboard with Response Size" />
&lt;/a>
&lt;/div>
&lt;figcaption>Grafana Dashboard with Response Size&lt;/figcaption>
&lt;/figure>
&lt;figure style="width:100%">
&lt;div class="wrapper-with-intrinsic-ratio" style="padding-bottom:29.912663755458514%">
&lt;a data-skipendnotes="true" href="/v1.9/zh/news/releases/0.x/announcing-0.1/istio_zipkin_dashboard.png" title="Zipkin Dashboard">
&lt;img class="element-to-stretch" src="/v1.9/zh/news/releases/0.x/announcing-0.1/istio_zipkin_dashboard.png" alt="Zipkin Dashboard" />
&lt;/a>
&lt;/div>
&lt;figcaption>Zipkin Dashboard&lt;/figcaption>
&lt;/figure>
&lt;p>&lt;strong>适应能力和效率&lt;/strong>：当开发微服务时，运维人员需要假设网络是不可靠的。运维人员可以使用重试、负载均衡、流程控制（HTTP/2）和熔断等措施来缓解不可靠网络中这些常见的故障。Istio 提供了一致的方式来配置这些功能，使其易于维护一个高适应性的服务网格。&lt;/p>
&lt;p>&lt;strong>开发者生产力&lt;/strong>：Istio 使开发者专注于使用他们喜欢的编程语言构建服务功能，这有效的提升了开发者的生产力，同时 Istio 使用统一的方式处理适应性和网络认证。开发者免于将解决分布式系统问题的代码糅合到业务代码。Istio 提供支持 A/B 测试、金丝雀部署和故障注入的通用功能进一步的提高了生产力。&lt;/p>
&lt;p>&lt;strong>策略驱动运维&lt;/strong>：Istio 赋予肩负不同职责的团队以独立操作的能力。它将集群管理员从应用部署环节中分离，这可以增强应用的安全、监测、伸缩和服务拓扑等能力而 &lt;em>不需要&lt;/em> 变更代码。运维人员可以精确的路由一部分生产流量用于检验一个新版本的服务。他们可以在流量中注入故障和延迟来测试服务网格的适应能力，同时可以设置请求限制来放置服务被过载。Istio 也可以被用于确保合规，在服务间定义 ACL 可以仅允许被授权的服务才能相互访问。&lt;/p>
&lt;p>&lt;strong>默认安全&lt;/strong>：一个常见的缪误是认为分布式计算的网络是安全的。Istio 使用双向 TLS 连接，使运维人员可以确保服务之间的通信是经过认证和安全的，而使开发者或运维人员无需负担繁重的认证管理任务。我们的安全框架符合 &lt;a href="https://spiffe.io/">SPIFFE&lt;/a> 规范，且基于在 Google 内部经过大范围测试的类似系统。&lt;/p>
&lt;p>&lt;strong>渐进式适配&lt;/strong>：我们有意使 Istio 对于运行于网格中的服务完全透明，这允许团队逐步适配 Istio 的功能。适配人员可以首先启用集群范围内的可见性，一旦他们适应了 Istio 的存在，他们可以按需开启其他功能。&lt;/p>
&lt;h2 id="join-us-in-this-journey">加入我们&lt;/h2>
&lt;p>Istio 是一个完全开放的开发项目。今天我们发布了能工作于 Kubernetes 集群的 0.1 版本，我们计划每三个月发布一个大版本，包括支持更多的环境。我们的目标是赋能开发者和运维人员，使他们在所有环境中都能敏捷的发布和维护微服务，拥有底层网络的完全的可见性，且获得一致的控制和安全能力。我们期待与 Istio 社区和我们的合作伙伴一起沿着&lt;a href="/v1.9/zh/about/feature-stages/">路线图&lt;/a>朝着这些目标前进。&lt;/p>
&lt;p>访问&lt;a href="https://github.com/istio/istio/releases">此处&lt;/a>获取最新发布的代码。&lt;/p>
&lt;p>查看在 GlueCon 2017 公布 Istio 时的&lt;a href="/v1.9/talks/istio_talk_gluecon_2017.pdf">介绍&lt;/a>。&lt;/p>
&lt;h2 id="community">社区&lt;/h2>
&lt;p>我们很兴奋的看到来自社区中很多公司的早期支持：
&lt;a href="https://blog.openshift.com/red-hat-istio-launch/">Red Hat&lt;/a> 的 Red Hat OpenShift 和 OpenShift Application Runtimes，
Pivotal 的 &lt;a href="https://content.pivotal.io/blog/pivotal-and-istio-advancing-the-ecosystem-for-microservices-in-the-enterprise">Pivotal Cloud Foundry&lt;/a>，
WeaveWorks 的 &lt;a href="https://www.weave.works/blog/istio-weave-cloud/">Weave Cloud&lt;/a> 和 Weave Net 2.0，
&lt;a href="https://www.projectcalico.org/welcoming-istio-to-the-kubernetes-networking-community">Tigera&lt;/a> 的 Calico Network Policy Engine 项目，还有 &lt;a href="https://www.datawire.io/istio-and-datawire-ecosystem/">Datawire&lt;/a> 的 Ambassador 项目。我们期待看到更多的公司加入我们。&lt;/p>
&lt;p>想要参与时可以通过以下任意渠道与我们联系：&lt;/p>
&lt;ul>
&lt;li>&lt;p>&lt;a href="/v1.9/zh">istio.io&lt;/a> 提供文档和示例。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;a href="https://discuss.istio.io">Istio discussion board&lt;/a> 综合交流区。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;a href="https://stackoverflow.com/questions/tagged/istio">Stack Overflow&lt;/a> 用于问答&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;a href="https://github.com/istio/istio/issues">GitHub&lt;/a> 用于提交 Issue&lt;/p>&lt;/li>
&lt;li>&lt;p>Twitter &lt;a href="https://twitter.com/IstioMesh">@IstioMesh&lt;/a>&lt;/p>&lt;/li>
&lt;/ul>
&lt;p>欢迎登船！&lt;/p>
&lt;h2 id="release-notes">发布说明&lt;/h2>
&lt;ul>
&lt;li>使用单个命令将 Istio 安装到 Kubernetes namespace 中。&lt;/li>
&lt;li>将 Envoy proxy 半自动注入至 Kubernetes Pod 中。&lt;/li>
&lt;li>使用 iptables 自动捕获 Kubernetes Pod 的流量。&lt;/li>
&lt;li>针对 HTTP，gRPC 和 TCP 流量的集群内负载平衡。&lt;/li>
&lt;li>支持超时，预算重试和熔断器。&lt;/li>
&lt;li>Istio 集成的 Kubernetes Ingress 支持（Istio 充当 Ingress Controller）。&lt;/li>
&lt;li>细粒度的流量路由控件，包括 A/B 测试，金丝雀，红/黑部署。&lt;/li>
&lt;li>灵活的内存速率限制。&lt;/li>
&lt;li>使用 Prometheus 进行 HTTP 和 gRPC 的 L7 遥测和日志记录。&lt;/li>
&lt;li>Grafana 仪表板显示每个服务的 L7 指标。&lt;/li>
&lt;li>使用 Envoy 及 Zipkin 实现请求跟踪。&lt;/li>
&lt;li>使用双向 TLS 实现 service-to-service 的认证。&lt;/li>
&lt;li>使用拒绝表达式实现简单 service-to-service 的认证。&lt;/li>
&lt;/ul></description><pubDate>Wed, 24 May 2017 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/0.x/announcing-0.1/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/0.x/announcing-0.1/</guid></item><item><title>对 Istio 1.2 的支持已终止</title><description>&lt;p>如&lt;a href="/v1.9/zh/news/support/announcing-1.2-eol/">先前宣布&lt;/a>的一样, 对 Istio 1.2 的支持现已正式终止。&lt;/p>
&lt;p>我们将不再为 1.2 提供针对安全问题和关键错误的修复程序，因此，如果您尚未升级，
我们建议您升级到最新版本的 Istio (1.9.5)。&lt;/p></description><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><link>/v1.9/zh/news/support/announcing-1.2-eol-final/</link><author/><guid isPermaLink="true">/v1.9/zh/news/support/announcing-1.2-eol-final/</guid></item><item><title>Helm 安装参数变动表</title><description>
&lt;p>下表显示了在 Istio 1.2 版本到 Istio 1.3 版本之间使用 Helm 自定义安装 Istio 时参数变更，主要包含了三种类型的变更：&lt;/p>
&lt;ul>
&lt;li>安装参数在 1.2 版本之前已经存在，但是值在新发布的 1.3 版本中进行了修改。&lt;/li>
&lt;li>1.3 版本新加的参数。&lt;/li>
&lt;li>1.3 版本删除的参数。&lt;/li>
&lt;/ul>
&lt;!-- 下表是运行 python 脚本 scripts/tablegen.py 自动生成 -->
&lt;!-- 自动生成开始 -->
&lt;h2 id="modified-configuration-options">修改的配置选项&lt;/h2>
&lt;h3 id="modified-Kiali-key-value-pairs">修改 &lt;code>kiali&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>老的默认值&lt;/th>
&lt;th>新的默认值&lt;/th>
&lt;th>老的说明&lt;/th>
&lt;th>新的说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>kiali.tag&lt;/code>&lt;/td>
&lt;td>&lt;code>v0.20&lt;/code>&lt;/td>
&lt;td>&lt;code>v1.1.0&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="modified-global-key-value-pairs">修改 &lt;code>global&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>老的默认值&lt;/th>
&lt;th>新的默认值&lt;/th>
&lt;th>老的说明&lt;/th>
&lt;th>新的说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>global.tag&lt;/code>&lt;/td>
&lt;td>&lt;code>1.2.0-rc.3&lt;/code>&lt;/td>
&lt;td>&lt;code>release-1.3-latest-daily&lt;/code>&lt;/td>
&lt;td>&lt;code>Istio 镜像默认 tag。&lt;/code>&lt;/td>
&lt;td>&lt;code>Istio 镜像默认 tag。&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="modified-gateways-key-value-pairs">修改 &lt;code>gateways&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>老的默认值&lt;/th>
&lt;th>新的默认值&lt;/th>
&lt;th>老的说明&lt;/th>
&lt;th>新的说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.resources.limits.memory&lt;/code>&lt;/td>
&lt;td>&lt;code>256Mi&lt;/code>&lt;/td>
&lt;td>&lt;code>1024Mi&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="modified-tracing-key-value-pairs">修改 &lt;code>tracing&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>老的默认值&lt;/th>
&lt;th>新的默认值&lt;/th>
&lt;th>老的说明&lt;/th>
&lt;th>新的说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>tracing.jaeger.tag&lt;/code>&lt;/td>
&lt;td>&lt;code>1.9&lt;/code>&lt;/td>
&lt;td>&lt;code>1.12&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.zipkin.tag&lt;/code>&lt;/td>
&lt;td>&lt;code>2&lt;/code>&lt;/td>
&lt;td>&lt;code>2.14.2&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="new-configuration-options">新加的配置选项&lt;/h2>
&lt;h3 id="new-tracing-key-value-pairs">添加 &lt;code>tracing&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>tracing.tolerations&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.jaeger.image&lt;/code>&lt;/td>
&lt;td>&lt;code>all-in-one&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.jaeger.spanStorageType&lt;/code>&lt;/td>
&lt;td>&lt;code>badger&lt;/code>&lt;/td>
&lt;td>&lt;code>对于 all-in-one 模式镜像 spanStorageType 值可以是“memory”和“badger”&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.jaeger.persist&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.jaeger.storageClassName&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.jaeger.accessMode&lt;/code>&lt;/td>
&lt;td>&lt;code>ReadWriteMany&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.zipkin.image&lt;/code>&lt;/td>
&lt;td>&lt;code>zipkin&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-sidecar-injector-webhook-key-value-pairs">添加 &lt;code>sidecarInjectorWebhook&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>sidecarInjectorWebhook.rollingMaxSurge&lt;/code>&lt;/td>
&lt;td>&lt;code>100%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sidecarInjectorWebhook.rollingMaxUnavailable&lt;/code>&lt;/td>
&lt;td>&lt;code>25%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sidecarInjectorWebhook.tolerations&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-global-key-value-pairs">添加 &lt;code>global&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>global.proxy.init.resources.limits.cpu&lt;/code>&lt;/td>
&lt;td>&lt;code>100m&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.init.resources.limits.memory&lt;/code>&lt;/td>
&lt;td>&lt;code>50Mi&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.init.resources.requests.cpu&lt;/code>&lt;/td>
&lt;td>&lt;code>10m&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.init.resources.requests.memory&lt;/code>&lt;/td>
&lt;td>&lt;code>10Mi&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.envoyAccessLogService.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.envoyAccessLogService.host&lt;/code>&lt;/td>
&lt;td>``&lt;/td>
&lt;td>&lt;code>例如：accesslog-service.istio-system&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.envoyAccessLogService.port&lt;/code>&lt;/td>
&lt;td>``&lt;/td>
&lt;td>&lt;code>例如：15000&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.envoyAccessLogService.tlsSettings.mode&lt;/code>&lt;/td>
&lt;td>&lt;code>DISABLE&lt;/code>&lt;/td>
&lt;td>&lt;code>DISABLE, SIMPLE, MUTUAL, ISTIO_MUTUAL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.envoyAccessLogService.tlsSettings.clientCertificate&lt;/code>&lt;/td>
&lt;td>``&lt;/td>
&lt;td>&lt;code>例如: /etc/istio/als/cert-chain.pem&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.envoyAccessLogService.tlsSettings.privateKey&lt;/code>&lt;/td>
&lt;td>``&lt;/td>
&lt;td>&lt;code>例如：/etc/istio/als/key.pem&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.envoyAccessLogService.tlsSettings.caCertificates&lt;/code>&lt;/td>
&lt;td>``&lt;/td>
&lt;td>&lt;code>例如：/etc/istio/als/root-cert.pem&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.envoyAccessLogService.tlsSettings.sni&lt;/code>&lt;/td>
&lt;td>``&lt;/td>
&lt;td>&lt;code>例如： als.somedomain&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.envoyAccessLogService.tlsSettings.subjectAltNames&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.envoyAccessLogService.tcpKeepalive.probes&lt;/code>&lt;/td>
&lt;td>&lt;code>3&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.envoyAccessLogService.tcpKeepalive.time&lt;/code>&lt;/td>
&lt;td>&lt;code>10s&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.envoyAccessLogService.tcpKeepalive.interval&lt;/code>&lt;/td>
&lt;td>&lt;code>10s&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.protocolDetectionTimeout&lt;/code>&lt;/td>
&lt;td>&lt;code>10ms&lt;/code>&lt;/td>
&lt;td>&lt;code>在服务端，自动协议检测使用一组启发式方法来确定连接是否正在使用 TLS，以及所使用的应用协议（例如，http vs tcp）。 这些试探法依赖于客户端发送第一次请求数。对于一些优先发现的协议，如 MySQL 协议，MongoDB 协议等等，Envoy 在完成协议检测超时情况下，默认为非 mTLS 的普通 TCP 流量。 设置此字段可调整 Envoy 等待客户端发送第一次请求数据时间。（必须 &amp;gt;= 1ms）&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.enableCoreDumpImage&lt;/code>&lt;/td>
&lt;td>&lt;code>ubuntu:xenial&lt;/code>&lt;/td>
&lt;td>&lt;code>当 &amp;quot;enableCoreDump&amp;quot; 设置为 true 的时候，启动核心存储的镜像&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.defaultTolerations&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;code>节点的默认 tolerations 将应用于所有部署，以便可以将所有 Pod 调度到具有匹配 taints 的特定节点。每个组件都可以通过在下面的相关部分中添加其 tolerations block 并设置所需的值来覆盖这些默认值。如果希望将 Istio 控制平面的所有 Pod 都调度到具有指定 taints 的特定节点，请配置此字段。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.meshID&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;code>MeshID 表示 Mesh 标识符。在可能会彼此交互的 mesh 之间，它应该是唯一的，但是并不需要是全局唯一的。例如，如果满足以下任一条件，则两个 mesh 必须具有不同的 MeshID：- Mesh 将遥测聚集在同一个地方。- Mesh 将联合在一起。- 策略将被另一个 Mesh 引用。管理员希望这些条件中的任何一种将来可能成为现实，因此应确保为其 Mesh 分配了不同的 MeshID。在多集群 Mesh 中，每个集群必须（手动或自动）配置为具有相同的 MeshID 值。如果现有集群“加入”到多集群 Mesh 则需要将其迁移到新的 MeshID。迁移的详细信息待定，并且在安装后更改 MeshID 可能是一项破坏性操作。如果 Mesh 管理者未指定值，则 Istio 将使用 Mesh “信任域”的值。最佳实践是选择适当的“信任域”值。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.localityLbSetting.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-galley-key-value-pairs">添加 &lt;code>galley&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>galley.rollingMaxSurge&lt;/code>&lt;/td>
&lt;td>&lt;code>100%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>galley.rollingMaxUnavailable&lt;/code>&lt;/td>
&lt;td>&lt;code>25%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-mixer-key-value-pairs">添加 &lt;code>mixer&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>mixer.policy.rollingMaxSurge&lt;/code>&lt;/td>
&lt;td>&lt;code>100%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.policy.rollingMaxUnavailable&lt;/code>&lt;/td>
&lt;td>&lt;code>25%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.telemetry.rollingMaxSurge&lt;/code>&lt;/td>
&lt;td>&lt;code>100%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.telemetry.rollingMaxUnavailable&lt;/code>&lt;/td>
&lt;td>&lt;code>25%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.telemetry.reportBatchMaxEntries&lt;/code>&lt;/td>
&lt;td>&lt;code>100&lt;/code>&lt;/td>
&lt;td>&lt;code>将 reportBatchMaxEntries 设置为 0 表示使用默认的批处理行为（即每 100 个批处理一次）。 正值表示遥测数据发送到 mixer 服务器之前已批处理的请求数&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.telemetry.reportBatchMaxTime&lt;/code>&lt;/td>
&lt;td>&lt;code>1s&lt;/code>&lt;/td>
&lt;td>&lt;code>将 reportBatchMaxTime 设置为 0 以使用默认的批处理行为（即每 1 秒批处理一次）。 正值表示处理完上次请求并将遥测数据发送到 mixer 服务器后，进行下次批处理前的最大等待时间&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-Grafana-key-value-pairs">添加 &lt;code>grafana&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>grafana.env&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.envSecrets&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.datasources.type.orgId&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.datasources.type.url&lt;/code>&lt;/td>
&lt;td>&lt;code>http://prometheus:9090&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.datasources.type.access&lt;/code>&lt;/td>
&lt;td>&lt;code>proxy&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.datasources.type.isDefault&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.datasources.type.jsonData.timeInterval&lt;/code>&lt;/td>
&lt;td>&lt;code>5s&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.datasources.type.editable&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.dashboardProviders.dashboardproviders.providers.orgId.folder&lt;/code>&lt;/td>
&lt;td>&lt;code>'istio'&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.dashboardProviders.dashboardproviders.providers.orgId.type&lt;/code>&lt;/td>
&lt;td>&lt;code>file&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.dashboardProviders.dashboardproviders.providers.orgId.disableDeletion&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.dashboardProviders.dashboardproviders.providers.orgId.options.path&lt;/code>&lt;/td>
&lt;td>&lt;code>/var/lib/grafana/dashboards/istio&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-Prometheus-key-value-pairs">添加 &lt;code>prometheus&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>prometheus.image&lt;/code>&lt;/td>
&lt;td>&lt;code>prometheus&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-gateways-key-value-pairs">添加 &lt;code>gateways&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.rollingMaxSurge&lt;/code>&lt;/td>
&lt;td>&lt;code>100%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.rollingMaxUnavailable&lt;/code>&lt;/td>
&lt;td>&lt;code>25%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.rollingMaxSurge&lt;/code>&lt;/td>
&lt;td>&lt;code>100%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.rollingMaxUnavailable&lt;/code>&lt;/td>
&lt;td>&lt;code>25%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ilbgateway.rollingMaxSurge&lt;/code>&lt;/td>
&lt;td>&lt;code>100%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ilbgateway.rollingMaxUnavailable&lt;/code>&lt;/td>
&lt;td>&lt;code>25%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-cert-manager-key-value-pairs">添加 &lt;code>certmanager&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>certmanager.image&lt;/code>&lt;/td>
&lt;td>&lt;code>cert-manager-controller&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-Kiali-key-value-pairs">添加 &lt;code>kiali&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>kiali.image&lt;/code>&lt;/td>
&lt;td>&lt;code>kiali&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>kiali.tolerations&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>kiali.dashboard.auth.strategy&lt;/code>&lt;/td>
&lt;td>&lt;code>login&lt;/code>&lt;/td>
&lt;td>&lt;code>可以通过匿名，登录，或者是 openshift 方式&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>kiali.security.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>kiali.security.cert_file&lt;/code>&lt;/td>
&lt;td>&lt;code>/kiali-cert/cert-chain.pem&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>kiali.security.private_key_file&lt;/code>&lt;/td>
&lt;td>&lt;code>/kiali-cert/key.pem&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-Istio-core-DNS-key-value-pairs">添加 &lt;code>istiocoredns&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>istiocoredns.rollingMaxSurge&lt;/code>&lt;/td>
&lt;td>&lt;code>100%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>istiocoredns.rollingMaxUnavailable&lt;/code>&lt;/td>
&lt;td>&lt;code>25%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-security-key-value-pairs">添加 &lt;code>security&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>security.replicaCount&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>security.rollingMaxSurge&lt;/code>&lt;/td>
&lt;td>&lt;code>100%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>security.rollingMaxUnavailable&lt;/code>&lt;/td>
&lt;td>&lt;code>25%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>security.workloadCertTtl&lt;/code>&lt;/td>
&lt;td>&lt;code>2160h&lt;/code>&lt;/td>
&lt;td>&lt;code>90*24hour = 2160h&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>security.enableNamespacesByDefault&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>如果在给定命名空间上找不到 ca.istio.io/env 或 ca.istio.io/override 标签，则确定 Citadel 默认行为。 例如：考虑一个名为 “target” 的命名空间，该命名空间既没有 ca.istio.io/env 也没有 ca.istio.io/override 命名空间标签，为了确定是否为在 “target” 命名空间中创建的服务帐户生成 secret，Citadel 将采用此选项。如果在这种情况下此选项的值为 “true”，则将为 “target” 命名空间生成 secret。 如果此选项的值为“false”，则 Citadel 在创建服务帐户时不会生成机密信息。&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-pilot-key-value-pairs">添加 &lt;code>pilot&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>pilot.rollingMaxSurge&lt;/code>&lt;/td>
&lt;td>&lt;code>100%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>pilot.rollingMaxUnavailable&lt;/code>&lt;/td>
&lt;td>&lt;code>25%&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>pilot.enableProtocolSniffing&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>如果启用了协议嗅探。默认为 false。&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="removed-configuration-options">删除的配置选项&lt;/h2>
&lt;h3 id="removed-global-key-value-pairs">删除 &lt;code>global&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>global.sds.useTrustworthyJwt&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.sds.useNormalJwt&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.localityLbSetting&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="removed-mixer-key-value-pairs">删除 &lt;code>mixer&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>mixer.templates.seTemplateCRDs&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="removed-Grafana-key-value-pairs">删除 &lt;code>grafana&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>grafana.dashboardProviders.dashboardproviders.providers.disableDeletion&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.dashboardProviders.dashboardproviders.providers.type&lt;/code>&lt;/td>
&lt;td>&lt;code>file&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.dashboardProviders.dashboardproviders.providers.folder&lt;/code>&lt;/td>
&lt;td>&lt;code>'istio'&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.datasources.isDefault&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.datasources.url&lt;/code>&lt;/td>
&lt;td>&lt;code>http://prometheus:9090&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.datasources.access&lt;/code>&lt;/td>
&lt;td>&lt;code>proxy&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.datasources.jsonData.timeInterval&lt;/code>&lt;/td>
&lt;td>&lt;code>5s&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.dashboardProviders.dashboardproviders.providers.options.path&lt;/code>&lt;/td>
&lt;td>&lt;code>/var/lib/grafana/dashboards/istio&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.datasources.editable&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.datasources.orgId&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;!-- 自动生成结束--></description><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.3.x/announcing-1.3/helm-changes/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.3.x/announcing-1.3/helm-changes/</guid><category>kubernetes</category><category>helm</category><category>install</category><category>options</category></item><item><title>Helm 安装参数变动表</title><description>
&lt;p>下表显示了在 Istio 1.0 版本到 Istio 1.1 版本之间使用 Helm 自定义安装 Istio 时参数变更，主要包含了三种类型的变更：&lt;/p>
&lt;ul>
&lt;li>安装参数在 1.0 版本之前已经存在，但是值在新发布的 1.1 版本中进行了修改。&lt;/li>
&lt;li>1.1 版本新加的参数。&lt;/li>
&lt;li>1.1 版本删除的参数。&lt;/li>
&lt;/ul>
&lt;!-- 下表是运行 python 脚本 scripts/tablegen.py 自动生成 -->
&lt;!-- 自动生成开始 -->
&lt;h2 id="modified-configuration-options">修改配置选项&lt;/h2>
&lt;h3 id="modified-key-value-pairs">修改 &lt;code>servicegraph&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>旧默认值&lt;/th>
&lt;th>新默认值&lt;/th>
&lt;th>旧描述&lt;/th>
&lt;th>新描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>servicegraph.ingress.hosts&lt;/code>&lt;/td>
&lt;td>&lt;code>servicegraph.local&lt;/code>&lt;/td>
&lt;td>&lt;code>servicegraph.local&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>用来创建一个 Ingress record。&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="modified-tracing-key-value-pairs">修改 &lt;code>tracing&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>旧默认值&lt;/th>
&lt;th>新默认值&lt;/th>
&lt;th>旧描述&lt;/th>
&lt;th>新描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>tracing.jaeger.tag&lt;/code>&lt;/td>
&lt;td>&lt;code>1.5&lt;/code>&lt;/td>
&lt;td>&lt;code>1.9&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="modified-global-key-value-pairs">修改 &lt;code>global&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>旧默认值&lt;/th>
&lt;th>新默认值&lt;/th>
&lt;th>旧描述&lt;/th>
&lt;th>新描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>global.hub&lt;/code>&lt;/td>
&lt;td>&lt;code>gcr.io/istio-release&lt;/code>&lt;/td>
&lt;td>&lt;code>gcr.io/istio-release&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>Istio 镜像的默认仓库。已发布版本的 Istio 镜像已经推送到了 docker hub 中的 istio 项目下，白天会从 gcr.io 进行构建，夜晚会从 docker.io/istionightly 上进行构建。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.tag&lt;/code>&lt;/td>
&lt;td>&lt;code>release-1.0-latest-daily&lt;/code>&lt;/td>
&lt;td>&lt;code>release-1.1-latest-daily&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>Istio 镜像的默认标签。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.resources.requests.cpu&lt;/code>&lt;/td>
&lt;td>&lt;code>10m&lt;/code>&lt;/td>
&lt;td>&lt;code>100m&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.accessLogFile&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;/dev/stdout&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.enableCoreDump&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>如果设置，新注入的 sidecars 将启用 core dumps。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.autoInject&lt;/code>&lt;/td>
&lt;td>&lt;code>enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>enabled&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>可以控制 sidecar 的注入策略。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.envoyStatsd.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>如果设置为 true，则还须提供主机地址和端口。Istio 不再提供 statsd 收集器。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.envoyStatsd.host&lt;/code>&lt;/td>
&lt;td>&lt;code>istio-statsd-prom-bridge&lt;/code>&lt;/td>
&lt;td>``&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>例如: statsd-svc.istio-system&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.envoyStatsd.port&lt;/code>&lt;/td>
&lt;td>&lt;code>9125&lt;/code>&lt;/td>
&lt;td>``&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>例如: 9125&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy_init.image&lt;/code>&lt;/td>
&lt;td>&lt;code>proxy_init&lt;/code>&lt;/td>
&lt;td>&lt;code>proxy_init&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>proxy_init 容器的基本名称，用于配置 iptables。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.controlPlaneSecurityEnabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>启用 controlPlaneMtls。在传播 secret 时，将导致 Pod 的延迟启动，不建议用于测试。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.disablePolicyChecks&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>disablePolicyChecks 禁用 mixer 策略检查。如果 mixer.policy.enabled==true 则 disablePolicyChecks 已生效。将在 istio ConfigMap 设置相同名称的值 - pilot 需要重新启动才能生效。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.enableTracing&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>EnableTracing 在 istio ConfigMap 中具有相同名称的值，需要重新启动 pilot 才能生效。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.mtls.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>服务到服务间的 mtls 的默认设置。可以使用目标规则或服务注释来显式设置。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.oneNamespace&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>是否限制控制器管理的应用程序的名称空间；如果未设置，则控制器将监控所有名称空间。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.configValidation&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>是否执行服务器端配置验证。&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="modified-gateways-key-value-pairs">修改 &lt;code>gateways&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>旧默认值&lt;/th>
&lt;th>新默认值&lt;/th>
&lt;th>旧描述&lt;/th>
&lt;th>新描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.type&lt;/code>&lt;/td>
&lt;td>&lt;code>LoadBalancer #change to NodePort, ClusterIP or LoadBalancer if need be&lt;/code>&lt;/td>
&lt;td>&lt;code>LoadBalancer&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>如果需要，请更改为节点端口，集群 IP，或者负载地址。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.type&lt;/code>&lt;/td>
&lt;td>&lt;code>ClusterIP #change to NodePort or LoadBalancer if need be&lt;/code>&lt;/td>
&lt;td>&lt;code>ClusterIP&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>如果需要，请更改为节点端口或者负载地址。&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="modified--key-value-pairs">修改 &lt;code>certmanager&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>旧默认值&lt;/th>
&lt;th>新默认值&lt;/th>
&lt;th>旧描述&lt;/th>
&lt;th>新描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>certmanager.tag&lt;/code>&lt;/td>
&lt;td>&lt;code>v0.3.1&lt;/code>&lt;/td>
&lt;td>&lt;code>v0.6.2&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="modified-key-value-pairs-1">修改 &lt;code>kiali&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>旧默认值&lt;/th>
&lt;th>新默认值&lt;/th>
&lt;th>旧描述&lt;/th>
&lt;th>新描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>kiali.tag&lt;/code>&lt;/td>
&lt;td>&lt;code>istio-release-1.0&lt;/code>&lt;/td>
&lt;td>&lt;code>v0.14&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="modified-security-key-value-pairs">修改 &lt;code>security&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>旧默认值&lt;/th>
&lt;th>新默认值&lt;/th>
&lt;th>旧描述&lt;/th>
&lt;th>新描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>security.selfSigned&lt;/code>&lt;/td>
&lt;td>&lt;code>true # indicate if self-signed CA is used.&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>是否使用自签名 CA 证书。&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="modified-pilot-key-value-pairs">修改 &lt;code>pilot&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>旧默认值&lt;/th>
&lt;th>新默认值&lt;/th>
&lt;th>旧描述&lt;/th>
&lt;th>新描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>pilot.autoscaleMax&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;code>5&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>pilot.traceSampling&lt;/code>&lt;/td>
&lt;td>&lt;code>100.0&lt;/code>&lt;/td>
&lt;td>&lt;code>1.0&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="new-configuration-options">新的配置选项&lt;/h2>
&lt;h3 id="new-key-value-pairs">新增 &lt;code>istio_cni&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>istio_cni.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-key-value-pairs-1">新增 &lt;code>servicegraph&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>servicegraph.nodeSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-tracing-key-value-pairs">新增 &lt;code>tracing&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>tracing.nodeSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.zipkin.hub&lt;/code>&lt;/td>
&lt;td>&lt;code>docker.io/openzipkin&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.zipkin.tag&lt;/code>&lt;/td>
&lt;td>&lt;code>2&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.zipkin.probeStartupDelay&lt;/code>&lt;/td>
&lt;td>&lt;code>200&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.zipkin.queryPort&lt;/code>&lt;/td>
&lt;td>&lt;code>9411&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.zipkin.resources.limits.cpu&lt;/code>&lt;/td>
&lt;td>&lt;code>300m&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.zipkin.resources.limits.memory&lt;/code>&lt;/td>
&lt;td>&lt;code>900Mi&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.zipkin.resources.requests.cpu&lt;/code>&lt;/td>
&lt;td>&lt;code>150m&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.zipkin.resources.requests.memory&lt;/code>&lt;/td>
&lt;td>&lt;code>900Mi&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.zipkin.javaOptsHeap&lt;/code>&lt;/td>
&lt;td>&lt;code>700&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.zipkin.maxSpans&lt;/code>&lt;/td>
&lt;td>&lt;code>500000&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.zipkin.node.cpus&lt;/code>&lt;/td>
&lt;td>&lt;code>2&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-key-value-pairs-2">新增 &lt;code>sidecarInjectorWebhook&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>sidecarInjectorWebhook.nodeSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sidecarInjectorWebhook.rewriteAppHTTPProbe&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>如果设置为 true，则 webhook 或 istioctl injector 将重写 PodSpec 进行 livenesshealth 检查，以将请求重定向到 Sidecar，即使启用了 mTLS，也可以进行活动检查。&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-global-key-value-pairs">新增 &lt;code>global&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>global.monitoringPort&lt;/code>&lt;/td>
&lt;td>&lt;code>15014&lt;/code>&lt;/td>
&lt;td>&lt;code>监控被 mixer、 pilot 和 galley 所使用的端口。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.k8sIngress.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.k8sIngress.gatewayName&lt;/code>&lt;/td>
&lt;td>&lt;code>ingressgateway&lt;/code>&lt;/td>
&lt;td>&lt;code>用于 k8s 入口资源的网关，默认情况下，它使用的是 istio：ingressgateway，将 gateways.enabled 和 gateways.istio-ingressgateway.enabled 标志设置为 true 即可安装。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.k8sIngress.enableHttps&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>enableHttps 将在入口处添加 443 端口，它要求将证书安装在预期的 secret 中，启用不带证书的此选项将导致 LDS 拒绝，并且入口将不起作用。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.clusterDomain&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;cluster.local&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;code>集群域，默认值为 cluster.local。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.resources.requests.memory&lt;/code>&lt;/td>
&lt;td>&lt;code>128Mi&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.resources.limits.cpu&lt;/code>&lt;/td>
&lt;td>&lt;code>2000m&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.resources.limits.memory&lt;/code>&lt;/td>
&lt;td>&lt;code>128Mi&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.concurrency&lt;/code>&lt;/td>
&lt;td>&lt;code>2&lt;/code>&lt;/td>
&lt;td>&lt;code>控制代理工作线程的数量，如果设置为 0（默认值），则为每个 CPU 线程/核心。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.accessLogFormat&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;code>配置 sidecar 访问日志中显示方式和字段的显示方式，设置空字符串将导致成为默认的日志格式。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.accessLogEncoding&lt;/code>&lt;/td>
&lt;td>&lt;code>TEXT&lt;/code>&lt;/td>
&lt;td>&lt;code>将 Sidecar 的访问日志配置为 JSON 或 TEXT 格式。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.dnsRefreshRate&lt;/code>&lt;/td>
&lt;td>&lt;code>5s&lt;/code>&lt;/td>
&lt;td>&lt;code>为类型为 STRICT_DNS 的 Envoy 集群配置 DNS 的刷新频率为 5s，是 Envoy 使用的默认刷新频率。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.privileged&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>如果设置为 true，则 istio-proxy 容器将具有特权 securityContext。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.statusPort&lt;/code>&lt;/td>
&lt;td>&lt;code>15020&lt;/code>&lt;/td>
&lt;td>&lt;code>Pilot 代理运行状况检查的默认端口，设置为 0 将禁用运行状况检查。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.readinessInitialDelaySeconds&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;code>准备就绪探测的初始延迟（以秒为单位）。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.readinessPeriodSeconds&lt;/code>&lt;/td>
&lt;td>&lt;code>2&lt;/code>&lt;/td>
&lt;td>&lt;code>准备就绪探测之间的时间间隔。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.readinessFailureThreshold&lt;/code>&lt;/td>
&lt;td>&lt;code>30&lt;/code>&lt;/td>
&lt;td>&lt;code>指示准备就绪失败之前，连续失败的探测数。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.kubevirtInterfaces&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;code>pod 的内部接口。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.envoyMetricsService.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.envoyMetricsService.host&lt;/code>&lt;/td>
&lt;td>``&lt;/td>
&lt;td>&lt;code>例如：metrics-service.istio-system&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.envoyMetricsService.port&lt;/code>&lt;/td>
&lt;td>``&lt;/td>
&lt;td>&lt;code>例如：15000&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.tracer&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;zipkin&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;code>指定要使用的跟踪器，lightstep 和 zipkin 其中之一。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.policyCheckFailOpen&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>policyCheckFailOpen 允许在无法访问 mixer 策略的情况下进行通信，默认值为 false，这意味着在客户端无法连接到 Mixer 时拒绝通信。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.tracer.lightstep.address&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;code>例如：lightstep-satellite:443&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.tracer.lightstep.accessToken&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;code>例如：abcdefg1234567&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.tracer.lightstep.secure&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>例如：true\|false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.tracer.lightstep.cacertPath&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;code>例如：/etc/lightstep/cacert.pem&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.tracer.zipkin.address&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.defaultNodeSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;code>默认 node selector 将应用于所有部署，以便可以限制所有特定的 Pod 节点，每个组件都可以通过在下面的相关部分中添加 node selector block 并设置所需的值来覆盖这些默认值。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.meshExpansion.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.meshExpansion.useILB&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>如果设置为 true，则将在内部网关上暴露 pilot 和 citadel mtls 以及 plain text pilot portswill。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.multiCluster.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>当每个集群中的 Pod 无法直接相互通信时，设置为 true 可通过它们各自的 ingress gateway 服务连接两个 kubernetes 集群，所有群集都应使用 Istio mTLS，并且必须具有共享的根证书才能使该模型正常工作。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.defaultPodDisruptionBudget.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.useMCP&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>使用网格控制协议（MCP）来配置 Mixer 和 Pilot。需要 galley (--设置 galley.enabled=true)。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.trustDomain&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.outboundTrafficPolicy.mode&lt;/code>&lt;/td>
&lt;td>&lt;code>ALLOW_ANY&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.sds.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>是否启用 SDS。如果设置为 true，则将通过 SecretDiscoveryService 分发用于 sidecars 的 mTLS 证书，而不是使用 K8S secret 来挂载证书。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.sds.udsPath&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.sds.useTrustworthyJwt&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.sds.useNormalJwt&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.meshNetworks&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.enableHelmTest&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>指定是否启 helm 测试，默认情况下，此字段默认设置为 false，因此 'helm template ...' 将在生成模板时忽略 helm 测试的 yaml 文件。&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-mixer-key-value-pairs">新增 &lt;code>mixer&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>mixer.env.GODEBUG&lt;/code>&lt;/td>
&lt;td>&lt;code>gctrace=1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.env.GOMAXPROCS&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;6&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;code>max procs should be ceil(cpu limit + 1)&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.policy.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>如果启用了策略，则 global.disablePolicyChecks 将生效。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.policy.replicaCount&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.policy.autoscaleEnabled&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.policy.autoscaleMin&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.policy.autoscaleMax&lt;/code>&lt;/td>
&lt;td>&lt;code>5&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.policy.cpu.targetAverageUtilization&lt;/code>&lt;/td>
&lt;td>&lt;code>80&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.telemetry.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.telemetry.replicaCount&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.telemetry.autoscaleEnabled&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.telemetry.autoscaleMin&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.telemetry.autoscaleMax&lt;/code>&lt;/td>
&lt;td>&lt;code>5&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.telemetry.cpu.targetAverageUtilization&lt;/code>&lt;/td>
&lt;td>&lt;code>80&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.telemetry.sessionAffinityEnabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.telemetry.loadshedding.mode&lt;/code>&lt;/td>
&lt;td>&lt;code>enforce&lt;/code>&lt;/td>
&lt;td>&lt;code>禁用，仅用于登录或强制执行。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.telemetry.loadshedding.latencyThreshold&lt;/code>&lt;/td>
&lt;td>&lt;code>100ms&lt;/code>&lt;/td>
&lt;td>&lt;code>基于 100ms 的测量，p50 转换为 p99 不到 1s，对于本质上是异步的遥测来说是没问题的。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.telemetry.resources.requests.cpu&lt;/code>&lt;/td>
&lt;td>&lt;code>1000m&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.telemetry.resources.requests.memory&lt;/code>&lt;/td>
&lt;td>&lt;code>1G&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.telemetry.resources.limits.cpu&lt;/code>&lt;/td>
&lt;td>&lt;code>4800m&lt;/code>&lt;/td>
&lt;td>&lt;code>最好使用适度的 cpu 进行分配使 mixer 水平缩放。我们通过实验发现这些值效果很好。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.telemetry.resources.limits.memory&lt;/code>&lt;/td>
&lt;td>&lt;code>4G&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.podAnnotations&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.nodeSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.adapters.kubernetesenv.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.adapters.stdio.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.adapters.stdio.outputAsJson&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.adapters.prometheus.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.adapters.prometheus.metricsExpiryDuration&lt;/code>&lt;/td>
&lt;td>&lt;code>10m&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.adapters.useAdapterCRDs&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>如果设置为 false， 会将 useAdapterCRDs mixer 的启动参数设置为 false。&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-key-value-pairs-3">新增 &lt;code>grafana&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>grafana.image.repository&lt;/code>&lt;/td>
&lt;td>&lt;code>grafana/grafana&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.image.tag&lt;/code>&lt;/td>
&lt;td>&lt;code>5.4.0&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.ingress.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.ingress.hosts&lt;/code>&lt;/td>
&lt;td>&lt;code>grafana.local&lt;/code>&lt;/td>
&lt;td>&lt;code>用来创建一个 Ingress record。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.persist&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.storageClassName&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.accessMode&lt;/code>&lt;/td>
&lt;td>&lt;code>ReadWriteMany&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.security.secretName&lt;/code>&lt;/td>
&lt;td>&lt;code>grafana&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.security.usernameKey&lt;/code>&lt;/td>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.security.passphraseKey&lt;/code>&lt;/td>
&lt;td>&lt;code>passphrase&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.nodeSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.contextPath&lt;/code>&lt;/td>
&lt;td>&lt;code>/grafana&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.apiVersion&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.datasources.type&lt;/code>&lt;/td>
&lt;td>&lt;code>prometheus&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.datasources.orgId&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.datasources.url&lt;/code>&lt;/td>
&lt;td>&lt;code>http://prometheus:9090&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.datasources.access&lt;/code>&lt;/td>
&lt;td>&lt;code>proxy&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.datasources.isDefault&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.datasources.jsonData.timeInterval&lt;/code>&lt;/td>
&lt;td>&lt;code>5s&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.datasources.datasources.datasources.editable&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.dashboardProviders.dashboardproviders.apiVersion&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.dashboardProviders.dashboardproviders.providers.orgId&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.dashboardProviders.dashboardproviders.providers.folder&lt;/code>&lt;/td>
&lt;td>&lt;code>'istio'&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.dashboardProviders.dashboardproviders.providers.type&lt;/code>&lt;/td>
&lt;td>&lt;code>file&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.dashboardProviders.dashboardproviders.providers.disableDeletion&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.dashboardProviders.dashboardproviders.providers.options.path&lt;/code>&lt;/td>
&lt;td>&lt;code>/var/lib/grafana/dashboards/istio&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-key-value-pairs-4">新增 &lt;code>prometheus&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>prometheus.retention&lt;/code>&lt;/td>
&lt;td>&lt;code>6h&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>prometheus.nodeSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>prometheus.scrapeInterval&lt;/code>&lt;/td>
&lt;td>&lt;code>15s&lt;/code>&lt;/td>
&lt;td>&lt;code>控制 prometheus 在 scraping 时的频率。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>prometheus.contextPath&lt;/code>&lt;/td>
&lt;td>&lt;code>/prometheus&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>prometheus.ingress.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>prometheus.ingress.hosts&lt;/code>&lt;/td>
&lt;td>&lt;code>prometheus.local&lt;/code>&lt;/td>
&lt;td>&lt;code>用来创建一个 Ingress record。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>prometheus.security.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-gateways-key-value-pairs">新增 &lt;code>gateways&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.sds.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>如果设置为 true，则入口网关从 SDS 服务器获取凭据以处理 TLS 连接。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.sds.image&lt;/code>&lt;/td>
&lt;td>&lt;code>node-agent-k8s&lt;/code>&lt;/td>
&lt;td>&lt;code>监视 kubernetes 的 secret 并向入口网关提供凭据的 SDS 服务器，该服务器与入口网关服务器在同一容器中运行。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.autoscaleEnabled&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.cpu.targetAverageUtilization&lt;/code>&lt;/td>
&lt;td>&lt;code>80&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.loadBalancerSourceRanges&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.externalIPs&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.podAnnotations&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.ports.targetPort&lt;/code>&lt;/td>
&lt;td>&lt;code>15029&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.ports.name&lt;/code>&lt;/td>
&lt;td>&lt;code>https-kiali&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.ports.name&lt;/code>&lt;/td>
&lt;td>&lt;code>https-prometheus&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.ports.name&lt;/code>&lt;/td>
&lt;td>&lt;code>https-grafana&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.ports.targetPort&lt;/code>&lt;/td>
&lt;td>&lt;code>15032&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.ports.name&lt;/code>&lt;/td>
&lt;td>&lt;code>https-tracing&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.ports.targetPort&lt;/code>&lt;/td>
&lt;td>&lt;code>15443&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.ports.name&lt;/code>&lt;/td>
&lt;td>&lt;code>tls&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.ports.targetPort&lt;/code>&lt;/td>
&lt;td>&lt;code>15020&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.ports.name&lt;/code>&lt;/td>
&lt;td>&lt;code>status-port&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.meshExpansionPorts.targetPort&lt;/code>&lt;/td>
&lt;td>&lt;code>15011&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.meshExpansionPorts.name&lt;/code>&lt;/td>
&lt;td>&lt;code>tcp-pilot-grpc-tls&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.meshExpansionPorts.targetPort&lt;/code>&lt;/td>
&lt;td>&lt;code>15004&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.meshExpansionPorts.name&lt;/code>&lt;/td>
&lt;td>&lt;code>tcp-mixer-grpc-tls&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.meshExpansionPorts.targetPort&lt;/code>&lt;/td>
&lt;td>&lt;code>8060&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.meshExpansionPorts.name&lt;/code>&lt;/td>
&lt;td>&lt;code>tcp-citadel-grpc-tls&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.meshExpansionPorts.targetPort&lt;/code>&lt;/td>
&lt;td>&lt;code>853&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.meshExpansionPorts.name&lt;/code>&lt;/td>
&lt;td>&lt;code>tcp-dns-tls&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.env.ISTIO_META_ROUTER_MODE&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;sni-dnat&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;code>具有此模式的网关可确保 pilot 为内部服务生成集群中的 additionalset，但无需 Istio mTLS，即可启用跨群集路由。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.nodeSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.autoscaleEnabled&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.cpu.targetAverageUtilization&lt;/code>&lt;/td>
&lt;td>&lt;code>80&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.podAnnotations&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.ports.targetPort&lt;/code>&lt;/td>
&lt;td>&lt;code>15443&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.ports.name&lt;/code>&lt;/td>
&lt;td>&lt;code>tls&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.env.ISTIO_META_ROUTER_MODE&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;sni-dnat&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.nodeSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ilbgateway.autoscaleEnabled&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ilbgateway.cpu.targetAverageUtilization&lt;/code>&lt;/td>
&lt;td>&lt;code>80&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ilbgateway.podAnnotations&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ilbgateway.nodeSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-key-value-pairs-5">新增 &lt;code>kiali&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>kiali.contextPath&lt;/code>&lt;/td>
&lt;td>&lt;code>/kiali&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>kiali.nodeSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>kiali.ingress.hosts&lt;/code>&lt;/td>
&lt;td>&lt;code>kiali.local&lt;/code>&lt;/td>
&lt;td>&lt;code>用来创建一个 Ingress record。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>kiali.dashboard.secretName&lt;/code>&lt;/td>
&lt;td>&lt;code>kiali&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>kiali.dashboard.usernameKey&lt;/code>&lt;/td>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>kiali.dashboard.passphraseKey&lt;/code>&lt;/td>
&lt;td>&lt;code>passphrase&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>kiali.prometheusAddr&lt;/code>&lt;/td>
&lt;td>&lt;code>http://prometheus:9090&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>kiali.createDemoSecret&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>设置为 true 时，将使用默认的用户名和密码创建一个 secret， 对一些 demo 有用。&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-key-value-pairs-6">新增 &lt;code>istiocoredns&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>istiocoredns.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>istiocoredns.replicaCount&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>istiocoredns.coreDNSImage&lt;/code>&lt;/td>
&lt;td>&lt;code>coredns/coredns:1.1.2&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>istiocoredns.coreDNSPluginImage&lt;/code>&lt;/td>
&lt;td>&lt;code>istio/coredns-plugin:0.2-istio-1.1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>istiocoredns.nodeSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-security-key-value-pairs">新增 &lt;code>security&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>security.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>security.createMeshPolicy&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>security.nodeSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-key-value-pairs-7">新增 &lt;code>nodeagent&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>nodeagent.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>nodeagent.image&lt;/code>&lt;/td>
&lt;td>&lt;code>node-agent-k8s&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>nodeagent.env.CA_PROVIDER&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;code>provider 的名称。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>nodeagent.env.CA_ADDR&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;code>CA 地址。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>nodeagent.env.Plugins&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;code>鉴别 provider 插件的名称。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>nodeagent.nodeSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-pilot-key-value-pairs">新增 &lt;code>pilot&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>pilot.autoscaleEnabled&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>pilot.env.PILOT_PUSH_THROTTLE&lt;/code>&lt;/td>
&lt;td>&lt;code>100&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>pilot.env.GODEBUG&lt;/code>&lt;/td>
&lt;td>&lt;code>gctrace=1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>pilot.cpu.targetAverageUtilization&lt;/code>&lt;/td>
&lt;td>&lt;code>80&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>pilot.nodeSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>pilot.keepaliveMaxServerConnectionAge&lt;/code>&lt;/td>
&lt;td>&lt;code>30m&lt;/code>&lt;/td>
&lt;td>&lt;code>用于限制 sidecar 可以被 pilot 连接多久，平衡了 pilot 实例的负载，以损失系统资源为代价。&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="removed-configuration-options">移除的配置选项&lt;/h2>
&lt;h3 id="removed-ingress-key-value-pairs">移除 &lt;code>ingress&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>ingress.service.ports.nodePort&lt;/code>&lt;/td>
&lt;td>&lt;code>32000&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ingress.service.selector.istio&lt;/code>&lt;/td>
&lt;td>&lt;code>ingress&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ingress.autoscaleMin&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ingress.service.loadBalancerIP&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ingress.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ingress.service.annotations&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ingress.service.ports.name&lt;/code>&lt;/td>
&lt;td>&lt;code>http&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ingress.service.ports.name&lt;/code>&lt;/td>
&lt;td>&lt;code>https&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ingress.autoscaleMax&lt;/code>&lt;/td>
&lt;td>&lt;code>5&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ingress.replicaCount&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ingress.service.type&lt;/code>&lt;/td>
&lt;td>&lt;code>LoadBalancer #change to NodePort, ClusterIP or LoadBalancer if need be&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="removed-key-value-pairs">移除 &lt;code>servicegraph&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>servicegraph&lt;/code>&lt;/td>
&lt;td>&lt;code>servicegraph.local&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>servicegraph.ingress&lt;/code>&lt;/td>
&lt;td>&lt;code>servicegraph.local&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>servicegraph.service.internalPort&lt;/code>&lt;/td>
&lt;td>&lt;code>8088&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="removed-telemetry-gateway-key-value-pairs">移除 &lt;code>telemetry-gateway&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>telemetry-gateway.prometheusEnabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>telemetry-gateway.gatewayName&lt;/code>&lt;/td>
&lt;td>&lt;code>ingressgateway&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>telemetry-gateway.grafanaEnabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="removed-global-key-value-pairs">移除 &lt;code>global&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>global.hyperkube.tag&lt;/code>&lt;/td>
&lt;td>&lt;code>v1.7.6_coreos.0&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.k8sIngressHttps&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.crds&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.hyperkube.hub&lt;/code>&lt;/td>
&lt;td>&lt;code>quay.io/coreos&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.meshExpansion&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.k8sIngressSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>ingress&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.meshExpansionILB&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="removed-mixer-key-value-pairs">移除 &lt;code>mixer&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>mixer.autoscaleMin&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.istio-policy.cpu.targetAverageUtilization&lt;/code>&lt;/td>
&lt;td>&lt;code>80&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.autoscaleMax&lt;/code>&lt;/td>
&lt;td>&lt;code>5&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.istio-telemetry.autoscaleMin&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.prometheusStatsdExporter.tag&lt;/code>&lt;/td>
&lt;td>&lt;code>v0.6.0&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.istio-telemetry.autoscaleMax&lt;/code>&lt;/td>
&lt;td>&lt;code>5&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.istio-telemetry.cpu.targetAverageUtilization&lt;/code>&lt;/td>
&lt;td>&lt;code>80&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.istio-policy.autoscaleEnabled&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.istio-telemetry.autoscaleEnabled&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.replicaCount&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.prometheusStatsdExporter.hub&lt;/code>&lt;/td>
&lt;td>&lt;code>docker.io/prom&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.istio-policy.autoscaleMin&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.istio-policy.autoscaleMax&lt;/code>&lt;/td>
&lt;td>&lt;code>5&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="removed-key-value-pairs-1">移除 &lt;code>grafana&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>grafana.image&lt;/code>&lt;/td>
&lt;td>&lt;code>grafana&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.service.internalPort&lt;/code>&lt;/td>
&lt;td>&lt;code>3000&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.security.adminPassword&lt;/code>&lt;/td>
&lt;td>&lt;code>admin&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.security.adminUser&lt;/code>&lt;/td>
&lt;td>&lt;code>admin&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="removed-gateways-key-value-pairs">移除 &lt;code>gateways&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ilbgateway.replicaCount&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.replicaCount&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.replicaCount&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.ports.name&lt;/code>&lt;/td>
&lt;td>&lt;code>tcp-pilot-grpc-tls&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.ports.name&lt;/code>&lt;/td>
&lt;td>&lt;code>tcp-citadel-grpc-tls&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.ports.name&lt;/code>&lt;/td>
&lt;td>&lt;code>http2-prometheus&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.ports.name&lt;/code>&lt;/td>
&lt;td>&lt;code>http2-grafana&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.ports.targetPort&lt;/code>&lt;/td>
&lt;td>&lt;code>15011&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.ports.targetPort&lt;/code>&lt;/td>
&lt;td>&lt;code>8060&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="removed-tracing-key-value-pairs">移除 &lt;code>tracing&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>tracing.service.internalPort&lt;/code>&lt;/td>
&lt;td>&lt;code>9411&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.replicaCount&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.jaeger.ingress&lt;/code>&lt;/td>
&lt;td>&lt;code>jaeger.local&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.ingress&lt;/code>&lt;/td>
&lt;td>&lt;code>tracing.local&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.jaeger&lt;/code>&lt;/td>
&lt;td>&lt;code>jaeger.local&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing&lt;/code>&lt;/td>
&lt;td>&lt;code>jaeger.local tracing.local&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.jaeger.ingress.hosts&lt;/code>&lt;/td>
&lt;td>&lt;code>jaeger.local&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.jaeger.ingress.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.ingress.hosts&lt;/code>&lt;/td>
&lt;td>&lt;code>tracing.local&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.jaeger.ui.port&lt;/code>&lt;/td>
&lt;td>&lt;code>16686&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="removed-key-value-pairs-2">移除 &lt;code>kiali&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>kiali.dashboard.username&lt;/code>&lt;/td>
&lt;td>&lt;code>admin&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>kiali.dashboard.passphrase&lt;/code>&lt;/td>
&lt;td>&lt;code>admin&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="removed-pilot-key-value-pairs">移除 &lt;code>pilot&lt;/code> 键/值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>pilot.replicaCount&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;!-- 自动生成结束 --></description><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1/helm-changes/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1/helm-changes/</guid><category>kubernetes</category><category>helm</category><category>install</category><category>options</category></item><item><title>Helm 变更</title><description>
&lt;p>下面的表格展示了 Istio 1.2 相比于 Istio 1.1 在使用 Helm 安装时关于自定义安装选项的一些变化。表格分为三类：&lt;/p>
&lt;ul>
&lt;li>安装选项在之前发行版本中就已经有了，但是在新发行版本中对其值作了修改。&lt;/li>
&lt;li>在新发行版本中增加的安装选项。&lt;/li>
&lt;li>在新发行版本中被移除的安装选项。&lt;/li>
&lt;/ul>
&lt;!-- Run python scripts/tablegen.py to generate this table -->
&lt;!-- AUTO-GENERATED-START -->
&lt;h2 id="modified-configuration-options">作了修改的配置选项&lt;/h2>
&lt;h3 id="modified-Kiali-key-value-pairs">修改 &lt;code>kiali&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>旧默认值&lt;/th>
&lt;th>新默认值&lt;/th>
&lt;th>旧描述&lt;/th>
&lt;th>新描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>kiali.hub&lt;/code>&lt;/td>
&lt;td>&lt;code>docker.io/kiali&lt;/code>&lt;/td>
&lt;td>&lt;code>quay.io/kiali&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>kiali.tag&lt;/code>&lt;/td>
&lt;td>&lt;code>v0.14&lt;/code>&lt;/td>
&lt;td>&lt;code>v0.20&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="modified-Prometheus-key-value-pairs">修改 &lt;code>prometheus&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>旧默认值&lt;/th>
&lt;th>新默认值&lt;/th>
&lt;th>旧描述&lt;/th>
&lt;th>新描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>prometheus.tag&lt;/code>&lt;/td>
&lt;td>&lt;code>v2.3.1&lt;/code>&lt;/td>
&lt;td>&lt;code>v2.8.0&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="modified-global-key-value-pairs">修改 &lt;code>global&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>旧默认值&lt;/th>
&lt;th>新默认值&lt;/th>
&lt;th>旧描述&lt;/th>
&lt;th>新描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>global.tag&lt;/code>&lt;/td>
&lt;td>&lt;code>release-1.1-latest-daily&lt;/code>&lt;/td>
&lt;td>&lt;code>1.2.0-rc.3&lt;/code>&lt;/td>
&lt;td>&lt;code>Istio 镜像的默认标签。&lt;/code>&lt;/td>
&lt;td>&lt;code>Istio 镜像的默认标签。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.resources.limits.memory&lt;/code>&lt;/td>
&lt;td>&lt;code>128Mi&lt;/code>&lt;/td>
&lt;td>&lt;code>1024Mi&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.dnsRefreshRate&lt;/code>&lt;/td>
&lt;td>&lt;code>5s&lt;/code>&lt;/td>
&lt;td>&lt;code>300s&lt;/code>&lt;/td>
&lt;td>&lt;code>配置 STRICT_DNS 类型的 Envoy 集群的 DNS 刷新速率，默认值为 5 秒&lt;/code>&lt;/td>
&lt;td>&lt;code>配置 STRICT_DNS 类型的 Envoy 集群的 DNS 刷新速率，单位必须为秒。例如，可以 设为 300s，不能设为 5m&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="modified-mixer-key-value-pairs">修改 &lt;code>mixer&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>旧默认值&lt;/th>
&lt;th>新默认值&lt;/th>
&lt;th>旧描述&lt;/th>
&lt;th>新描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>mixer.adapters.useAdapterCRDs&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>如果设这个值为 false，则 useAdapterCRDs mixer 的起始参数为 false&lt;/code>&lt;/td>
&lt;td>&lt;code>如果设这个值为 false，则 useAdapterCRDs mixer 的起始参数为 false&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="modified-Grafana-key-value-pairs">修改 &lt;code>grafana&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>旧默认值&lt;/th>
&lt;th>新默认值&lt;/th>
&lt;th>旧描述&lt;/th>
&lt;th>新描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>grafana.image.tag&lt;/code>&lt;/td>
&lt;td>&lt;code>5.4.0&lt;/code>&lt;/td>
&lt;td>&lt;code>6.1.6&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="new-configuration-options">新增的配置选项&lt;/h2>
&lt;h3 id="new-tracing-key-value-pairs">新增 &lt;code>tracing&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>tracing.podAntiAffinityLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tracing.podAntiAffinityTermLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-sidecar-injector-webhook-key-value-pairs">新增 &lt;code>sidecarInjectorWebhook&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>sidecarInjectorWebhook.podAntiAffinityLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sidecarInjectorWebhook.podAntiAffinityTermLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sidecarInjectorWebhook.neverInjectSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;code>你可以用alwaysInjectSelector 和 neverInjectSelector 两个值，分别表示强制注入 sidecar 和无视全局策略，跳过符合标签过滤条件的 pod。请查看 https://istio.io/docs/setup/kubernetes/additional-setup/sidecar-injection/more-control-adding-exceptions&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sidecarInjectorWebhook.alwaysInjectSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-global-key-value-pairs">新增 &lt;code>global&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>global.logging.level&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;default:info&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.logLevel&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;code>代理的 log 等级，用于 gateway 和 sidecar。如果值为空，则使用 &amp;quot;warning&amp;quot;。可选的值为：trace\|debug\|info\|warning\|error\|critical\|off&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.componentLogLevel&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;code>代理的每一个组件的 log 等级，用于 gateway 和 sidecar。如果组件等级未设置，则使用全局的 &amp;quot;logLevel&amp;quot;。如果设置值为空，则使用 &amp;quot;misc:error&amp;quot;。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.proxy.excludeOutboundPorts&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.tracer.datadog.address&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;$(HOST_IP):8126&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.imagePullSecrets&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;code>列出你从一个安全的镜像仓库拉取 Istio 镜像时需要用的 secret&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>global.localityLbSetting&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-galley-key-value-pairs">新增 &lt;code>galley&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>galley.nodeSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>galley.tolerations&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>galley.podAntiAffinityLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>galley.podAntiAffinityTermLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="新增-mixer-键值对">新增 &lt;code>mixer&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>mixer.tolerations&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.podAntiAffinityLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.podAntiAffinityTermLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mixer.templates.useTemplateCRDs&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-Grafana-key-value-pairs">新增 &lt;code>grafana&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>grafana.tolerations&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.podAntiAffinityLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>grafana.podAntiAffinityTermLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-Prometheus-key-value-pairs">新增 &lt;code>prometheus&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>prometheus.tolerations&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>prometheus.podAntiAffinityLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>prometheus.podAntiAffinityTermLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-gateways-key-value-pairs">新增 &lt;code>gateways&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.sds.resources.requests.cpu&lt;/code>&lt;/td>
&lt;td>&lt;code>100m&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.sds.resources.requests.memory&lt;/code>&lt;/td>
&lt;td>&lt;code>128Mi&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.sds.resources.limits.cpu&lt;/code>&lt;/td>
&lt;td>&lt;code>2000m&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.sds.resources.limits.memory&lt;/code>&lt;/td>
&lt;td>&lt;code>1024Mi&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.resources.requests.cpu&lt;/code>&lt;/td>
&lt;td>&lt;code>100m&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.resources.requests.memory&lt;/code>&lt;/td>
&lt;td>&lt;code>128Mi&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.resources.limits.cpu&lt;/code>&lt;/td>
&lt;td>&lt;code>2000m&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.resources.limits.memory&lt;/code>&lt;/td>
&lt;td>&lt;code>1024Mi&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.applicationPorts&lt;/code>&lt;/td>
&lt;td>&lt;code>&amp;quot;&amp;quot;&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.tolerations&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.podAntiAffinityLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.podAntiAffinityTermLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.resources.requests.cpu&lt;/code>&lt;/td>
&lt;td>&lt;code>100m&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.resources.requests.memory&lt;/code>&lt;/td>
&lt;td>&lt;code>128Mi&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.resources.limits.cpu&lt;/code>&lt;/td>
&lt;td>&lt;code>2000m&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.resources.limits.memory&lt;/code>&lt;/td>
&lt;td>&lt;code>256Mi&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.tolerations&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.podAntiAffinityLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-egressgateway.podAntiAffinityTermLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ilbgateway.tolerations&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-cert-manager-key-value-pairs">新增 &lt;code>certmanager&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>certmanager.replicaCount&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>certmanager.nodeSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>certmanager.tolerations&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>certmanager.podAntiAffinityLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>certmanager.podAntiAffinityTermLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-Kiali-key-value-pairs">新增 &lt;code>kiali&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>kiali.podAntiAffinityLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>kiali.podAntiAffinityTermLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>kiali.dashboard.viewOnlyMode&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>将一个服务账户与一个只读的角色绑定&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-Istio-CoreDNS-key-value-pairs">新增 &lt;code>istiocoredns&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>istiocoredns.tolerations&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>istiocoredns.podAntiAffinityLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>istiocoredns.podAntiAffinityTermLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-security-key-value-pairs">新增 &lt;code>security&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>security.tolerations&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>security.citadelHealthCheck&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>security.podAntiAffinityLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>security.podAntiAffinityTermLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-node-agent-key-value-pairs">新增 &lt;code>nodeagent&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>nodeagent.tolerations&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>nodeagent.podAntiAffinityLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>nodeagent.podAntiAffinityTermLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="new-pilot-key-value-pairs">新增 &lt;code>pilot&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>pilot.tolerations&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>pilot.podAntiAffinityLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>pilot.podAntiAffinityTermLabelSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="removed-configuration-options">被移除的配置选项&lt;/h2>
&lt;h3 id="removed-Kiali-key-value-pairs">移除 &lt;code>kiali&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>kiali.dashboard.usernameKey&lt;/code>&lt;/td>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>&lt;code>secret 中用户名的键名。&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>kiali.dashboard.passphraseKey&lt;/code>&lt;/td>
&lt;td>&lt;code>passphrase&lt;/code>&lt;/td>
&lt;td>&lt;code>secret 中密码的键名。&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="removed-security-key-value-pairs">移除 &lt;code>security&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>security.replicaCount&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="removed-gateways-key-value-pairs">移除 &lt;code>gateways&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>gateways.istio-ingressgateway.resources&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="removed-mixer-key-value-pairs">移除 &lt;code>mixer&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>mixer.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="removed-service-graph-key-value-pairs">移除 &lt;code>servicegraph&lt;/code> 键值对&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>键&lt;/th>
&lt;th>默认值&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>servicegraph.ingress.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>servicegraph.service.name&lt;/code>&lt;/td>
&lt;td>&lt;code>http&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>servicegraph.replicaCount&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>servicegraph.service.type&lt;/code>&lt;/td>
&lt;td>&lt;code>ClusterIP&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>servicegraph.service.annotations&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>servicegraph.enabled&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>servicegraph.image&lt;/code>&lt;/td>
&lt;td>&lt;code>servicegraph&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>servicegraph.service.externalPort&lt;/code>&lt;/td>
&lt;td>&lt;code>8088&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>servicegraph.ingress.hosts&lt;/code>&lt;/td>
&lt;td>&lt;code>servicegraph.local&lt;/code>&lt;/td>
&lt;td>&lt;code>用来创建一条进入记录&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>servicegraph.nodeSelector&lt;/code>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>servicegraph.prometheusAddr&lt;/code>&lt;/td>
&lt;td>&lt;code>http://prometheus:9090&lt;/code>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;!-- AUTO-GENERATED-END --></description><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.2.x/announcing-1.2/helm-changes/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.2.x/announcing-1.2/helm-changes/</guid><category>kubernetes</category><category>helm</category><category>install</category><category>options</category></item><item><title>更新公告</title><description>
&lt;p>此页面描述了从 Istio 1.4.x 升级到 1.5.x 时需要注意的更改。在这里，我们详细介绍了有意不再向下兼容情况。还提到了保留向下兼容但引入了新行为的情况，熟悉 Istio 1.4 的使用和操作的人可能会感到惊讶。&lt;/p>
&lt;h2 id="control-plane-restructuring">重构控制平面&lt;/h2>
&lt;p>在 Istio 1.5 中，我们开始使用新的控制平面 deployment 模型，其中整合了许多组件。下面各功能迁移位置的说明。&lt;/p>
&lt;h3 id="istiod">Istiod&lt;/h3>
&lt;p>Istio 1.5，会有一个新的 deployment：&lt;code>istiod&lt;/code>。该组件是控制平面的核心，负责处理配置、证书分发以及 sidecar 注入等。&lt;/p>
&lt;h3 id="sidecar-injection">sidecar 注入&lt;/h3>
&lt;p>以前，sidecar 注入是通过一个可变的 webhook 处理的，该 webhook 由名为 &lt;code>istio-sidecar-injector&lt;/code> 的 deployment 处理。在 Istio 1.5 中，保留了相同的可变 webhook，但现在它指向 &lt;code>istiod&lt;/code> deployment，其它所有注入逻辑保持不变。&lt;/p>
&lt;h3 id="galley">Galley&lt;/h3>
&lt;ul>
&lt;li>配置验证。保持不变，但现在由 &lt;code>istiod&lt;/code> deployment 处理。&lt;/li>
&lt;li>MCP 服务器。默认情况下，MCP 服务器是禁用的。对于大多数用户，这是一个可实现细节。如果您依赖此功能，则需要运行 &lt;code>istio-galley&lt;/code> deployment。&lt;/li>
&lt;li>实验性功能（例如配置分析）。这些功能将需要 &lt;code>istio-galley&lt;/code> deployment。&lt;/li>
&lt;/ul>
&lt;h3 id="citadel">Citadel&lt;/h3>
&lt;p>以前，Citadel 有两个功能：将证书写入至每个命名空间中的 secret、在使用 SDS 时通过 gRPC 将 secret 提供给 &lt;code>nodeagent&lt;/code>。在 Istio 1.5 中，secret 不再写入至每个命名空间。而是仅通过 gRPC 提供服务。并且，此功能已迁移至 &lt;code>istiod&lt;/code> deployment。&lt;/p>
&lt;h3 id="sds-node-agent">SDS 节点代理&lt;/h3>
&lt;p>移除 &lt;code>nodeagent&lt;/code> deployment。现在，此功能存在于 Envoy sidecar 中。&lt;/p>
&lt;h3 id="sidecar">Sidecar&lt;/h3>
&lt;p>以前，sidecar 可以通过两种方式访问证书：通过作为文件挂载的 secret 或 SDS（通过 &lt;code>nodeagent&lt;/code>）。在 Istio 1.5 中，已对此进行了简化。所有 secret 信息将通过本地运行的 SDS 服务器提供。对于大多数用户而言，这些 secret 将从 &lt;code>istiod&lt;/code> deployment 中获取。对于具有自定义 CA 的用户，仍可以使用文件挂载的 secret，但是，本地 SDS 服务器仍将提供这些 secret。这意味着证书轮换不再需要重启 Envoy。&lt;/p>
&lt;h3 id="cni">CNI&lt;/h3>
&lt;p>&lt;code>istio-cni&lt;/code> deployment 没有变化。&lt;/p>
&lt;h3 id="pilot">Pilot&lt;/h3>
&lt;p>移除 &lt;code>istio-pilot&lt;/code> deployment，以便支持 &lt;code>istiod&lt;/code> deployment，&lt;code>istiod&lt;/code> 包含了 Pilot 曾经拥有的所有功能。为了向下兼容，保留了一些对 Pilot 的引用。&lt;/p>
&lt;h2 id="mixer-deprecation">弃用 Mixer&lt;/h2>
&lt;p>Mixer，即 &lt;code>istio-telemetry&lt;/code> 和 &lt;code>istio-policy&lt;/code> deployment 背后的过程，在 1.5 版本中被弃用了。Istio 1.3 开始，默认禁用了 &lt;code>istio-policy&lt;/code>，而 Istio 1.5 ，默认禁用了 &lt;code>istio-telemetry&lt;/code>。&lt;/p>
&lt;p>遥测现在是使用的不再需要 Mixer 的代理内扩展机制（Telemetry V2）收集的。&lt;/p>
&lt;p>如果您依赖 Mixer 的某些特有的特性，如进程外适配器，则可以手动重新启用 Mixer。在 Istio 1.7 之前，Mixer 将继续收到 bug 修复程序和安全修复程序。Mixer 支持的许多特性都能在&lt;a href="https://tinyurl.com/mixer-deprecation">弃用 Mixer&lt;/a> 文档中找到替代方法，包括基于 WebAssembly 沙箱 API 的&lt;a href="https://github.com/istio/proxy/tree/master/extensions">代理内扩展&lt;/a>。&lt;/p>
&lt;p>如果您需要 Mixer 没有的特性，我们建议您公开问题并在社区中进行讨论。&lt;/p>
&lt;p>查看&lt;a href="https://tinyurl.com/mixer-deprecation">弃用 Mixer&lt;/a> 获取详细信息。&lt;/p>
&lt;h3 id="feature-gaps-between-telemetry-v2-and-mixer-telemetry">Telemetry V2 和 Mixer Telemetry 的差异&lt;/h3>
&lt;ul>
&lt;li>不支持网格外遥测。如果流量源或目的地未注入 sidecar，则会缺少某些遥测数据。&lt;/li>
&lt;li>&lt;a href="https://github.com/istio/istio/issues/19385">不支持&lt;/a> Egress gateway 遥测。&lt;/li>
&lt;li>仅支持基于 &lt;code>mtls&lt;/code> 的 TCP 遥测。&lt;/li>
&lt;li>不支持针对 TCP 和 HTTP 的黑洞遥测。&lt;/li>
&lt;li>直方图与 &lt;a href="https://github.com/istio/istio/issues/20483">Mixer Telemetry&lt;/a> 显著不同，且无法更改。&lt;/li>
&lt;/ul>
&lt;h2 id="authentication-policy">认证策略&lt;/h2>
&lt;p>Istio 1.5 引入了 &lt;a href="/v1.9/zh/docs/reference/config/security/peer_authentication/">&lt;code>PeerAuthentication&lt;/code>&lt;/a> 和 &lt;a href="/v1.9/zh/docs/reference/config/security/request_authentication">&lt;code>RequestAuthentication&lt;/code>&lt;/a> （它们取代了 Authentication API 的 Alpha 版本）。有关新 API 的更多信息，请参见 &lt;a href="/v1.9/zh/docs/tasks/security/authentication/authn-policy">authentication policy&lt;/a> 教程。&lt;/p>
&lt;ul>
&lt;li>&lt;p>升级 Istio 后，您 Alpha 版的身份验证策略将被保留并继续使用。您可以逐步将它们替换为等效的 &lt;code>PeerAuthentication&lt;/code> 和 &lt;code>RequestAuthentication&lt;/code>。新策略将根据定义的范围内接管旧策略。我们建议从 workload（最具体的范围）开始替换，然后是命名空间，最后是整个网格范围。&lt;/p>&lt;/li>
&lt;li>&lt;p>替换 workload、命名空间和整个网格的策略之后，您可以使用以下命令，安全地删除 alpha 版本的身份验证策略：&lt;/p>&lt;/li>
&lt;/ul>
&lt;pre>&lt;code class='language-bash' data-expandlinks='true' data-repo='istio' >$ kubectl delete policies.authentication.istio.io --all-namespaces --all
$ kubectl delete meshpolicies.authentication.istio.io --all
&lt;/code>&lt;/pre>
&lt;h2 id="Istio-workload-key-and-certificate-provisioning">Istio workload 密钥及证书配置&lt;/h2>
&lt;ul>
&lt;li>我们已经稳定了 SDS 证书和密钥配置流程。现在，Istio workload 使用 SDS 来提供证书。不建议再使用通过 secret 卷挂载的方法。&lt;/li>
&lt;li>请注意，启用双向 TLS 后，需要手动修改 Prometheus deployment 以监控 workload。详细信息在此 &lt;a href="https://github.com/istio/istio/issues/21843">issue&lt;/a> 中。该问题将在 1.5.1 中解决。&lt;/li>
&lt;/ul>
&lt;h2 id="control-plane-security">控制平面安全&lt;/h2>
&lt;p>作为 Istiod 努力的一部分，我们已经更改了代理与控制平面安全通信的方式。在以前的版本中，当配置了 &lt;code>values.global.controlPlaneSecurityEnabled=true&lt;/code> 设置时，代理将安全地连接到控制平面，这也是 Istio 1.4 的默认设置。每个控制平面组件都运行带有 Citadel 证书的 sidecar，并且代理通过端口 15011 连接到 Pilot。&lt;/p>
&lt;p>在 Istio 1.5 中，代理与控制平面连接的推荐或默认方式不再是这样；相反，可以使用由 Kubernetes 或 Istiod 签名的 DNS 证书，通过 15012 端口连接到 Istiod。&lt;/p>
&lt;p>注意：尽管如此，但在 Istio 1.5 中，将 &lt;code>controlPlaneSecurityEnabled&lt;/code> 设置为 &lt;code>false&lt;/code> 时，默认情况下控制平面之间的通信已经是安全的。&lt;/p>
&lt;h2 id="multicluster-setup">多集群安装&lt;/h2>
&lt;div>
&lt;aside class="callout warning">
&lt;div class="type">
&lt;svg class="large-icon">&lt;use xlink:href="/v1.9/img/icons.svg#callout-warning"/>&lt;/svg>
&lt;/div>
&lt;div class="content">&lt;p>如果您使用的是多集群，建议您不要升级到 Istio 1.5.0!&lt;/p>
&lt;p>多集群 Istio 1.5.0 目前存在几个已知问题，这些问题（&lt;a href="https://github.com/istio/istio/issues/21702">27102&lt;/a>, &lt;a href="https://github.com/istio/istio/issues/21676">21676&lt;/a>）使其在共享控制平面和控制平面副本集 deployment 中均无法使用。这些问题将在 Istio 1.5.1 中解决。&lt;/p>
&lt;/div>
&lt;/aside>
&lt;/div>
&lt;h2 id="helm-upgrade">Helm 升级&lt;/h2>
&lt;p>如果您使用 &lt;code>helm upgrade&lt;/code> 将群集更新到较新的 Istio 版本，则建议您使用 &lt;a href="/v1.9/zh/docs/setup/upgrade/istioctl-upgrade/">&lt;code>istioctl upgrade&lt;/code>&lt;/a> 或遵循 &lt;a href="/v1.9/zh/docs/setup/upgrade/cni-helm-upgrade/">helm template&lt;/a> 的步骤。&lt;/p></description><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.5.x/announcing-1.5/upgrade-notes/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.5.x/announcing-1.5/upgrade-notes/</guid></item><item><title>升级说明</title><description>
&lt;p>此页面描述了当你从 Istio 1.3 升级到 1.4 时需要注意的一些变化。这里我们主要说明在哪我们有意的取消了向后兼容。
同时我们也会说明哪些向后兼容被保留后并可能会产生一些不同于 Istio 1.3 的奇怪行为。&lt;/p>
&lt;h2 id="traffic-management">流量管理&lt;/h2>
&lt;h3 id="http-services-on-port-four-four-three">443 端口的 HTTP 服务&lt;/h3>
&lt;p>&lt;code>http&lt;/code>类型的服务将不再允许使用 443 端口，这个改动是为了保护协议不与外部的 HTTPS 服务所冲突。&lt;/p>
&lt;p>如果你依赖这个行为，那么有下面一些选项：&lt;/p>
&lt;ul>
&lt;li>把应用替换为其他端口。&lt;/li>
&lt;li>把协议类型从 &lt;code>http&lt;/code> 替换为 &lt;code>tcp&lt;/code>。&lt;/li>
&lt;li>给 Pilot deployment 指定环境变量 &lt;code>PILOT_BLOCK_HTTP_ON_443=false&lt;/code>。注意：这会在未来的发布中移除。&lt;/li>
&lt;/ul>
&lt;p>查看 &lt;a href="/v1.9/zh/docs/ops/configuration/traffic-management/protocol-selection/">Protocol Selection&lt;/a> 获取更多关于指定协议端口的信息。&lt;/p>
&lt;h3 id="regex-engine-changes">正则引擎变化&lt;/h3>
&lt;p>为了防止过大的正则表达式消耗过多的资源，Envoy 选择了一个新的正则表达式引擎 &lt;a href="https://github.com/google/re2">&lt;code>re2&lt;/code>&lt;/a> ，这之前用的是 &lt;code>std::regex&lt;/code>。这两个引擎有着很明显的语法差异，尤其是，现在的正则字段被限制在 100 bytes 以内。&lt;/p>
&lt;p>如果你依赖了旧正则表达式引擎的某个特定的行为，你可以通过给 Pilot deployment 指定环境变量 &lt;code>PILOT_ENABLE_UNSAFE_REGEX=true&lt;/code> 来避免这个变化。注意：这会在未来的发布中移除。&lt;/p>
&lt;h2 id="configuration-management">配置管理&lt;/h2>
&lt;p>我们已经在 Istio 资源 的 Kubernetes schema 中介绍过 OpenAPI V3 &lt;a href="https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/#customresourcedefinitions">Custom Resource Definitions (CRD)&lt;/a>，此 schema 描述 Istio 资源并且确保你创建和修改的 Istio 资源能够结构化并且保持正确。&lt;/p>
&lt;p>如果配置的某个或者多个字段是 unknown 或者错误的类型，那么当你创建或者修改 Istio 资源的时候 Kubernetes API server 会拒绝。这个特性，&lt;code>CustomResourceValidation&lt;/code> 是 Kubernetes 1.9+ 版本的默认选项。需要注意的是如果某个之前已经存在的配置并且没有被修改过那么他们 &lt;strong>不会&lt;/strong> 受到影响。&lt;/p>
&lt;p>为了帮助你升级，这里有一些你可以参照的步骤：&lt;/p>
&lt;ul>
&lt;li>升级 Istio 之后，用 &lt;code>kubectl apply --dry-run&lt;/code> 来跑一遍你的 Istio 配置，这样你就可以知道这些配置对于 API server 来说是不是 unknown 或者无效的字段。（&lt;code>DryRun&lt;/code> 特性是 Kubernetes 1.13+ 版本开始的默认选项）&lt;/li>
&lt;li>查看 &lt;a href="/v1.9/zh/docs/reference/config/">reference documentation&lt;/a> 来确认修正字段名和数据类型。&lt;/li>
&lt;li>另外，为了能够结构化验证，你也可以使用 &lt;code>istioctl x analyze&lt;/code> 来帮助检查到你的 Istio 配置的潜在问题。参考 &lt;a href="/v1.9/zh/docs/ops/diagnostic-tools/istioctl-analyze/">here&lt;/a> 获取更多细节。&lt;/li>
&lt;/ul>
&lt;p>如果你想忽略验证错误，当你创建或者修改 Istio 资源的时候可以给 &lt;code>kubectl&lt;/code> 添加 &lt;code>--validate=false&lt;/code> 参数。由于这会导致错误的配置，我们非常不推荐这么做。&lt;/p></description><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.4.x/announcing-1.4/upgrade-notes/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.4.x/announcing-1.4/upgrade-notes/</guid></item><item><title>升级说明</title><description>
&lt;p>此页面描述了从 Istio 1.2 升级到 1.3 时需要注意的更改。我们在这里详细介绍了有意破坏向后兼容性的情况。我们还提到了保留向后兼容性但引入新行为的情况，这对于熟悉 Istio 1.2 的使用和操作的人来说是令人惊讶的。&lt;/p>
&lt;h2 id="installation-and-upgrade">安装与升级&lt;/h2>
&lt;p>我们简化了 Mixer 的配置模型，并在 1.3 中完全删除了对特定适配器和特定模板的自定义资源定义（CRD）的支持。请转向新的配置模型。&lt;/p>
&lt;p>我们从系统中删除了 Mixer CRD，以简化配置模型，提高 Kubernetes 部署中 Mixer 的性能，并提高各种 Kubernetes 环境中的可靠性。&lt;/p>
&lt;h2 id="traffic-management">流量管理&lt;/h2>
&lt;p>Istio 现在默认情况下会捕获所有端口。如果您没有指定容器端口来故意绕过 Envoy，则必须使用 &lt;code>traffic.sidecar.istio.io/excludeInboundPorts&lt;/code> 选项来选择退出端口捕获。&lt;/p>
&lt;p>现在默认情况下启用协议嗅探。当您想升级来获得以前的行为时请使用 &lt;code>--set pilot.enableProtocolSniffing=false&lt;/code> 选项来禁用协议嗅探。要了解更多信息，请参考我们的&lt;a href="/v1.9/zh/docs/ops/configuration/traffic-management/protocol-selection/">协议选择&lt;/a>。&lt;/p>
&lt;p>要想在多个命名空间指定一个主机名，您必须使用 &lt;a href="/v1.9/zh/docs/reference/config/networking/sidecar/">&lt;code>Sidecar&lt;/code> 资源&lt;/a>来选择单个主机。&lt;/p>
&lt;h2 id="trust-domain-validation">信任域名验证&lt;/h2>
&lt;p>信任域名验证是 Istio 1.3 中的新增功能。如果您只有一个信任域名，或者没有通过身份验证策略启用双向 TLS，则无需执行任何操作。&lt;/p>
&lt;p>要选择退出信任域名验证，请在升级到 Istio 1.3 之前在 Helm 模板中添加以下标志:
&lt;code>--set pilot.env.PILOT_SKIP_VALIDATE_TRUST_DOMAIN=true&lt;/code>&lt;/p>
&lt;h2 id="secret-discovery-service">Secret 发现服务&lt;/h2>
&lt;p>在 Istio 1.3 中，我们正在利用 Kubernetes 的改进来更安全地为工作负载实例颁发证书。&lt;/p>
&lt;p>Kubernetes 1.12 引入了 &lt;code>值得信赖的&lt;/code> JWTs 来解决这些问题。
&lt;a href="https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.13.md">Kubernetes 1.13&lt;/a> 引入了将 &lt;code>aud&lt;/code> 字段的值更改为 API server 以外的值的功能。&lt;code>aud&lt;/code> 字段代表了 Kubernetes 的 audience 。为了更好地保护网格，Istio 1.3 仅支持 &lt;code>值得信赖的&lt;/code> JWT，并且当您启用 SDS 后，要求 audience ，也就是 &lt;code>aud&lt;/code> 字段的值，为 &lt;code>istio-ca&lt;/code>。&lt;/p>
&lt;p>在启用 SDS 的情况下升级到 Istio 1.3 之前，请参阅我们的博客文章&lt;a href="/v1.9/zh/blog/2019/trustworthy-jwt-sds/">可信赖的 JWT 和 SDS&lt;/a>。&lt;/p></description><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.3.x/announcing-1.3/upgrade-notes/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.3.x/announcing-1.3/upgrade-notes/</guid></item><item><title>升级说明</title><description>
&lt;p>本页描述了您在从 Istio 1.1.x 升级至 1.2.x 版本时的注意事项。这里我们详细描述了向后不兼容的情况。同时介绍那些向后兼容但引入了新行为的情况，这对于熟悉 Istio 1.1 使用和操作的人来说可能令人惊讶。&lt;/p>
&lt;h2 id="installation-and-upgrade">安装与升级&lt;/h2>
&lt;div>
&lt;aside class="callout tip">
&lt;div class="type">&lt;svg class="large-icon">&lt;use xlink:href="/v1.9/img/icons.svg#callout-tip"/>&lt;/svg>&lt;/div>
&lt;div class="content">Mixer 的配置模型得以简化。面向适配器、面向模板的定制资源支持在 1.2 中默认被删除，并会在 1.3 中完全删除。请迁移到新的配置模型。&lt;/div>
&lt;/aside>
&lt;/div>
&lt;p>为简化配置模型、提高 Mixer 与 Kubernetes 一起使用时的性能以及在各种 Kubernetes 环境中的可靠性，大部分 Mixer CRD 被删除。&lt;/p>
&lt;p>以下 CRD 保留：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>定制资源定义名称&lt;/th>
&lt;th>目的&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>adapter&lt;/code>&lt;/td>
&lt;td>Istio 扩展声明规范&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>attributemanifest&lt;/code>&lt;/td>
&lt;td>Istio 扩展声明规范&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>template&lt;/code>&lt;/td>
&lt;td>Istio 扩展声明规范&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>handler&lt;/code>&lt;/td>
&lt;td>Istio 扩展声明规范&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>rule&lt;/code>&lt;/td>
&lt;td>Istio 扩展声明规范&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>instance&lt;/code>&lt;/td>
&lt;td>Istio 扩展声明规范&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>如果您在使用已被删除的 Mixer 配置模式，在升级 Helm chart 时需设置以下 Helm 标志:
&lt;code>--set mixer.templates.useTemplateCRDs=true --set mixer.adapters.useAdapterCRDs=true&lt;/code>&lt;/p></description><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.2.x/announcing-1.2/upgrade-notes/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.2.x/announcing-1.2/upgrade-notes/</guid></item><item><title>升级说明</title><description>
&lt;p>本页描述了从 Istio 1.0 升级到 1.1 时需要注意的变化。在这里我们详细介绍了一些故意破坏向后兼容性的情况。我们还提到保留向后兼容性的情况，但是引入了一些新的行为，这对于熟悉 Istio 1.0 的使用者和操作人员来说很吃惊。&lt;/p>
&lt;p>有关 Istio 1.1 引入的新特性的概述，请参阅 &lt;a href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/change-notes/">1.1 更改说明&lt;/a>。&lt;/p>
&lt;h2 id="installation">安装&lt;/h2>
&lt;ul>
&lt;li>&lt;p>我们增加了控制平面和 envoy sidecar 所需的 CPU 和 内存。在进行更新之前，确保集群具有足够的资源至关重要。&lt;/p>&lt;/li>
&lt;li>&lt;p>Istio 的 CRD 已放置在它们自己的 Helm 图表 &lt;code>istio-init&lt;/code> 中。这样可以防止丢失自定义资源数据，简化升级过程，并在基于 Helm 的安装之外推动 Istio 的发展。
&lt;a href="/v1.9/zh/docs/setup/upgrade/">升级文档&lt;/a>提供了从 Istio 1.0.6 升级到 Istio 1.1 的正确步骤。当升级时，请仔细遵循这些说明。当使用 &lt;code>template&lt;/code> 或者 &lt;code>tiller&lt;/code> 安装模式来安装 &lt;code>istio-init&lt;/code>和 Istio 图表时，如果需要 &lt;code>certmanager&lt;/code>，请使用 &lt;code>--set certmanager=true&lt;/code> 标志。&lt;/p>&lt;/li>
&lt;li>&lt;p>许多安装选项已被添加、删除或者更改。请参阅&lt;a href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/helm-changes/">安装选项更改&lt;/a>来获得详细的更改概要。&lt;/p>&lt;/li>
&lt;li>&lt;p>用于&lt;a href="/v1.9/zh/docs/setup/install/multicluster/shared-vpn/">多集群 VPN&lt;/a> 的 1.0 &lt;code>istio-remote&lt;/code> 图表和&lt;a href="/v1.9/zh/docs/setup/install/multicluster/shared-gateways/">多集群共享网关&lt;/a>的远程集群安装已经被合并到 Istio 图表中。为了生成等价的 &lt;code>istio-remote&lt;/code> 图表，请使用 &lt;code>--set global.istioRemote=true&lt;/code> 标志。&lt;/p>&lt;/li>
&lt;li>&lt;p>插件不再通过单独的负载均衡器暴露。现在可以通过选择 Ingress 网关暴露插件。当通过 Ingress 网关暴露插件时，请遵循&lt;a href="/v1.9/zh/docs/tasks/observability/gateways/">远程访问遥测插件&lt;/a>指南进行操作。&lt;/p>&lt;/li>
&lt;li>&lt;p>内置的 Istio Statsd 收集器已经被删除。Istio 保留了与您自己的 Statsd 收集器集成的功能，可以使用 &lt;code>--set global.envoyStatsd.enabled=true&lt;/code> 标志。&lt;/p>&lt;/li>
&lt;li>&lt;p>用于配置 Kubernetes 入口的一系列 &lt;code>ingress&lt;/code> 选项已经被删除。使用 &lt;code>--set global.k8sIngress.enabled=true&lt;/code> 标志依然可以开启并使用 Kubernetes Ingress。请参阅&lt;a href="/v1.9/zh/docs/ops/integrations/certmanager/">使用 Cert-Manager 确保 Kubernetes Ingress 安全&lt;/a>的文档了解如何保护 Kubernetes 入口资源。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="traffic-management">流量管理&lt;/h2>
&lt;ul>
&lt;li>&lt;p>现在出站流量的默认策略为 &lt;code>ALLOW_ANY&lt;/code>。到达未知端口的流量将按原样转发。到达已知端口（例如 80 端口）的流量将与系统中的一个服务匹配并进行相应的转发。&lt;/p>&lt;/li>
&lt;li>&lt;p>将 sidecar 路由到服务期间，与 sidecar 相同命名空间中的目标服务的 destination rule 将优先使用，随后是服务命名空间的 destination rule，最后是在其他命名空间的 destination rule（如果适用）。&lt;/p>&lt;/li>
&lt;li>&lt;p>我们建议将网关资源存储在与网关工作负载相同的命名空间中（例如在 &lt;code>istio-ingressgateway&lt;/code> 情况下使用 &lt;code>istio-system&lt;/code> 命名空间）。
当在虚拟服务中提到网关资源时，使用命名空间/名称格式而不要使用 &lt;code>name.namespace.svc.cluster.local&lt;/code>。&lt;/p>&lt;/li>
&lt;li>&lt;p>现在默认情况下禁用可选的出口网关。在 demo 配置文件中启用它，以供用户浏览，但默认情况下在所有的其他配置文件中已禁用。
如果您需要通过出口网关控制和保护出站流量，则需要在任何非演示配置文件中，手动启用 &lt;code>gateways.istio-egressgateway.enabled=true&lt;/code>。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="policy-telemetry">策略和遥测&lt;/h2>
&lt;ul>
&lt;li>&lt;p>现在默认禁用 &lt;code>istio-policy&lt;/code> 检查。demo 配置文件中启用它，供用户评测，但在所有的其他配置文件已禁用该检查。这个改变仅针对 &lt;code>istio-policy&lt;/code> 而不针对 &lt;code>istio-telemetry&lt;/code>。若想重新启用该策略检查，请运行 &lt;code>helm template&lt;/code> 并附带 &lt;code>--set global.disablePolicyChecks=false&lt;/code> 参数，重新应用配置。&lt;/p>&lt;/li>
&lt;li>&lt;p>Service Graph 组件已被弃用，推荐使用 &lt;a href="https://www.kiali.io/">Kiali&lt;/a>。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="security">安全&lt;/h2>
&lt;ul>
&lt;li>RBAC 配置已被修改来实现集群作用域。&lt;code>RbacConfig&lt;/code> 资源已经被替换成 &lt;code>ClusterRbacConfig&lt;/code> 资源。请参阅&lt;a href="https://archive.istio.io/v1.1/docs/setup/kubernetes/upgrade/steps/#migrating-from-rbacconfig-to-clusterrbacconfig">将 &lt;code>RbacConfig&lt;/code> 迁移到 &lt;code>ClusterRbacConfig&lt;/code>&lt;/a> 的文档获得更多的迁移说明。&lt;/li>
&lt;/ul></description><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/</guid></item><item><title>变更说明</title><description>
&lt;h2 id="traffic-management">流量管理&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>改进&lt;/strong> 通过避免不必要的完全推送 &lt;a href="https://github.com/istio/istio/pull/18164">#19305&lt;/a>，提高 &lt;code>ServiceEntry&lt;/code> 性能。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong> Envoy sidecar 就绪状态探测，可以更加准确地确定就绪状态 &lt;a href="https://github.com/istio/istio/pull/18164">#18164&lt;/a>。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong> 在可能的情况下，通过 xDS 发送部分更新，以增强 Envoy 代理配置更新性能 &lt;a href="https://github.com/istio/istio/pull/18354">#18354&lt;/a>。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> 可通过目标规则为每个目标服务配置本地负载均衡设置 &lt;a href="https://github.com/istio/istio/pull/18406">#18406&lt;/a>。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> Pod 崩溃会触发过多 Envoy 代理配置推送的问题 &lt;a href="https://github.com/istio/istio/pull/18574">#18574&lt;/a>。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 应用程序（如 headless 服务）无需通过 Envoy 代理即可直接调用自己的问题 &lt;a href="https://github.com/istio/istio/pull/19308">#19308&lt;/a>。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> 当使用 Istio CNI 时，支持 &lt;code>iptables&lt;/code> 故障检测 &lt;a href="https://github.com/istio/istio/pull/19534">#19534&lt;/a>。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> 在目标规则中添加 &lt;code>consecutiveGatewayErrors&lt;/code> 和 &lt;code>consecutive5xxErrors&lt;/code> 作为异常检测选项 &lt;a href="https://github.com/istio/istio/pull/19771">#19771&lt;/a>。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong> &lt;code>EnvoyFilter&lt;/code> 的匹配性能 &lt;a href="https://github.com/istio/istio/pull/19786">#19786&lt;/a>。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> &lt;code>HTTP_PROXY&lt;/code> 协议支持 &lt;a href="https://github.com/istio/istio/pull/19919">#19919&lt;/a>。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong> &lt;code>iptables&lt;/code> 默认设置使用 &lt;code>iptables-restore&lt;/code>&lt;a href="https://github.com/istio/istio/pull/18847">#18847&lt;/a>。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong> 通过过滤未使用的集群，提高网关性能。默认情况下禁用该设置 &lt;a href="https://github.com/istio/istio/pull/20124">#20124&lt;/a>。&lt;/li>
&lt;/ul>
&lt;h2 id="security">安全&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>毕业&lt;/strong> SDS 稳定，并默认启用。它为 Istio Envoy 代理提供身份配置。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> Beta 身份认证 API。新的 API 将对等体（即双向 TLS）和源（JWT）身份验证分别分离到 &lt;a href="https://github.com/istio/api/blob/master/security/v1beta1/peer_authentication.proto">&lt;code>PeerAuthentication&lt;/code>&lt;/a> 和 &lt;a href="https://github.com/istio/api/blob/master/security/v1beta1/request_authentication.proto">&lt;code>RequestAuthentication&lt;/code>&lt;/a> 中。
两个新 API 都是面向工作负载的，在 alpha 版本的 &lt;code>AuthenticationPolicy&lt;/code> 中它们是面向服务的。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> 在授权策略中添加&lt;a href="https://github.com/istio/api/blob/master/security/v1beta1/authorization.proto#L28">拒绝语义&lt;/a>。&lt;/li>
&lt;li>&lt;strong>毕业&lt;/strong> &lt;a href="/v1.9/zh/docs/tasks/security/authentication/authn-policy/#auto-mutual-TLS">自动双向 TLS&lt;/a> 从 alpha 转到 beta。该特性现在默认启用。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong> 通过将 Node Agent 与 Pilot Agent 作为 Istio Agent 合并，并删除跨 Pod UDS，从而提高了 &lt;a href="https://www.envoyproxy.io/docs/envoy/latest/configuration/security/secret">SDS 安全性&lt;/a> ，不再需要用户为 UDS 连接部署 Kubernetes Pod 安全策略。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong> 通过在 istiod 中包含证书来改进 Istio。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> &lt;a href="https://kubernetes.io/docs/reference/access-authn-authz/authentication/#service-account-tokens">&lt;code>first-party-jwt&lt;/code>&lt;/a> 在 &lt;a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/#service-account-token-volume-projection">&lt;code>third-party-jwt&lt;/code>&lt;/a> 不支持的集群中添加了支持 Kubernetes 作为 CSR 身份验证的后备令牌。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> 支持 Istio CA 和 Kubernetes CA 为控制平面提供证书，可以通过 &lt;code>values.global.pilotCertProvider&lt;/code> 进行配置。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> Istio Agent 为 Prometheus 设置了密钥和证书。&lt;/li>
&lt;/ul>
&lt;h2 id="telemetry">遥测&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>新增&lt;/strong> 对 v2 版本遥测的 TCP 协议支持。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> 在指标、日志中添加 gRPC 响应状态码。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> 支持 Istio Canonical Service。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong> v2 遥测管道的稳定性。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> 对 v2 遥测中可配置性的 alpha 级支持。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> 对在 Envoy 节点元数据中填充 AWS 平台元数据的支持。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong> 用于 Mixer 的 Stackdriver 适配器，以通过可配置的刷新间隔跟踪数据。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> 在 Jaeger 插件中增加了对 headless 收集器服务的支持。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> &lt;code>kubernetesenv&lt;/code> 适配器可为名字中包含点的 Pod 提供适当支持。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong> 用于 Mixer 的 Fluentd 适配器，以在导出的时间戳中提供毫秒级支持。&lt;/li>
&lt;/ul>
&lt;h2 id="configuration-management">配置管理&lt;/h2>
&lt;h2 id="operator">Operator&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>替换&lt;/strong> 将 Alpha &lt;code>IstioControlPlane&lt;/code> API 替换为新的 &lt;a href="/v1.9/zh/docs/reference/config/istio.operator.v1alpha1/">&lt;code>IstioOperator&lt;/code>&lt;/a> API，以便与现有的 &lt;code>MeshConfig&lt;/code> API 保持一致。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> &lt;code>istioctl operator init&lt;/code> 和 &lt;code>istioctl operator remove&lt;/code> 命令。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong> 使用缓存 &lt;a href="https://github.com/istio/operator/pull/667">&lt;code>operator#667&lt;/code>&lt;/a> 提高协调速度。&lt;/li>
&lt;/ul>
&lt;h2 id="istioctl">&lt;code>istioctl&lt;/code>&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>毕业&lt;/strong> &lt;a href="/v1.9/zh/docs/ops/diagnostic-tools/istioctl-analyze/">&lt;code>Istioctl Analyze&lt;/code>&lt;/a>。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> 各种分析器：双向 TLS、JWT、&lt;code>ServiceAssociation&lt;/code>、Secret、sidecar 镜像、端口名称和不建议使用的分析器。&lt;/li>
&lt;li>&lt;strong>更新&lt;/strong> 支持更多针对 &lt;code>RequestAuthentication&lt;/code> 的验证规则。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> &lt;a href="/v1.9/zh/docs/ops/diagnostic-tools/istioctl-analyze/">&lt;code>istioctl analyze&lt;/code>&lt;/a> 添加新参数 &lt;code>-A|--all-namespaces&lt;/code> 以分析整个集群。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> &lt;a href="/v1.9/zh/docs/ops/diagnostic-tools/istioctl-analyze/">&lt;code>istioctl analyze&lt;/code>&lt;/a> 对标准输入流传递的内容进行分析的支持。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> &lt;a href="/v1.9/zh/docs/ops/diagnostic-tools/istioctl-analyze/">&lt;code>istioctl analyze -L&lt;/code>&lt;/a> 打印全部分析变量。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> 功能抑制来自 &lt;a href="/v1.9/zh/docs/ops/diagnostic-tools/istioctl-analyze/">&lt;code>istioctl analyze&lt;/code>&lt;/a> 的消息。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> &lt;a href="/v1.9/zh/docs/ops/diagnostic-tools/istioctl-analyze/">&lt;code>istioctl analyze&lt;/code>&lt;/a> 添加结构化格式选项。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> &lt;a href="/v1.9/zh/docs/ops/diagnostic-tools/istioctl-analyze/">&lt;code>istioctl analyze&lt;/code>&lt;/a> 输出中添加指向相关内容的链接。&lt;/li>
&lt;li>&lt;strong>更新&lt;/strong> Istio API 在 &lt;a href="/v1.9/zh/docs/ops/diagnostic-tools/istioctl-analyze/">&lt;code>Istioctl Analyze&lt;/code>&lt;/a> 中提供的更新注释方法。&lt;/li>
&lt;li>&lt;strong>更新&lt;/strong> &lt;a href="/v1.9/zh/docs/ops/diagnostic-tools/istioctl-analyze/">&lt;code>istioctl analyze&lt;/code>&lt;/a> 现在可从目录加载文件。&lt;/li>
&lt;li>&lt;strong>更新&lt;/strong> &lt;a href="/v1.9/zh/docs/ops/diagnostic-tools/istioctl-analyze/">&lt;code>istioctl analyze&lt;/code>&lt;/a> 以尝试将消息与其源文件名关联。&lt;/li>
&lt;li>&lt;strong>更新&lt;/strong> &lt;a href="/v1.9/zh/docs/ops/diagnostic-tools/istioctl-analyze/">&lt;code>istioctl analyze&lt;/code>&lt;/a> 打印正在分析的命名空间。&lt;/li>
&lt;li>&lt;strong>更新&lt;/strong> &lt;a href="/v1.9/zh/docs/ops/diagnostic-tools/istioctl-analyze/">&lt;code>istioctl analyze&lt;/code>&lt;/a> 默认情况下分析群集内资源。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> &lt;a href="/v1.9/zh/docs/ops/diagnostic-tools/istioctl-analyze/">&lt;code>istioctl analyze&lt;/code>&lt;/a> 抑制群集级资源消息的错误。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> &lt;code>istioctl manifest&lt;/code> 对多个输入文件的支持。&lt;/li>
&lt;li>&lt;strong>替换&lt;/strong> 使用 &lt;code>IstioOperator&lt;/code> API 替换 &lt;code>IstioControlPlane&lt;/code> API。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-dashboard">&lt;code>istioctl dashboard&lt;/code>&lt;/a> 选择器。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-manifest">&lt;code>istioctl manifest --set&lt;/code>&lt;/a> 支持切片和列表。&lt;/li>
&lt;li>&lt;strong>新增&lt;/strong> &lt;code>docker/istioctl&lt;/code> Docker 镜像（#19079）。&lt;/li>
&lt;/ul></description><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.5.x/announcing-1.5/change-notes/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.5.x/announcing-1.5/change-notes/</guid></item><item><title>变更说明</title><description>
&lt;h2 id="traffic-management">流量管理&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>新增了&lt;/strong> 对 &lt;a href="/v1.9/zh/docs/tasks/traffic-management/mirroring/">mirroring&lt;/a> 百分比的流量支持。&lt;/li>
&lt;li>&lt;strong>改进了&lt;/strong> &lt;code>Envoy sidecar&lt;/code>。当 &lt;code>Envoy sidecar&lt;/code> 崩溃退出时，可以更轻松地查看 &lt;code>Envoy sidecar&lt;/code> 的状态。&lt;/li>
&lt;li>&lt;strong>改进了&lt;/strong> &lt;code>Pilot&lt;/code> 的功能，当无需修改时，即可跳过向 &lt;code>Envoy&lt;/code> 发送冗余配置的操作。&lt;/li>
&lt;li>&lt;strong>改进了&lt;/strong> &lt;code>headless&lt;/code> 服务，以避免与同一端口上的不同服务发生冲突。&lt;/li>
&lt;li>&lt;strong>禁用了&lt;/strong> 默认的 &lt;a href="/v1.9/zh/docs/tasks/traffic-management/circuit-breaking/">circuit breakers&lt;/a>。&lt;/li>
&lt;li>&lt;strong>更新了&lt;/strong> 正则表达式引擎为 &lt;code>re2&lt;/code>。有关详细信息，请参阅&lt;a href="/v1.9/zh/news/releases/1.4.x/announcing-1.4/upgrade-notes">升级说明&lt;/a>。&lt;/li>
&lt;/ul>
&lt;h2 id="security">安全&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>新增了&lt;/strong> &lt;a href="/v1.9/zh/blog/2019/v1beta1-authorization-policy/">&lt;code>v1beta1&lt;/code> authorization policy model&lt;/a> 用于执行访问控制。最终将取代 &lt;a href="/v1.9/zh/docs/reference/config/security/istio.rbac.v1alpha1/">&lt;code>v1alpha1&lt;/code> RBAC policy&lt;/a>。&lt;/li>
&lt;li>&lt;strong>新增了&lt;/strong> &lt;a href="/v1.9/zh/docs/tasks/security/authentication/auto-mtls/">automatic mutual TLS&lt;/a> 的实验性支持，以启用 &lt;code>mutual TLS&lt;/code>，而无需配置目标规则。&lt;/li>
&lt;li>&lt;strong>新增了&lt;/strong> 对 &lt;a href="/v1.9/zh/docs/tasks/security/authorization/authz-td-migration/">authorization policy trust domain migration&lt;/a> 的实验性支持。&lt;/li>
&lt;li>&lt;strong>新增了&lt;/strong> 实验性的 &lt;a href="/v1.9/zh/blog/2019/dns-cert/">DNS certificate management&lt;/a> 以安全地配置和管理 &lt;code>Kubernetes CA&lt;/code> 签名的 &lt;code>DNS&lt;/code> 证书。&lt;/li>
&lt;li>&lt;strong>改进了&lt;/strong> &lt;code>Citadel&lt;/code> ，以在自签名 &lt;code>CA&lt;/code> 模式下运行时定期检查和更换过期的根证书。&lt;/li>
&lt;li>&lt;strong>更新了&lt;/strong> JWT 身份验证，将&lt;a href="https://github.com/istio/istio/issues/13565">以空格分隔的声明&lt;/a>视为声明列表。&lt;/li>
&lt;/ul>
&lt;h2 id="telemetry">遥测&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>新增了&lt;/strong> 在 &lt;a href="https://github.com/istio/proxy/blob/release-1.9/extensions/stackdriver/README.md">Stackdriver&lt;/a> 中的实验性的代理遥测报告。&lt;/li>
&lt;li>&lt;strong>改进了&lt;/strong> 对 &lt;code>HTTP&lt;/code> 服务指标监控的&lt;a href="/v1.9/zh/docs/ops/configuration/telemetry/in-proxy-service-telemetry/">代理&lt;/a> &lt;code>Prometheus&lt;/code> ，(从实验到 &lt;code>alpha&lt;/code>)。&lt;/li>
&lt;li>&lt;strong>改进了&lt;/strong> 遥测收集功能，用于&lt;a href="/v1.9/zh/blog/2019/monitoring-external-service-traffic/">阻止和传递外部流量&lt;/a>。&lt;/li>
&lt;li>&lt;strong>新增了&lt;/strong> 为 &lt;code>Envoy&lt;/code> &lt;a href="/v1.9/zh/docs/reference/config/istio.mesh.v1alpha1/#MeshConfig">静态模式&lt;/a>配置的选项。&lt;/li>
&lt;li>&lt;strong>新增了&lt;/strong> &lt;code>inbound&lt;/code> 和 &lt;code>outbound&lt;/code> 对 &lt;code>Envoy HTTP stats&lt;/code> 特定通信方向的描述。&lt;/li>
&lt;li>&lt;strong>改进了&lt;/strong> 对通过出口网关流量的遥测报告。&lt;/li>
&lt;/ul>
&lt;h2 id="configuration-management">配置管理&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>新增了&lt;/strong> 多个验证和检查在 &lt;a href="/v1.9/zh/docs/ops/diagnostic-tools/istioctl-analyze/">&lt;code>istioctl analyze&lt;/code>&lt;/a> 子命令中。&lt;/li>
&lt;li>&lt;strong>新增了&lt;/strong> 实验性选项，以启用 &lt;code>Istio&lt;/code> &lt;a href="/v1.9/zh/docs/ops/diagnostic-tools/istioctl-analyze/#enabling-validation-messages-for-resource-status">resource statuses&lt;/a> 的验证消息。&lt;/li>
&lt;li>&lt;strong>新增了&lt;/strong> 对自定义资源 (&lt;code>CRDs&lt;/code>) 的 &lt;code>OpenAPI v3&lt;/code> 模式验证，有关详细信息，请参阅&lt;a href="/v1.9/zh/news/releases/1.4.x/announcing-1.4/upgrade-notes">升级说明&lt;/a>。&lt;/li>
&lt;li>&lt;strong>新增了&lt;/strong> &lt;a href="https://github.com/istio/client-go">client-go&lt;/a> 存储库来访问 &lt;code>Istio APIs&lt;/code>。&lt;/li>
&lt;/ul>
&lt;h2 id="installation">安装&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>新增了&lt;/strong> 对 &lt;code>Istio&lt;/code> 动态安装更新的实验性 &lt;a href="/v1.9/zh/docs/setup/install/standalone-operator/">operator controller&lt;/a>。&lt;/li>
&lt;li>&lt;strong>移除了&lt;/strong> &lt;code>proxy_init&lt;/code> 镜像，&lt;code>istio-init&lt;/code> 容器重新使用 &lt;code>proxyv2&lt;/code> 镜像。&lt;/li>
&lt;li>&lt;strong>更新了&lt;/strong> 基础镜像为 &lt;code>ubuntu:bionic&lt;/code>。&lt;/li>
&lt;/ul>
&lt;h2 id="istioctl">&lt;code>istioctl&lt;/code>&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>新增了&lt;/strong> 子命令 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-proxy-config-log">&lt;code>istioctl proxy-config logs&lt;/code>&lt;/a>，检索和更新 &lt;code>Envoy&lt;/code> 日志记录级别。&lt;/li>
&lt;li>&lt;strong>更新了&lt;/strong> 子命令 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-authn-tls-check">&lt;code>istioctl authn tls-check&lt;/code>&lt;/a>，以显示正在使用的策略。&lt;/li>
&lt;li>&lt;strong>新增了&lt;/strong> 实验性子命令 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-experimental-wait">&lt;code>istioctl experimental wait&lt;/code>&lt;/a>，以使 &lt;code>Istio&lt;/code> 等待，直到它已将配置推送到所有的 &lt;code>Envoy sidecars&lt;/code>。&lt;/li>
&lt;li>&lt;strong>新增了&lt;/strong> 实验性子命令 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-experimental-multicluster">&lt;code>istioctl experimental multicluster&lt;/code>&lt;/a>，以帮助跨集群管理 &lt;code>Istio&lt;/code>。&lt;/li>
&lt;li>&lt;strong>新增了&lt;/strong> 实验性子命令 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-experimental-post-install-webhook">&lt;code>istioctl experimental post-install webhook&lt;/code>&lt;/a> 去&lt;a href="/v1.9/zh/blog/2019/webhook/">安全配管 webhook&lt;/a>。&lt;/li>
&lt;li>&lt;strong>新增了&lt;/strong> 实验性子命令 &lt;a href="/v1.9/zh/docs/setup/upgrade/istioctl-upgrade/">&lt;code>istioctl experimental upgrade&lt;/code>&lt;/a> 去执行 &lt;code>Istio&lt;/code> 的升级。&lt;/li>
&lt;li>&lt;strong>改进了&lt;/strong> 子命令 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-version">&lt;code>istioctl version&lt;/code>&lt;/a>，它现在显示的是 &lt;code>Envoy proxy&lt;/code> 的版本。&lt;/li>
&lt;/ul></description><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.4.x/announcing-1.4/change-notes/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.4.x/announcing-1.4/change-notes/</guid></item><item><title>变更说明</title><description>
&lt;h2 id="installation">安装&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>添加&lt;/strong> 实验性的&lt;a href="/v1.9/zh/docs/setup/install/istioctl/">清单和配置文件命令&lt;/a>，用于安装和管理 Istio 控制平面，以便进行评估。&lt;/li>
&lt;/ul>
&lt;h2 id="traffic-management">流量管理&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>添加&lt;/strong>。当未根据 Istio 的&lt;a href="/v1.9/zh/docs/ops/deployment/requirements/">约定&lt;/a>命名端口时，添加了对 HTTP、TCP 出站流量&lt;a href="/v1.9/zh/docs/ops/configuration/traffic-management/protocol-selection/">自动检测协议&lt;/a>的功能。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong>。为实现双向 TLS 操作，添加了一个模型至 Gateway API。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong>。修复了当服务第一次使用宽容双向 TLS 模式，与 MySQL 和 MongoDB 之类的协议进行网络通信时会出现的问题。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong>。改进了 Envoy 代理的就绪检查。现在会检查 Envoy 的就绪状态。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong>。pod spec 中不再需要的容器端口，所有端口均为&lt;a href="/v1.9/zh/faq/traffic-management/#controlling-inbound-ports">默认捕获&lt;/a>。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong>。改进了 &lt;code>EnvoyFilter&lt;/code> API。您现在可以添加或更新所有配置。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong>。使用 Redis 代理时，改进了 Redis 负载均衡，现在默认为 &lt;a href="https://www.envoyproxy.io/docs/envoy/v1.6.0/intro/arch_overview/load_balancing#maglev">&lt;code>MAGLEV&lt;/code>&lt;/a>。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong>。改进了负载均衡，默认会直接将流量导向&lt;a href="/v1.9/zh/faq/traffic-management/#controlling-inbound-ports">相同的地区和区域&lt;/a>。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong>。改进了 Pilot 的 CPU 利用率。在特殊部署场景，减少幅度接近 90%。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong>。改进了 &lt;code>ServiceEntry&lt;/code> API，允许在不同命名空间中使用相同的主机名。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong>。针对自定义 &lt;code>OutboundTrafficPolicy&lt;/code> 策略，改进了 &lt;a href="/v1.9/zh/docs/reference/config/networking/sidecar/#OutboundTrafficPolicy">Sidecar API&lt;/a>。&lt;/li>
&lt;/ul>
&lt;h2 id="security">安全&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>添加&lt;/strong>。为使用双向 TLS 的服务添加了信任域验证。默认情况下，服务器仅对来自同一信任域的请求进行身份验证。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong>。添加了一些&lt;a href="/v1.9/zh/docs/ops/configuration/mesh/secret-creation/">标签&lt;/a>，其用于按命名空间控制服务帐户密码的生成。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong>。添加了 SDS 支持，以实现向每个 Istio 控制平面服务传递私钥和证书。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong>。为 Citadel 添加了对&lt;a href="/v1.9/zh/docs/ops/diagnostic-tools/controlz/">自检&lt;/a>支持。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong>。为 15014 端口的 Citadel Agent 的 &lt;code>/metrics&lt;/code> endpoint 添加了指标，用于监控 SDS 服务。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong>。使用 8080 端口上的 &lt;code>/debug/sds/workload&lt;/code> 和 &lt;code>/debug/sds/gateway&lt;/code> 向 Citadel Agent 添加了诊断程序。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong>。改进了 ingress gateway，以实现使用 SDS 时&lt;a href="/v1.9/zh/docs/tasks/traffic-management/ingress/secure-ingress-sds/#configure-a-mutual-TLS-ingress-gateway">从另一个 secret 加载受信任的 CA 证书&lt;/a>。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong>。通过强制使用 &lt;a href="/v1.9/zh/blog/2019/trustworthy-jwt-sds">Kubernetes Trustworthy JWT&lt;/a> 改进了 SDS 的安全性。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong>。通过统一日志记录模式，改进了 Citadel Agent 日志记录。&lt;/li>
&lt;li>&lt;strong>移除&lt;/strong>。移除对 &lt;a href="/v1.9/zh/blog/2019/trustworthy-jwt-sds">Kubernetes 1.13 之前版本&lt;/a>的 Istio SDS 支持。&lt;/li>
&lt;li>&lt;strong>移除&lt;/strong>。暂时移除与 Vault CA 的集成。SDS 的一些要求导致了本次临时移除，但我们将在之后的版本中重新引入 Vault CA 集成。&lt;/li>
&lt;li>&lt;strong>启用&lt;/strong>。默认情况下启用 Envoy JWT 过滤器以提高安全性和可靠性。&lt;/li>
&lt;/ul>
&lt;h2 id="telemetry">遥测&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>添加&lt;/strong>。为 Envoy gRPC 添加了访问日志服务 &lt;a href="https://www.envoyproxy.io/docs/envoy/latest/api-v2/service/accesslog/v2/als.proto#grpc-access-log-service-als">ALS&lt;/a> 的支持。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong>。为 Citadel 监控添加了一个 Grafana 仪表盘。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong>。为 sidecar 注入 webhook 监控添加了&lt;a href="/v1.9/zh/docs/reference/commands/sidecar-injector/#metrics">指标&lt;/a>。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong>。添加了控制平面指标，用于监控 Istio 的配置状态。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong>。添加了流向目标是 &lt;code>Passthrough&lt;/code> 和 &lt;code>BlackHole&lt;/code> 集群的流量的遥测报告。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong>。添加了对使用 Prometheus 代理生成服务指标的 alpha 支持。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong>。在 Envoy 节点 metadata 中添加了对环境 metadata 的 alpha 支持。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong>。添加了对代理 Metadata 交换的 alpha 支持。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong>。添加了对 OpenCensus 追踪驱动的 alpha 支持。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong>。通过移除添加服务条目的要求，改进了对外部服务的报告。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong>。改进了网格仪表板，以提供对 Istio 配置状态的监控。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong>。改进了 Pilot 仪表板，以显示更多的关键指标，并能更清楚地识别错误。&lt;/li>
&lt;li>&lt;strong>移除&lt;/strong>。移除了不推荐使用的 &lt;code>Adapter&lt;/code> 和 &lt;code>Template&lt;/code> 自定义资源（CRD）。&lt;/li>
&lt;li>&lt;strong>弃用&lt;/strong>。弃用可用于产生 API 属性的 HTTP API 规范。我们将在 Istio 1.4 中移除对生成 API 属性的支持。&lt;/li>
&lt;/ul>
&lt;h2 id="policy">策略&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>改进&lt;/strong>。改进了速率限制的实现，当配额后端不可用时，仍允许通信。&lt;/li>
&lt;/ul>
&lt;h2 id="configuration-management">配置管理&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>修复&lt;/strong>。修复了阻止过多 gRPC ping 关闭连接的情况。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong>。改进了 Galley，以避免控制平面升级失败。&lt;/li>
&lt;/ul>
&lt;h2 id="istioctl">&lt;code>istioctl&lt;/code>&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>添加&lt;/strong>。添加了 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-manifest">&lt;code>istioctl&lt;/code> 实验清单&lt;/a>来管理新的实验安装清单。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong>。添加了 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-profile">&lt;code>istioctl&lt;/code> 实验配置文件&lt;/a>来管理新的实验安装配置文件。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong>。添加了 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-experimental-metrics">&lt;code>istioctl experimental metrics&lt;/code>&lt;/a>&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong>。添加了 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-experimental-describe-pod">&lt;code>istioctl experimental describe pod&lt;/code>&lt;/a>，其用于描述 Istio pod 的配置。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong>。添加了 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-experimental-add-to-mesh">&lt;code>istioctl experimental add-to-mesh&lt;/code>&lt;/a>，其用于将 Kubernetes 服务或虚拟机添加到现有 Istio 服务网格中。&lt;/li>
&lt;li>&lt;strong>添加&lt;/strong>。添加了 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-experimental-remove-from-mesh">&lt;code>istioctl experimental remove-from-mesh&lt;/code>&lt;/a>，其用于从已存在的 Istio 服务网格中移除 Kubernetes 服务或虚拟机。&lt;/li>
&lt;li>&lt;strong>提升&lt;/strong>。将命令 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-convert-ingress">&lt;code>istioctl experimental convert-ingress&lt;/code>&lt;/a> 提升为 &lt;code>istioctl convert-ingress&lt;/code>。&lt;/li>
&lt;li>&lt;strong>提升&lt;/strong>。将命令 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-dashboard">&lt;code>istioctl experimental dashboard&lt;/code>&lt;/a> 提升为 &lt;code>istioctl dashboard&lt;/code>。&lt;/li>
&lt;/ul>
&lt;h2 id="miscellaneous">杂项&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>添加&lt;/strong>。添加了基于 &lt;a href="/v1.9/zh/docs/ops/configuration/security/harden-docker-images/">distroless&lt;/a> 基础镜像的新镜像。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong>。改进了 Istio CNI Helm 图表，使其具有与 Istio 一致的版本。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong>。改进了 Kubernetes Job 的行为。当 Job 手动调用 &lt;code>/quitquitquit&lt;/code> endpoint 时，Kubernetes Job 现在可以正常退出。&lt;/li>
&lt;/ul></description><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.3.x/announcing-1.3/change-notes/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.3.x/announcing-1.3/change-notes/</guid></item><item><title>变更说明</title><description>
&lt;h2 id="general">通用功能&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>增加&lt;/strong> &lt;code>traffic.sidecar.istio.io/includeInboundPorts&lt;/code> 标注可以让服务所有者不需要在 deployment yaml 文件中配置 &lt;code>containerPort&lt;/code> 字段。这会是未来版本中的默认做法。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> 对 Kubernetes 集群的 IPv6 试验性支持。&lt;/li>
&lt;/ul>
&lt;h2 id="traffic-management">流量管理&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>改进&lt;/strong> 在多集群环境中&lt;a href="/v1.9/zh/docs/ops/configuration/traffic-management/locality-load-balancing/">基于位置的路由&lt;/a>功能。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong> &lt;a href="/v1.9/zh/docs/reference/config/installation-options/#global-options">&lt;code>ALLOW_ANY&lt;/code> 模式&lt;/a>出站流量策略。在一个已存在端口上的未知 HTTP/HTTPS 主机流量将会被&lt;a href="/v1.9/zh/docs/tasks/traffic-management/egress/egress-control/#envoy-passthrough-to-external-services">按原样转发&lt;/a>。未知流量会被记录在 Envoy 的访问日志中。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> 支持为上游服务设置 HTTP 空闲超时时间。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong> Sidecar 支持 &lt;a href="/v1.9/zh/docs/reference/config/networking/sidecar/#CaptureMode">NONE 模式&lt;/a> （不用 iptables）。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> 给 Envoy sidecar 配置 &lt;a href="/v1.9/zh/docs/reference/config/installation-options/#global-options">DNS 刷新频率&lt;/a>的能力。减轻 DNS 服务的压力。&lt;/li>
&lt;li>&lt;strong>毕业&lt;/strong> &lt;a href="/v1.9/zh/docs/reference/config/networking/sidecar/">Sidecar API&lt;/a> 从 Alpha 版本发展到 Alpha API 和 Beta 运行时。&lt;/li>
&lt;/ul>
&lt;h2 id="security">安全&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>改进&lt;/strong> 将自签名 Citadel 根证书的默认生存期延长到 10 年。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> 通过 &lt;a href="/v1.9/zh/docs/ops/configuration/mesh/app-health-check/#use-annotations-on-pod">标注&lt;/a> &lt;code>PodSpec&lt;/code> 中&lt;code>sidecar.istio.io/rewriteAppHTTPProbers: &amp;quot;true&amp;quot;&lt;/code> 字段，Kubernetes 的健康检查探测器会重写每个 deployment。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> 支持给 Istio 双向 TLS 证书配置密钥路径。更多信息请看&lt;a href="https://github.com/istio/istio/issues/11984">这里&lt;/a>。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> 通过启用 Citadel 上的 &lt;code>pkcs8-keys&lt;/code> 来支持 workload 使用 &lt;a href="https://en.wikipedia.org/wiki/PKCS_8">PKCS 8&lt;/a> 私钥。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong> JWT 公钥获取逻辑在网络失败的时候更可靠。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> workload 证书中的 &lt;a href="https://tools.ietf.org/html/rfc5280#section-4.2.1.6">SAN&lt;/a> 字段设置为 &lt;code>critical&lt;/code>。这是修复了一些自定义证书验证服务无法验证 Istio 证书的问题。&lt;/li>
&lt;li>&lt;strong>修复&lt;/strong> 重写了 HTTPS 的双向 TLS 探测。&lt;/li>
&lt;li>&lt;strong>毕业&lt;/strong> &lt;a href="/v1.9/zh/docs/reference/config/networking/gateway/">入口网关多证书支持的 SNI&lt;/a> 从 Alpha 版本发展到了稳定版。&lt;/li>
&lt;li>&lt;strong>毕业&lt;/strong> &lt;a href="/v1.9/zh/docs/tasks/traffic-management/ingress/secure-ingress-sds/">入口网关证书管理&lt;/a>从 Alpha 版本发展到了 Beta 版。&lt;/li>
&lt;/ul>
&lt;h2 id="telemetry">遥测&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>增加&lt;/strong> 通过用户标注统计字段前缀、后缀和正则表达式的方式，全面支持对 Envoy 统计生成的控制。&lt;/li>
&lt;li>&lt;strong>修改&lt;/strong> Prometheus 产生的流量排除在统计度量之外。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> 支持发送追踪信息到 Datadog。&lt;/li>
&lt;li>&lt;strong>毕业&lt;/strong> &lt;a href="/v1.9/zh/docs/tasks/observability/distributed-tracing/">分布式追踪&lt;/a>从 Beta 版本发展到了稳定版。&lt;/li>
&lt;/ul>
&lt;h2 id="policy">策略&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>修复&lt;/strong> &lt;a href="https://github.com/istio/istio/issues/13868">基于 Mixer&lt;/a> 的 TCP 策略执行。&lt;/li>
&lt;li>&lt;strong>毕业&lt;/strong> &lt;a href="/v1.9/zh/docs/reference/config/security/istio.rbac.v1alpha1/">认证 (RBAC)&lt;/a> 从 Alpha 版本发展到 Alpha API 和 Beta 运行时。&lt;/li>
&lt;/ul>
&lt;h2 id="configuration-management">配置管理&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>改进&lt;/strong> 对策略和 CRD 遥测的验证。&lt;/li>
&lt;li>&lt;strong>毕业&lt;/strong> 基本资源配置验证从 Alpha 版本发展到了 Beta 版。&lt;/li>
&lt;/ul>
&lt;h2 id="installation-and-upgrade">安装和升级&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>更新&lt;/strong> 默认代理内存大小限制 (&lt;code>global.proxy.resources.limits.memory&lt;/code>) 从 &lt;code>128Mi&lt;/code> 扩大到 &lt;code>1024Mi&lt;/code>，以此保证代理有充足的内存。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> pod 的&lt;a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity">反亲和性&lt;/a>和&lt;a href="https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/">容错&lt;/a>功能支持了所有的控制平面组件。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> &lt;code>sidecarInjectorWebhook.neverInjectSelector&lt;/code> 和 &lt;code>sidecarInjectorWebhook.alwaysInjectSelector&lt;/code> 配置，通过标签选择器让用户可以进一步控制 workload 是否应该自动注入 sidecar。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> &lt;code>global.logging.level&lt;/code> 和 &lt;code>global.proxy.logLevel&lt;/code> 配置，允许用户方便的给控制平面和数据平面组件全局的配置日志。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> 支持通过设置 &lt;a href="/v1.9/zh/docs/reference/config/installation-options/#global-options">&lt;code>global.tracer.datadog.address&lt;/code>&lt;/a> 来配置 Datadog 的地址。&lt;/li>
&lt;li>&lt;strong>移除&lt;/strong> 默认情况下禁止使用早期&lt;a href="https://discuss.istio.io/t/deprecation-notice-custom-mixer-adapter-crds/2055">被弃用&lt;/a>的适配器和 CRD 模版。可以使用 &lt;code>mixer.templates.useTemplateCRDs=true&lt;/code> 和 &lt;code>mixer.adapters.useAdapterCRDs=true&lt;/code> 安装配置项来重新启用这两个功能。&lt;/li>
&lt;/ul>
&lt;p>要看全部的变动，请参阅&lt;a href="/v1.9/zh/news/releases/1.2.x/announcing-1.2/helm-changes/">安装选项变动页面&lt;/a>。&lt;/p>
&lt;h2 id="Istio-control-and-Kube-control">&lt;code>istioctl&lt;/code> 和 &lt;code>kubectl&lt;/code>&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>毕业&lt;/strong> &lt;code>istioctl verify-install&lt;/code> 走出实验标签。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong> &lt;code>istioctl verify-install&lt;/code> 可以验证给定的 Kubernetes 环境是否满足 Istio 的要求。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> &lt;code>istioctl&lt;/code> 支持自动完成功能。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> &lt;code>istioctl experimental dashboard&lt;/code> 允许用户方便的打开任意 Istio 插件的 web UI。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> &lt;code>istioctl x&lt;/code> 别名可以方便的运行 &lt;code>istioctl experimental&lt;/code> 命令。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong> &lt;code>istioctl version&lt;/code> 默认展示 Istio 控制平面和 &lt;code>istioctl&lt;/code> 自己的版本信息。&lt;/li>
&lt;li>&lt;strong>改进&lt;/strong> &lt;code>istioctl validate&lt;/code> 验证 Mixer 配置，并且支持完整关联的深度验证。&lt;/li>
&lt;/ul>
&lt;h2 id="miscellaneous">杂项&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>增加&lt;/strong> &lt;a href="/v1.9/zh/docs/setup/additional-setup/cni/">Istio CNI 支持&lt;/a>以设置 sidecar 网络重定向，并移除需要 &lt;code>NET_ADMIN&lt;/code> 功能的 &lt;code>istio-init&lt;/code> 容器。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> 新实验功能 &lt;a href="https://github.com/istio/installer/wiki">&amp;lsquo;a-la-carte&amp;rsquo; Istio 安装器&lt;/a>可以让用户以所希望的独立和安全的方式安装和升级 Istio。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> 除了命令行参数外，&lt;a href="https://docs.google.com/document/d/1M-qqBMNbhbAxl3S_8qQfaeOLAiRqSBpSgfWebFBRuu8/edit">支持以环境变量和配置文件&lt;/a>的方式来配置 Galley。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> &lt;a href="/v1.9/zh/docs/ops/diagnostic-tools/controlz/">ControlZ&lt;/a> 支持在 Galley 中可视化 MCP 服务的状态。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> 在 Galley 中通过 &lt;a href="/v1.9/zh/docs/reference/commands/galley/#galley-server">&lt;code>enableServiceDiscovery&lt;/code> 命令行参数&lt;/a>来控制服务发现模块。&lt;/li>
&lt;li>&lt;strong>增加&lt;/strong> Galley 和 Pilot 中的 &lt;code>InitialWindowSize&lt;/code> 和 &lt;code>InitialConnWindowSize&lt;/code> 参数允许微调 MCP (gRPC) 的链接设置。&lt;/li>
&lt;li>&lt;strong>毕业&lt;/strong> Galley 的配置处理从 Alpha 版本发展到了 Beta 版。&lt;/li>
&lt;/ul></description><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.2.x/announcing-1.2/change-notes/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.2.x/announcing-1.2/change-notes/</guid></item><item><title>变更说明</title><description>
&lt;h2 id="incompatible-changes-from-1-0">从 1.0 开始的不兼容变更&lt;/h2>
&lt;p>除了下面列出的新功能和改进之外，Istio 从 1.0 开始就引入了许多重要改进，这些改进可以更改应用程序的行为。在&lt;a href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes">升级说明&lt;/a>中可以找到这些改进的简明清单。&lt;/p>
&lt;h2 id="upgrades">升级&lt;/h2>
&lt;p>我们建议手动将控制平面和数据平面升级到 1.1。有关更多信息，请参见&lt;a href="/v1.9/zh/docs/setup/upgrade/">升级文档&lt;/a>。&lt;/p>
&lt;div>
&lt;aside class="callout warning">
&lt;div class="type">
&lt;svg class="large-icon">&lt;use xlink:href="/v1.9/img/icons.svg#callout-warning"/>&lt;/svg>
&lt;/div>
&lt;div class="content">在将 deployment 升级到 Istio 1.1 之前，请务必查看&lt;a href="/v1.9/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes">升级说明&lt;/a>以获得您应该了解的简要清单。&lt;/div>
&lt;/aside>
&lt;/div>
&lt;h2 id="installation">安装&lt;/h2>
&lt;ul>
&lt;li>&lt;p>&lt;strong>将 CRD 安装从 Istio 安装中分离出来&lt;/strong>。将 Istio 的自定义资源（CRD）放入 &lt;code>istio-init&lt;/code> Helm chart 中。将 CRD 放置在自己的 Helm chart 中，可以在升级过程中保留自定义资源内容的数据连续性，并进一步使 Istio 能够超越基于 Helm 的安装。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>安装配置文件&lt;/strong>。添加了几个安装配置文件，以便使用成熟的且经过测试的方式简化安装过程。&lt;a href="/v1.9/zh/docs/setup/additional-setup/config-profiles/">安装配置文件功能&lt;/a>为用户提供了更好的体验，以便您详细了解。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>改进多集群集成&lt;/strong>。将 &lt;code>istio-remote&lt;/code> chart 1.0 合并到 Istio Helm chart 中，从而简化操作体验，其先前用于&lt;a href="/v1.9/zh/docs/setup/install/multicluster/shared-vpn/">多集群 VPN&lt;/a> 和&lt;a href="/v1.9/zh/docs/setup/install/multicluster/shared-gateways/">多集群水平拆分&lt;/a>远程集群安装。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="traffic-management">流量管理&lt;/h2>
&lt;ul>
&lt;li>&lt;p>&lt;strong>新的 &lt;code>Sidecar&lt;/code> 资源&lt;/strong>。通过新的 &lt;a href="/v1.9/zh/docs/concepts/traffic-management/#sidecars">sidecar&lt;/a> 资源，可以更精细地控制附加到命名空间中工作负载的 sidecar 代理的行为。特别是，它增加了对限制 sidecar 向其发送流量的服务集的支持。这减少了计算和传输给代理的配置量，从而改善了启动时间、资源消耗和控制平面可伸缩性。对于复杂部署，我们建议为每个命名空间添加 sidecar 资源。我们还为高级用例的端口、协议和流量捕获提供了控件。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>限制服务的可见性&lt;/strong>。添加了新的 &lt;code>exportTo&lt;/code> 功能，该功能允许服务所有者控制哪些命名空间可以引用其服务。此功能已添加到&lt;code>ServiceEntry&lt;/code>，&lt;code>VirtualService&lt;/code> 中，并且 Kubernetes 服务也通过 &lt;code>networking.istio.io/exportTo&lt;/code> 批注支持该功能。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>命名空间范围&lt;/strong>。当在网关中引用 &lt;code>VirtualService&lt;/code> 时，我们在配置模型中使用基于 DNS 的名称匹配。当多个命名空间为同一主机名定义虚拟服务时，这会造成模棱两可的情况。为了解决歧义，现在可以在 &lt;code>hosts&lt;/code> 字段中使用 &lt;strong>&lt;code>[{namespace-name}]/{hostname-match}&lt;/code>&lt;/strong> 形式的语法按命名空间显式定义这些引用的范围。在 egress &lt;code>Sidecar&lt;/code> 中也可以使用相同功能。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>更新 &lt;code>ServiceEntry&lt;/code> 资源&lt;/strong>。现在支持指定，与双向 TLS 一起使用的服务及相关 SAN 的位置。具有 HTTPS 端口的服务条目不再需要其他虚拟服务来启用基于 SNI 的路由。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>位置感知路由&lt;/strong>。添加了对在选择其他地区的服务之前路由到相同地区的服务的完整支持。请参阅&lt;a href="/v1.9/zh/docs/reference/config/networking/destination-rule#LocalityLoadBalancerSetting">本地负载均衡器设置&lt;/a>&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>完善多集群路由&lt;/strong>。简化了多集群设置并启用了其他部署模式。现在，您可以简单地使用它们的入口网关连接多个集群，而无需 Pod 级的 VPN，针对高可用性情况在每个集群中部署控制平面，并跨多个集群创建命名空间以实现创建全局命名空间。高可用控制平面解决方案默认启用位置感知路由。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>弃用 Istio Ingress&lt;/strong>。删除了以前不推荐使用的 Istio ingress。有关如何在&lt;a href="/v1.9/zh/docs/concepts/traffic-management/#gateways">网关&lt;/a>中使用 Kubernetes Ingress 资源的更多详细信息，请参考&lt;a href="/v1.9/zh/docs/ops/integrations/certmanager/">使用 Cert-Manager 保护 Kubernetes Ingress&lt;/a> 示例。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>改进性能和可伸缩性&lt;/strong>。调整 Istio 和 Envoy 的性能和可伸缩性。阅读&lt;a href="/v1.9/zh/docs/ops/deployment/performance-and-scalability/">性能和可伸缩性&lt;/a>获取更多信息。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>默认关闭访问日志&lt;/strong>。默认情况下，禁用所有 Envoy sidecar 的访问日志以提高性能。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h3 id="security">安全&lt;/h3>
&lt;ul>
&lt;li>&lt;p>&lt;strong>就绪和存活探针&lt;/strong>。添加了对 Kubernetes HTTP &lt;a href="/v1.9/zh/faq/security/#k8s-health-checks">就绪和存活探针&lt;/a>的支持（启用双向 TLS 时）。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>群集 RBAC 配置&lt;/strong>。用 &lt;code>ClusterRbacConfig&lt;/code> 资源替换了 &lt;code>RbacConfig&lt;/code> 资源，以实现正确的集群范围。关于迁移说明，请参见&lt;a href="https://archive.istio.io/v1.1/docs/setup/kubernetes/upgrade/steps/#migrating-from-rbacconfig-to-clusterrbacconfig">将 &lt;code>RbacConfig&lt;/code> 迁移到 &lt;code>ClusterRbacConfig&lt;/code>&lt;/a>。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>通过 SDS 进行身份认证&lt;/strong>。添加了 SDS 支持，通过节点密钥生成以及动态证书轮换，来提供更强的安全性，并且无需重启 Envoy。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>TCP 服务授权&lt;/strong>。除了 HTTP 和 gRPC 服务之外，还增加了对 TCP 服务的授权支持。有关更多信息，请参见 &lt;a href="/v1.9/zh/docs/tasks/security/authorization/authz-tcp">TCP 服务授权&lt;/a>。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>终端用户组的授权&lt;/strong>。添加了基于 &lt;code>组&lt;/code> 声明或 JWT 中任何列表类型声明的授权。有关更多信息，请参见&lt;a href="/v1.9/zh/docs/tasks/security/authorization/authz-jwt">基于 JWT 授权&lt;/a>。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>Ingress Gateway 控制器的外部证书管理&lt;/strong>。添加了一个控制器以动态加载和轮转外部证书。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>自定义 PKI 集成&lt;/strong>。添加了 Vault PKI 集成，并支持受 Vault 保护的签名密钥，并能直接与现有的 Vault PKI 集成。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>自定义信任域（非&lt;code>cluster.local&lt;/code>）&lt;/strong>。在标识中增加了对特定于组织或群集的信任域的支持。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="policies-and-telemetry">策略和遥测&lt;/h2>
&lt;ul>
&lt;li>&lt;p>&lt;strong>默认关闭策略检查&lt;/strong>。默认情况下，修改后的策略检查是关闭的，以提高大多数客户方案的性能。&lt;a href="/v1.9/zh/docs/tasks/policy-enforcement/enabling-policy/">启用策略执行&lt;/a>详细说明了如何根据需要开启 Istio 策略检查。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>Kiali&lt;/strong>。用 &lt;a href="https://www.kiali.io">Kiali&lt;/a> 替换了 &lt;a href="https://github.com/istio/istio/issues/9066">Service Graph addon&lt;/a>，以提供更丰富的可视化体验。有关更多详细信息，请参见 &lt;a href="/v1.9/zh/docs/tasks/observability/kiali/">Kiali 任务&lt;/a>。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>减少开销&lt;/strong>。添加了一些性能和规模改进，包括：&lt;/p>
&lt;ul>
&lt;li>&lt;p>大大减少了 Envoy 默认收集生成的统计信息的开销。&lt;/p>&lt;/li>
&lt;li>&lt;p>为 Mixer 工作负载添加了负载削减功能。&lt;/p>&lt;/li>
&lt;li>&lt;p>改进了 Envoy 和 Mixer 之间的协议。&lt;/p>&lt;/li>
&lt;/ul>&lt;/li>
&lt;li>&lt;p>&lt;strong>请求头和路由控制&lt;/strong>。添加了创建适配器以影响传入请求 header 和路由的选项。有关更多信息，请参见&lt;a href="/v1.9/zh/docs/tasks/policy-enforcement/control-headers">请求头和路由控制&lt;/a>任务。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>进程外适配器&lt;/strong>。添加了生产可用的进程外适配器功能。然后，我们在此版本中弃用了进程内适配器模型。所有新的适配器开发都应使用进程外模型。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>追踪改进&lt;/strong>。在我们的总体追踪故事中进行了许多改进：&lt;/p>
&lt;ul>
&lt;li>&lt;p>跟踪 ID 的位宽现在是 128。&lt;/p>&lt;/li>
&lt;li>&lt;p>现在支持将追踪数据发送到 &lt;a href="/v1.9/zh/docs/tasks/observability/distributed-tracing/lightstep/">LightStep&lt;/a>。&lt;/p>&lt;/li>
&lt;li>&lt;p>添加了一个选项，可用于完全禁用由 Mixer 支持的服务的跟踪功能。&lt;/p>&lt;/li>
&lt;li>&lt;p>添加了策略 decision-aware 跟踪。&lt;/p>&lt;/li>
&lt;/ul>&lt;/li>
&lt;li>&lt;p>&lt;strong>默认的 TCP 指标&lt;/strong>。为追踪 TCP 连接增加默认指标&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>降低插件的负载均衡的要求&lt;/strong>。不再通过单独的负载均衡公开插件。而是通过 Istio 网关公开插件。要使用 HTTP 或 HTTPS 协议从外部公开插件，请使用 &lt;a href="/v1.9/zh/docs/tasks/observability/gateways/">Addon Gateway 文档&lt;/a>。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>附加安全凭证&lt;/strong>。更改了附加凭证的存储。为了提高安全性与合规性，Grafana、Kiali 以及 Jaeger 的用户名密码现在存储在 &lt;a href="https://kubernetes.io/docs/concepts/configuration/secret/">Kubernetes secret&lt;/a> 中。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>更加灵活的 &lt;code>statsd&lt;/code> 收集器&lt;/strong>。删除了内置的 &lt;code>statsd&lt;/code> 收集器。Istio 现在支持您自己的 &lt;code>statsd&lt;/code>，以提高现有 Kubernetes 部署的灵活性。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h3 id="configuration-management">配置管理&lt;/h3>
&lt;ul>
&lt;li>&lt;p>&lt;strong>Galley&lt;/strong>。添加 &lt;a href="/v1.9/zh/docs/ops/deployment/architecture/#galley">Galley&lt;/a> 作为 Istio 主要的配置收集和分发装置。它提供了一个健壮的模型来验证，转换配置状态并将其分配给 Istio 组件，从而将 Istio 组件与 Kubernetes 详细信息隔离开来。Galley 使用&lt;a href="https://github.com/istio/api/tree/release-1.9/mcp">网格配置协议&lt;/a>与组件进行交互。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>监听端口&lt;/strong>。将 Galley 的默认监听端口从 9093 修改为 15014。&lt;/p>&lt;/li>
&lt;/ul>
&lt;h2 id="Istio-and-Kube">&lt;code>istioctl&lt;/code> 和 &lt;code>kubectl&lt;/code>&lt;/h2>
&lt;ul>
&lt;li>&lt;p>&lt;strong>验证命名&lt;/strong>。添加 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-validate">&lt;code>istioctl validate&lt;/code>&lt;/a> 命令，用于 Istio Kubernetes 资源的离线验证。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>安装验证命令&lt;/strong>。添加 &lt;a href="/v1.9/zh/docs/reference/commands/istioctl/#istioctl-verify-install">&lt;code>istioctl verify-install&lt;/code>&lt;/a> 命令，用于验证指定了 YAML 文件的 Istio 安装的状态。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>弃用命令&lt;/strong>。弃用 &lt;code>istioctl create&lt;/code>、&lt;code>istioctl replace&lt;/code>、&lt;code>istioctl get&lt;/code> 和 &lt;code>istioctl delete&lt;/code> 命令。
请使用 &lt;a href="https://kubernetes.io/docs/tasks/tools/install-kubectl">&lt;code>kubectl&lt;/code>&lt;/a> 替代。&lt;code>istioctl gen-deploy&lt;/code> 命令也被弃用。请改用 &lt;a href="/v1.9/zh/docs/setup/install/helm/#option-1-install-with-helm-via-helm-template">&lt;code>helm template&lt;/code>&lt;/a>。这些命令将在 1.2 版被删除。&lt;/p>&lt;/li>
&lt;li>&lt;p>&lt;strong>短命令&lt;/strong>。&lt;code>kubectl&lt;/code> 包含了一些简短命令，可用于 gateway，虚拟服务，目标规则和服务条目。&lt;/p>&lt;/li>
&lt;/ul></description><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><link>/v1.9/zh/news/releases/1.1.x/announcing-1.1/change-notes/</link><author/><guid isPermaLink="true">/v1.9/zh/news/releases/1.1.x/announcing-1.1/change-notes/</guid></item></channel></rss>