<!doctype html><html lang=zh itemscope itemtype=https://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=theme-color content=#466BB0><meta name=title content="Istio 1.1"><meta name=description content="Connect, secure, control, and observe services."><meta name=keywords content=microservices,services,mesh><meta property=og:title content="Istio 1.1"><meta property=og:type content=website><meta property=og:description content="Connect, secure, control, and observe services."><meta property=og:url content=/v1.1/zh/about/notes/1.1/><meta property=og:image content=/v1.1/img/istio-whitelogo-bluebackground-framed.svg><meta property=og:image:alt content="Istio Logo"><meta property=og:image:width content=112><meta property=og:image:height content=150><meta property=og:site_name content=Istio><meta name=twitter:card content=summary><meta name=twitter:site content=@IstioMesh><title>Istioldie 1.1 / Istio 1.1</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-98480406-2"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-98480406-2');</script><link rel=alternate type=application/rss+xml title="Istio Blog" href=/v1.1/feed.xml><link rel="shortcut icon" href=/v1.1/favicons/favicon.ico><link rel=apple-touch-icon href=/v1.1/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/v1.1/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/v1.1/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/v1.1/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/v1.1/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/v1.1/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/v1.1/favicons/android-96x96.png sizes=96xW96><link rel=icon type=image/png href=/v1.1/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/v1.1/favicons/android-192x192.png sizes=192x192><link rel=manifest href=/v1.1/manifest.json><meta name=apple-mobile-web-app-title content=Istio><meta name=application-name content=Istio><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Work+Sans:400|Chivo:400|Work+Sans:500,300,600,300italic,400italic,500italic,600italic|Chivo:500,300,600,300italic,400italic,500italic,600italic"><link rel=stylesheet href=/v1.1/css/all.css></head><body class="language-unknown archive-site"><script src=/v1.1/js/themes_init.min.js></script><script>const branchName="release-1.1";const docTitle="Istio 1.1";const iconFile="\/v1.1/img/icons.svg";const buttonCopy='复制到剪切板';const buttonPrint='打印';const buttonDownload='下载';</script><script src="https://www.google.com/cse/brand?form=search-form" defer></script><script src=/v1.1/js/all.min.js data-manual defer></script><header><nav><a id=brand href=/v1.1/zh/><span class=logo><svg viewBox="0 0 300 300"><circle cx="150" cy="150" r="146" stroke-width="2" /><path d="M65 240H225L125 270z"/><path d="M65 230l60-10V110z"/><path d="M135 220l90 10L135 30z"/></svg></span><span class=name>Istioldie 1.1</span></a><div id=hamburger><svg class="icon"><use xlink:href="/v1.1/img/icons.svg#hamburger"/></svg></div><div id=header-links><a title="了解如何部署、使用和运维 Istio。" href=/v1.1/zh/docs/>文档</a>
<a title="关于使用 Istio 的博客文章。" href=/v1.1/zh/blog/2019/root-transition/>博客</a>
<a title="一堆帮助您部署、配置和使用 Istio 的资源。" href=/v1.1/zh/help/>帮助</a>
<span title=关于Istio的说明。>关于</span><div class=menu><button id=gearDropdownButton class=menu-trigger title=选项和设置 aria-label="Options and Settings" aria-controls=gearDropdownContent><svg class="icon"><use xlink:href="/v1.1/img/icons.svg#gear"/></svg></button><div id=gearDropdownContent class=menu-content aria-labelledby=gearDropdownButton role=menu><a tabindex=-1 role=menuitem lang=en id=switch-lang-en>English</a>
<a tabindex=-1 role=menuitem lang=zh id=switch-lang-zh class=active>中文</a><div role=separator></div><a tabindex=-1 role=menuitem class=active id=light-theme-item>亮主题</a>
<a tabindex=-1 role=menuitem id=dark-theme-item>暗主题</a><div role=separator></div><a tabindex=-1 role=menuitem id=syntax-coloring-item>代码高亮</a><div role=separator></div><h6>本站的其它版本</h6><a tabindex=-1 role=menuitem onclick="navigateToUrlOrRoot('https://istio.io/about\/notes\/1.1\/');return false;">当前版本</a>
<a tabindex=-1 role=menuitem onclick="navigateToUrlOrRoot('https://preliminary.istio.io/about\/notes\/1.1\/');return false;">下个版本</a>
<a tabindex=-1 role=menuitem href=https://archive.istio.io>旧版本</a></div></div><button id=search-show title=搜索istio.io aria-label=Search><svg class="icon"><use xlink:href="/v1.1/img/icons.svg#magnifier"/></svg></button></div><form id=search-form name=cse role=search><input type=hidden name=cx value=013699703217164175118:iwwf17ikgf4>
<input type=hidden name=ie value=utf-8>
<input type=hidden name=hl value=en>
<input type=hidden id=search-page-url value=/v1.1/search.html>
<input id=search-textbox class=form-control name=q type=search aria-label=搜索istio.io>
<button id=search-close title="Cancel search" type=reset aria-label="Cancel search"><svg class="icon"><use xlink:href="/v1.1/img/icons.svg#cancel-x"/></svg></button></form></nav></header><main class=primary><div id=sidebar-container class="sidebar-container sidebar-offcanvas"><nav id=sidebar aria-label="Section Navigation"><div class=directory><div class=card><div id=header0 class=header title=关于Istio的说明。><svg class="icon"><use xlink:href="/v1.1/img/icons.svg#about"/></svg>关于Istio</div><div class="body default" aria-labelledby=header0><ul role=tree aria-expanded=true aria-labelledby=header0><li role=treeitem aria-label=发行说明><button class=show aria-hidden=true></button><a title="每个 Istio 版本的功能和改进说明。" href=/v1.1/zh/about/notes/>发行说明</a><ul role=group aria-expanded=true><li role=none><a role=treeitem href=/v1.1/zh/about/notes/1.0.8/>Istio 1.0.8</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/1.1.8/>Istio 1.1.8</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/1.1.7/>Istio 1.1.7</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/1.1.6/>Istio 1.1.6</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/1.1.5/>Istio 1.1.5</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/1.1.4/>Istio 1.1.4</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/1.1.3/>Istio 1.1.3</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/1.0.7/>Istio 1.0.7</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/1.1.2/>Istio 1.1.2</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/1.0.6/>Istio 1.0.6</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/1.0.5/>Istio 1.0.5</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/1.0.4/>Istio 1.0.4</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/1.0.3/>Istio 1.0.3</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/1.0.2/>Istio 1.0.2</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/1.0.1/>Istio 1.0.1</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/1.0/>Istio 1.0</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/1.1.1/>Istio 1.1.1</a></li><li role=none><span role=treeitem class=current>Istio 1.1</span></li><li role=treeitem aria-label=早期版本><button aria-hidden=true></button><a title="Istio 早期版本的发布说明。" href=/v1.1/zh/about/notes/older/>早期版本</a><ul role=group aria-expanded=false class=leaf-section><li role=none><a role=treeitem href=/v1.1/zh/about/notes/older/0.8/>Istio 0.8</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/older/0.7/>Istio 0.7</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/older/0.6/>Istio 0.6</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/older/0.5/>Istio 0.5</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/older/0.4/>Istio 0.4</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/older/0.3/>Istio 0.3</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/older/0.2/>Istio 0.2</a></li><li role=none><a role=treeitem href=/v1.1/zh/about/notes/older/0.1/>Istio 0.1</a></li></ul></li></ul></li><li role=none><a role=treeitem title="管理、编号和支持 Istio 发布的方式。" href=/v1.1/zh/about/release-cadence/>构建 &amp; 发布节奏</a></li><li role=none><a role=treeitem title=功能列表和发布阶段。 href=/v1.1/zh/about/feature-stages/>功能状态</a></li><li role=treeitem aria-label=我们的社区><button aria-hidden=true></button><a title=了解我们的社区、用户和合作伙伴。 href=/v1.1/zh/about/community/>我们的社区</a><ul role=group aria-expanded=false class=leaf-section><li role=none><a role=treeitem title="有关参与 Istio 社区和与之互动的各种方式的信息。" href=/v1.1/zh/about/community/join/>加入社区</a></li><li role=none><a role=treeitem title="围绕 Istio 进行构建的用户。" href=/v1.1/zh/about/community/partners/>合作伙伴</a></li><li role=none><a role=treeitem title="使用 Istio 的用户。" href=/v1.1/zh/about/community/customers/>Istio in Action</a></li></ul></li><li role=none><a role=treeitem title="发现 Bug 怎么办。" href=/v1.1/zh/about/bugs/>报告 Bug</a></li><li role=none><a role=treeitem title="负责披露 Istio 安全漏洞。" href=/v1.1/zh/about/security-vulnerabilities/>报告 Istio 安全漏洞</a></li><li role=none><a role=treeitem title="可用于数字和印刷材料的官方 Istio 媒体资源。" href=/v1.1/zh/about/media-resources/>媒体资源</a></li><li role=treeitem aria-label=贡献文档><button aria-hidden=true></button><a title="了解如何为提高和改善 Istio 的文档做贡献。" href=/v1.1/zh/about/contribute/>贡献文档</a><ul role=group aria-expanded=false class=leaf-section><li role=none><a role=treeitem title="向您展示如何使用 GitHub 处理 Istio 文档。" href=/v1.1/zh/about/contribute/github/>使用 GitHub</a></li><li role=none><a role=treeitem title=解释创建和维护文档页面的机制。 href=/v1.1/zh/about/contribute/creating-and-editing-pages/>创建和编辑页面</a></li><li role=none><a role=treeitem title="翻译 Istio 文档时常见术语的中文翻译。" href=/v1.1/zh/about/contribute/terms/>术语和习惯用语</a></li><li role=none><a role=treeitem title="编写 Istio 文档时候的“要”和“不要”。" href=/v1.1/zh/about/contribute/style-guide/>样式指南</a></li></ul></li></ul></div></div></div></nav></div><div class=article-container><button tabindex=-1 id=sidebar-toggler title=折叠导航栏><svg class="icon"><use xlink:href="/v1.1/img/icons.svg#pull"/></svg></button><nav aria-label=Breadcrumb><ol><li><a href=/v1.1/zh/>Istio</a></li><li><a href=/v1.1/zh/about/ title=关于Istio的说明。>关于</a></li><li><a href=/v1.1/zh/about/notes/ title="每个 Istio 版本的功能和改进说明。">发行说明</a></li><li>Istio 1.1</li></ol></nav><article aria-labelledby=title><div class=title-area><i class=title-icon><svg class="icon"><use xlink:href="/v1.1/img/icons.svg#notes"/></svg></i><div><h1 id=title>Istio 1.1</h1><p class=byline><span><svg class="icon"><use xlink:href="/v1.1/img/icons.svg#calendar"/></svg><span>&nbsp;</span>2018年3月1日</span><span> | </span><span title="406 字"><svg class="icon"><use xlink:href="/v1.1/img/icons.svg#clock"/></svg><span>&nbsp;</span>阅读大约需要 2 分钟</span></p></div></div><nav class=toc-inlined aria-label="Table of Contents"><div><hr><ol><li role=none aria-label=策略与遥测><a href=#%e7%ad%96%e7%95%a5%e4%b8%8e%e9%81%a5%e6%b5%8b>策略与遥测</a><li role=none aria-label=安全><a href=#%e5%ae%89%e5%85%a8>安全</a><li role=none aria-label=istioctl><a href=#istioctl><code>istioctl</code></a><li role=none aria-label=配置><a href=#%e9%85%8d%e7%bd%ae>配置</a><li role=none aria-label="和 1.0 版不兼容的变化"><a href=#%e5%92%8c-1-0-%e7%89%88%e4%b8%8d%e5%85%bc%e5%ae%b9%e7%9a%84%e5%8f%98%e5%8c%96>和 1.0 版不兼容的变化</a><li role=none aria-label=升级><a href=#%e5%8d%87%e7%ba%a7>升级</a><li role=none aria-label=安装><a href=#%e5%ae%89%e8%a3%85>安装</a><li role=none aria-label=流量管理><a href=#%e6%b5%81%e9%87%8f%e7%ae%a1%e7%90%86>流量管理</a><li role=none aria-label=安全性><a href=#%e5%ae%89%e5%85%a8%e6%80%a7>安全性</a><li role=none aria-label=策略和遥测><a href=#%e7%ad%96%e7%95%a5%e5%92%8c%e9%81%a5%e6%b5%8b>策略和遥测</a><li role=none aria-label=配置管理><a href=#%e9%85%8d%e7%bd%ae%e7%ae%a1%e7%90%86>配置管理</a><li role=none aria-label="istioctl 和 kubectl"><a href=#istioctl-%e5%92%8c-kubectl><code>istioctl</code> 和 <code>kubectl</code></a></ol><hr></div></nav><p>自豪地宣布，Istio 1.1 发布了！</p><p>我们用了 8 个月的时间，对整个产品做出众多改进，其中包括了来自 Google、IBM、VMware、Huawei、RedHat、Cisco、SAP、Salesforce、Pivotal、SUSE、Datadog 以及 LightStep 等众多厂商和个人的贡献。特别感谢所有的终端用户提供的反馈、功能需求以及在各种规模环境中做出的各种测试。</p><p>本文描述了 Istio 1.0.6 以及 Istio 1.1 之间的差异。</p><div class=call-to-action><button class="btn update-notice" data-title="Update Notice" data-downloadhref=https://github.com/istio/istio/releases/tag/1.1.0 data-updateadvice="Before you download 1.1, you should know that there's a newer patch release with the latest bug fixes and perf improvements." data-updatebutton="LEARN ABOUT ISTIO 1.1.8" data-updatehref=/v1.1/zh/about/notes/1.1.8>
1.1 下载</button>
<a class=btn href=https://istio.io/zh/docs>1.1 文档</a></div><h2 id=策略与遥测>策略与遥测</h2><ul><li><strong>Kiali</strong>。Service Graph 已经被<a href=https://github.com/istio/istio/issues/9066>弃用</a>，推荐使用 <a href=https://www.kiali.io>Kiali</a>。查看 <a href=/v1.1/zh/docs/tasks/telemetry/kiali/>Kiali 任务</a>了解更多关于 Kiali 的信息。</li></ul><h2 id=安全>安全</h2><ul><li>弃用的 <code>RbacConfig</code> 被 <code>ClusterRbacConfig</code> 代替，以正确实现针对集群范围。
参考<a href=/v1.1/zh/docs/setup/kubernetes/upgrade/steps/#从-rbacconfig-到-clusterrbacconfig>从 <code>RbacConfig</code> 到 <code>ClusterRbacConfig</code></a> 中的迁移说明。</li></ul><h2 id=istioctl><code>istioctl</code></h2><ul><li>弃用 <code>istioctl create</code>，<code>istioctl replace</code>， <code>istioctl get</code> 和 <code>istioctl delete</code>。使用 <code>kubectl</code> 代替（参考<a href=https://kubernetes.io/docs/tasks/tools/install-kubectl>https://kubernetes.io/docs/tasks/tools/install-kubectl</a>）。下个版本（1.2）将删除这些弃用的命令。</li><li><p>弃用 <code>istioctl gen-deploy</code>。使用 <a href=/v1.1/zh/docs/setup/kubernetes/install/helm/#方案-1-使用-helm-template-进行安装><code>helm template</code></a> 代替。下个版本（1.2）将删除这些弃用的命令。</p></li><li><p>为 Istio Kubernetes 资源的离线校验增加 <a href=/v1.1/docs/reference/commands/istioctl/#istioctl-validate><code>istioctl validate</code></a>。其目的是代替已经弃用的 <code>istioctl create</code> 命令。</p></li><li><p>增加 <a href=/v1.1/docs/reference/commands/istioctl/#istioctl-experimental-verify-install><code>istioctl experimental verify-install</code></a>。这个实验命令验证给的 Istio 安装 YAML 文件的安装状态。</p></li></ul><h2 id=配置>配置</h2><ul><li>你现在可以使用 Galley 作为 Kubernetes 和其他 Istio 组件（Pilot 和 Mixer）的 Kubernetes 接触点。这个功能处于 <a href=/v1.1/zh/about/feature-stages/#功能阶段定义>alpha</a> 版本。后续的 Istio 版本将使用 Galley 作为 Istio 默认的配置管理机制。</li></ul><h2 id=和-1-0-版不兼容的变化>和 1.0 版不兼容的变化</h2><p>除了下面列出的新的和增强的功能之外，1.1 中做出了较多的不同于 1.0 版本的变化。<a href=/v1.1/zh/docs/setup/kubernetes/upgrade/notice>升级通知</a>中对这些变化做了个列表。</p><h2 id=升级>升级</h2><p>我们推荐用手工方式对控制平面进行 1.1 版本的升级工作。在<a href=/v1.1/zh/docs/setup/kubernetes/upgrade/>升级文档</a>中包含更多这方面的信息。</p><div><aside class="callout warning"><div class=type><svg class="large-icon"><use xlink:href="/v1.1/img/icons.svg#callout-warning"/></svg></div><div class=content>在进行 1.1 的升级之前，务必阅读<a href=/v1.1/zh/docs/setup/kubernetes/upgrade/notice>升级通知</a>中的内容。</div></aside></div><h2 id=安装>安装</h2><ul><li><p><strong>从 Istio 安装中拆分 CRD 安装过程</strong>：Istio 的 CRD 被移入 <code>istio-init</code> Helm chart。CRD 独立到自己的 Helm chart 中，能够在升级过程中以及未来 Istio 使用 Helm 之外的安装方式的情况下，保证 CRD 资源的连续性。</p></li><li><p><strong>预配置安装方案</strong>：加入了多个安装配置方案，其中提供了知名的、经过测试的模式，简化安装过程的定制工作。<a href=/v1.1/zh/docs/setup/kubernetes/additional-setup/config-profiles/>配置方案</a>为用户提供了更好的安装体验。</p></li><li><p><strong>增强了多集群支持</strong>：Istio 1.0 中使用 <code>istio-remote</code> 进行 <a href=/v1.1/zh/docs/setup/kubernetes/install/multicluster/vpn/>VPN 模式</a> 以及<a href=/v1.1/zh/docs/examples/multicluster/split-horizon-eds/>水平拆分 eds 模式</a>的多集群风方案，1.1 中进行了整合，简化了安装体验。</p></li></ul><h2 id=流量管理>流量管理</h2><ul><li><p><strong>新的 <code>Sidecar</code> 资源</strong>：<a href=/v1.1/docs/concepts/traffic-management/#sidecars>Sidecar</a> 资源为附加到工作负载命名空间内的 Sidecar 提供了更细粒度的控制能力。特别是它提供了将 Sidecar 发出的流量限制在特定服务范围的能力。这一功能能够减少代理服务器计算和传播配置的需要，从而提高启动速度、降低资源消耗，同时也增强了控制面的稳定性。对于大规模集群，我们建议为每个命名空间加入 Sidecar 资源。这一资源还提供了对端口、协议以及流量劫持方面的高级控制。</p></li><li><p><strong>限制服务的可见范围</strong>：加入了新的 <code>exportTo</code> 功能，这一功能让服务控制者能够限制访问该服务的命名空间。<code>ServiceEntry</code> 和 <code>VirtualService</code> 对象都支持这一功能，还可以通过给 Kubernetes 服务加入 <code>networking.istio.io/exportTo</code> 注解的方式来进行定义。</p></li><li><p><strong>命名空间范围</strong>：在网关中引用 <code>VirtualService</code> 的时候，我们会根据配置模型来使用基于 DNS 匹配的名称。在命名空间不止一个的情况下，这种用法遇到相同的主机名就很容易混淆。为了提供更清晰的使用命名空间来界定引用范围，在 <code>hosts</code> 字段中可以使用 <strong><code>[{namespace-name}]/{hostname-match}</code></strong> 的方式进行了限制。同样的能力也能够在 <code>Sidecar</code> 的 egress 用例中使用。</p></li><li><p><strong><code>ServiceEntry</code> 资源的更新</strong>：为服务以及相关的双向 TLS 所需的 SAN 加入了区域性的定义。带有 HTTPS 端口的 <code>ServiceEntry</code> 不再需要额外定义 <code>VirtualService</code> 来启用基于 SNI 的路由了。</p></li><li><p><strong>区域性路由</strong>：路由会优先选取同一区域内的服务，请参考<a href=/v1.1/docs/reference/config/istio.mesh.v1alpha1/#LocalityLoadBalancerSetting>区域性负载均衡设置文档</a>。</p></li><li><p><strong>调整多集群路由</strong>：简化多集群配置，丰富部署模式。现在可以使用自带的 Ingress 网关连接多个集群，不再需要 Pod 级别的 VPN；可以在每个集群都部署控制平面，达到高可用目的；能够创建跨越多个集群的全局命名空间。在高可用控制平面模式下，会缺省启用路由的区域感知功能。</p></li><li><p><strong>弃用 Istio Ingress</strong>：移除了过期的 Istio Ingress。请参照<a href=/v1.1/zh/docs/examples/advanced-gateways/ingress-certmgr/>使用 cert-manager 加密 Kubernetes Ingress</a>一文，了解如何使用<a href=/v1.1/zh/docs/concepts/traffic-management/#gateway>网关</a>充当 Ingress 控制器。</p></li><li><p><strong>性能和伸缩性的增强</strong>：调整了 Istio 和 Envoy 的性能和弹性。参考<a href=/v1.1/zh/docs/concepts/performance-and-scalability/>性能和伸缩性</a>一文，了解更多相关信息。</p></li><li><p><strong>缺省关闭访问日志</strong>：缺省关闭所有 Sidecar 的访问日志以提高性能。</p></li></ul><h2 id=安全性>安全性</h2><ul><li><p><strong>存活及就绪检测</strong>：在启用双向 TLS 的情况下，增加 Kubernetes 的 HTTP <a href=/v1.1/zh/help/faq/security/#k8s-health-checks>存活及就需检测</a>支持。</p></li><li><p><strong>集群级的 RBAC 配置</strong>：用 <code>ClusterRbacConfig</code> 代替 <code>RbacConfig</code>，用于配置集群级别的生效范围。具体升级步骤可以参看<a href=/v1.1/docs/setup/kubernetes/upgrade/steps/#migrating-from-rbacconfig-to-clusterrbacconfig>从 <code>RbacConfig</code> 迁移到 <code>ClusterRbacConfig</code></a>。</p></li><li><p><strong>使用 SDS 提供认证支持</strong>：使用 SDS 提供更强的安全性，在节点生成密钥，动态完成证书轮转而无需重启 Envoy。详情请参见<a href=/v1.1/zh/docs/tasks/security/auth-sds>通过 SDS 提供身份服务</a>。</p></li><li><p><strong>为 TCP 服务提供访问控制</strong>：在 HTTP 和 gRPC 服务之外，为 TCP 服务也加入了授权支持。请参看<a href=/v1.1/zh/docs/tasks/security/authz-tcp>为 TCP 服务提供访问控制支持</a>。</p></li><li><p><strong>最终用户分组的访问控制</strong>：根据 JWT 中的 <code>groups</code> 或者任意列表类型的数据来进行访问控制。参考<a href=/v1.1/zh/docs/tasks/security/rbac-groups/>基于组和列表类型声明的授权</a>，获取更多信息。</p></li><li><p><strong>Ingress 网关控制器的外部证书管理</strong>：加入一个控制器，用于为外部证书提供动态加载和轮转支持。</p></li><li><p><strong>自定义 PKI 集成</strong>：加入了 Vault PKI 集成，支持 Vault 保护下的签署密钥以及现存 Vault PKI 的集成能力。<a href=/v1.1/zh/docs/tasks/security/vault-ca>Istio Vault CA 集成</a>一节中包含更多详细信息。</p></li><li><p><strong>自定义域（非 <code>cluster.local</code>）</strong>：支持组织或者集群特定的域名。</p></li></ul><h2 id=策略和遥测>策略和遥测</h2><ul><li><p><strong>缺省关闭预检</strong>：迎合多数用户场景，缺省关闭策略预检以提高性能。如果有需求，还可以<a href=/v1.1/zh/docs/tasks/policy-enforcement/enabling-policy/>启用策略检查</a>。</p></li><li><p><strong>Kiali</strong>：用 <a href=https://www.kiali.io>Kiali</a> 替代了 <a href=https://github.com/istio/istio/issues/9066>Service Graph</a>，用于提供更丰富的可视化体验。<a href=/v1.1/docs/tasks/telemetry/kiali/>Kiali 任务</a>中进行了更多细节描述。</p></li><li><p><strong>降低开销</strong>：做出了很多性能和伸缩方面的改进：</p><ul><li><p>减少 Envoy 生成的统计信息的采集。</p></li><li><p>Mixer 加入了负载卸载的功能。</p></li><li><p>增强了 Envoy 和 Mixer 之间的协议。</p></li></ul></li><li><p><strong>对 Header 和路由施加影响</strong>：可以利用适配器对请求的 Header 和路由进行变更，请参考<a href=/v1.1/docs/tasks/policy-enforcement/control-headers>控制 Header 和路由</a>任务获取更多相关信息。</p></li><li><p><strong>进程外适配器</strong>：进程外适配器功能已经可以用于生产环境。这一版中我们开始淘汰进程内适配器。所有的新适配器开发都应该使用进程外模型。</p></li><li><p><strong>增强跟踪</strong>：跟踪方面做出很多改进：</p><ul><li>Trace ID 扩展为 128 位。</li><li>加入了发送跟踪数据到 <a href=/v1.1/zh/docs/tasks/telemetry/distributed-tracing/lightstep/>LightStep</a> 的功能。</li><li>可以完全禁用 Mixer 服务的跟踪。</li><li>可以使用策略来决定跟踪。</li></ul></li><li><p><strong>缺省的 TCP 指标</strong>：为 TCP 连接加入缺省指标。</p></li><li><p><strong>减少插件对负载均衡器的需求</strong>：不再以独立负载均衡服务的方式来开放服务，改为使用 Istio 网关。要使用 HTTP 或 HTTPS 协议开放插件服务，请阅读<a href=/v1.1/zh/docs/tasks/telemetry/gateways/>遥测插件的外部访问</a>一节的介绍。</p></li><li><p><strong>加密插件凭据</strong>：插件凭据的保存方式发生了变更。Grafana、Kiali 和 Jaeger 的用户名和密码保存在 <a href=https://kubernetes.io/docs/concepts/configuration/secret/>Kubernetes secrets</a> 之中，提高了安全性和合规性。</p></li><li><p><strong>更具弹性的 <code>statsd</code> 收集器</strong>：移除内置的 <code>statsd</code> 收集器。Istio 允许用户自行部署 <code>statsd</code>。</p></li></ul><h2 id=配置管理>配置管理</h2><ul><li><p><strong>Galley</strong>：以 <a href=/v1.1/zh/docs/concepts/what-is-istio/#galley>Galley</a> 作为首要的配置接收和分发机制。它提供了一个健壮的模型用于校验、转换和传输配置状态，把 Istio 组件从 Kubernetes 细节中隔离出来。Galley 使用 <a href=https://github.com/istio/api/tree/release-1.1/mcp>Mesh Configuration Protocol (MCP)</a> 和各个组件进行交互。</p></li><li><p><strong>监听端口</strong>：Galley 的缺省端口从 9093 改为 15014.</p></li></ul><h2 id=istioctl-和-kubectl><code>istioctl</code> 和 <code>kubectl</code></h2><ul><li><p><strong>Validate 命令</strong>：<a href=/v1.1/docs/reference/commands/istioctl/#istioctl-validate><code>istioctl validate</code></a> 命令可以用离线方式校验 Istio 的 Kubernetes 资源。</p></li><li><p><strong>Verify-Install 命令</strong>：新增 <a href=/v1.1/docs/reference/commands/istioctl/#istioctl-experimental-verify-install><code>istioctl experimental verify-install</code></a> 命令，根据一个指定的 YAML 文件来检查 Istio 的状态。</p></li><li><p><strong>过期命令</strong>：<code>istioctl create</code>、<code>istioctl replace</code>、<code>istioctl get</code> 和 <code>istioctl delete</code> 命令都已过期，改用 <a href=https://kubernetes.io/docs/tasks/tools/install-kubectl><code>kubectl</code></a> 命令执行相关任务。<code>istioctl gen-deploy</code> 命令也同样过期，使用 <a href=/v1.1/zh/docs/setup/kubernetes/install/helm/#方案-1-使用-helm-template-进行安装><code>helm template</code></a> 命令来替代。1.12 版本中会移除这些命令。</p></li><li><p><strong>短命令</strong>：在 <code>kubectl</code> 中包含了 <code>Gateway</code>、<code>VirtualService</code>、<code>DestinationRules</code> 以及 <code>ServiceEntry</code> 的短命令。</p></li></ul></article><nav class=pagenav><div class=left><a href=/v1.1/zh/about/notes/1.1.1/><svg class="icon"><use xlink:href="/v1.1/img/icons.svg#left-arrow"/></svg>Istio 1.1.1</a></div><div class=right></div></nav><div id=endnotes-container aria-hidden=true><h2>链接</h2><ol id=endnotes></ol></div></div><div class=toc-container><nav class=toc aria-label="Table of Contents"><div id=toc><ol><li role=none aria-label=策略与遥测><a href=#%e7%ad%96%e7%95%a5%e4%b8%8e%e9%81%a5%e6%b5%8b>策略与遥测</a><li role=none aria-label=安全><a href=#%e5%ae%89%e5%85%a8>安全</a><li role=none aria-label=istioctl><a href=#istioctl><code>istioctl</code></a><li role=none aria-label=配置><a href=#%e9%85%8d%e7%bd%ae>配置</a><li role=none aria-label="和 1.0 版不兼容的变化"><a href=#%e5%92%8c-1-0-%e7%89%88%e4%b8%8d%e5%85%bc%e5%ae%b9%e7%9a%84%e5%8f%98%e5%8c%96>和 1.0 版不兼容的变化</a><li role=none aria-label=升级><a href=#%e5%8d%87%e7%ba%a7>升级</a><li role=none aria-label=安装><a href=#%e5%ae%89%e8%a3%85>安装</a><li role=none aria-label=流量管理><a href=#%e6%b5%81%e9%87%8f%e7%ae%a1%e7%90%86>流量管理</a><li role=none aria-label=安全性><a href=#%e5%ae%89%e5%85%a8%e6%80%a7>安全性</a><li role=none aria-label=策略和遥测><a href=#%e7%ad%96%e7%95%a5%e5%92%8c%e9%81%a5%e6%b5%8b>策略和遥测</a><li role=none aria-label=配置管理><a href=#%e9%85%8d%e7%bd%ae%e7%ae%a1%e7%90%86>配置管理</a><li role=none aria-label="istioctl 和 kubectl"><a href=#istioctl-%e5%92%8c-kubectl><code>istioctl</code> 和 <code>kubectl</code></a></ol></div></nav></div></main><footer><div class=user-links><a class=channel title="Go download Istio 1.1.9 now" href=https://github.com/istio/istio/releases/tag/1.1.9 aria-label="Download Istio"><span>download</span><svg class="icon"><use xlink:href="/v1.1/img/icons.svg#download"/></svg>
</a><a class=channel title="加入 Istio discussion board 参与讨论获取帮助" href=https://discuss.istio.io aria-label="Istio discussion board"><span>discuss</span><svg class="icon"><use xlink:href="/v1.1/img/icons.svg#discourse"/></svg></a>
<a class=channel title="Stack Overflow 中列举了针对实际问题以及部署、配置和使用 Istio 的各项回答" href=https://stackoverflow.com/questions/tagged/istio aria-label="Stack Overflow"><span>stack overflow</span><svg class="icon"><use xlink:href="/v1.1/img/icons.svg#stackoverflow"/></svg></a>
<a class=channel title="关注我们的 Twitter 来获取最新信息" href=https://twitter.com/IstioMesh aria-label=Twitter><span>twitter</span><svg class="icon"><use xlink:href="/v1.1/img/icons.svg#twitter"/></svg></a><div class=tag>对于用户</div></div><div class=info><p class=copyright>中文内容由 ServiceMesher 社区维护，部分文档可能稍微滞后于英文版本，同步工作持续进行中<br>Istio 归档
1.1.9<br>&copy; 2019 Istio Authors, <a href=https://policies.google.com/privacy>隐私政策</a><br>归档于 2019年6月18日</p></div><div class=dev-links><a class=channel title="Istio 的代码在 GitHub 上开发" href=https://github.com/istio/community aria-label=GitHub><span>github</span><svg class="icon"><use xlink:href="/v1.1/img/icons.svg#github"/></svg></a>
<a class=channel title="在 Slack 上与 Istio 社区交互讨论开发问题（仅限邀请）" href=https://istio.slack.com aria-label=slack><span>slack</span><svg class="icon"><use xlink:href="/v1.1/img/icons.svg#slack"/></svg></a>
<a class=channel title="如果您想深入了解 Istio 的技术细节，请查看我们日益完善的设计文档" href=https://groups.google.com/forum/#!forum/istio-team-drive-access aria-label="team drive"><span>drive</span><svg class="icon"><use xlink:href="/v1.1/img/icons.svg#drive"/></svg></a>
<a class=channel title="如果您想为 Istio 项目做出贡献，请考虑加入我们的工作组" href=https://github.com/istio/community/blob/master/WORKING-GROUPS.md aria-label="working groups"><span>working groups</span><svg class="icon"><use xlink:href="/v1.1/img/icons.svg#working-groups"/></svg></a><div class=tag>对于开发者</div></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js defer></script><div id=scroll-to-top-container aria-hidden=true><button id=scroll-to-top title=回到顶部><svg class="icon"><use xlink:href="/v1.1/img/icons.svg#top"/></svg></button></div></body></html>