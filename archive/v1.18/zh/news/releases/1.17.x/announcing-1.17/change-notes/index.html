<!doctype html><html lang=zh itemscope itemtype=https://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=theme-color content="#466BB0"><meta name=title content="Istio 1.17.0 更新说明"><meta name=description content="Istio 1.17.0 更新说明。"><meta name=keywords content="microservices,services,mesh"><meta property="og:title" content="Istio 1.17.0 更新说明"><meta property="og:type" content="website"><meta property="og:description" content="Istio 1.17.0 更新说明。"><meta property="og:url" content="/v1.18/zh/news/releases/1.17.x/announcing-1.17/change-notes/"><meta property="og:image" content="https://raw.githubusercontent.com/istio/istio.io/master/static/img/istio-social.svg"><meta property="og:image:alt" content="Istio Logo"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="600"><meta property="og:site_name" content="Istio"><meta name=twitter:card content="summary"><meta name=twitter:site content="@IstioMesh"><title>Istioldie 1.18 / Istio 1.17.0 更新说明</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-98480406-2"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-98480406-2")</script><link rel=alternate type=application/rss+xml title="Istio Blog" href=/v1.18/blog/feed.xml><link rel=alternate type=application/rss+xml title="Istio News" href=/v1.18/news/feed.xml><link rel=alternate type=application/rss+xml title="Istio Blog and News" href=/v1.18/feed.xml><link rel="shortcut icon" href=/v1.18/favicons/favicon.ico><link rel=apple-touch-icon href=/v1.18/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/v1.18/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/v1.18/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/v1.18/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/v1.18/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/v1.18/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/v1.18/favicons/android-96x96.png sizes=96xW96><link rel=icon type=image/png href=/v1.18/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/v1.18/favicons/android-192x192.png sizes=192x192><link rel=icon type=image/svg+xml href=/v1.18/favicons/favicon.svg><link rel=icon type=image/png href=/v1.18/favicons/favicon.png><link rel=mask-icon href=/v1.18/favicons/safari-pinned-tab.svg color=#466bb0><link rel=manifest href=/v1.18/manifest.json><meta name=apple-mobile-web-app-title content="Istio"><meta name=application-name content="Istio"><meta name=msapplication-config content="/browserconfig.xml"><meta name=msapplication-TileColor content="#466BB0"><meta name=theme-color content="#466BB0"><link rel=stylesheet href=/v1.18/css/all.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,400;0,500;0,600;0,700;1,400;1,600&display=swap"><script src=/v1.18/js/themes_init.min.js></script></head><body class="language-unknown archive-site"><script>const branchName="release-1.18",docTitle="Istio 1.17.0 更新说明",iconFile="/v1.18/img/icons.svg",buttonCopy="复制到剪切板",buttonPrint="打印",buttonDownload="下载"</script><script src="https://www.google.com/cse/brand?form=search-form" defer></script>
<script src=/v1.18/js/all.min.js data-manual defer></script><header class=main-navigation><nav class="main-navigation-wrapper container-l"><div class=main-navigation-header><a id=brand href=/v1.18/zh/ aria-label=logotype><span class=logo><svg xmlns="http://www.w3.org/2000/svg" width="128" height="60" viewBox="0 0 128 60"><path d="M58.434 48.823A.441.441.0 0158.3 48.497V22.583a.444.444.0 01.134-.326.446.446.0 01.327-.134h3.527a.447.447.0 01.325.134.447.447.0 01.134.326v25.914a.443.443.0 01-.134.326.444.444.0 01-.325.134h-3.527a.444.444.0 01-.327-.134z"/><path d="m70.969 48.477a6.556 6.556.0 01-2.818-1.955 4.338 4.338.0 01-1-2.78v-.345a.443.443.0 01.134-.326.444.444.0 01.326-.135h3.374a.444.444.0 01.326.135.445.445.0 01.134.326v.077a2.014 2.014.0 001.054 1.667 4.672 4.672.0 002.664.709 4.446 4.446.0 002.492-.633 1.862 1.862.0 00.958-1.591 1.426 1.426.0 00-.786-1.322 12.7 12.7.0 00-2.549-.939l-1.457-.46a21.526 21.526.0 01-3.3-1.227 6.57 6.57.0 01-2.262-1.783 4.435 4.435.0 01-.92-2.894 5.081 5.081.0 012.109-4.275 8.993 8.993.0 015.558-1.591 10.445 10.445.0 014.1.748 6.3 6.3.0 012.722 2.07 5 5 0 01.958 3.009.441.441.0 01-.134.326.441.441.0 01-.325.134h-3.258a.441.441.0 01-.326-.134.443.443.0 01-.134-.326 1.974 1.974.0 00-.978-1.667 4.647 4.647.0 00-2.665-.671 4.741 4.741.0 00-2.435.556 1.724 1.724.0 00-.938 1.553 1.512 1.512.0 00.9 1.4 15.875 15.875.0 003.01 1.055l.843.229a27.368 27.368.0 013.412 1.246 6.67 6.67.0 012.338 1.763 4.387 4.387.0 01.958 2.933 4.988 4.988.0 01-2.146 4.275 9.543 9.543.0 01-5.712 1.552 11.626 11.626.0 01-4.227-.709z"/><path d="m97.039 32.837a.443.443.0 01-.326.135h-3.911a.169.169.0 00-.191.192v9.239a2.951 2.951.0 00.632 2.108 2.7 2.7.0 002.013.652h1.15a.444.444.0 01.325.134.441.441.0 01.134.326v2.875a.471.471.0 01-.459.5l-1.994.039a8 8 0 01-4.524-1.035q-1.495-1.035-1.533-3.91V33.166A.17.17.0 0088.164 32.974H85.978A.441.441.0 0185.652 32.839.441.441.0 0185.518 32.513V29.83a.441.441.0 01.134-.326.444.444.0 01.326-.135h2.186a.169.169.0 00.191-.192v-4.485a.438.438.0 01.134-.326.44.44.0 01.325-.134h3.336a.443.443.0 01.325.134.442.442.0 01.135.326v4.485a.169.169.0 00.191.192h3.911a.446.446.0 01.326.135.446.446.0 01.134.326v2.683a.446.446.0 01-.133.324z"/><path d="m101.694 25.917a2.645 2.645.0 01-.767-1.955 2.65 2.65.0 01.767-1.955 2.65 2.65.0 011.955-.767 2.65 2.65.0 011.955.767 2.652 2.652.0 01.767 1.955 2.647 2.647.0 01-.767 1.955 2.646 2.646.0 01-1.955.767 2.645 2.645.0 01-1.955-.767zm-.211 22.906a.441.441.0 01-.134-.326V29.79a.444.444.0 01.134-.326.446.446.0 01.326-.134h3.527a.446.446.0 01.326.134.445.445.0 01.134.326v18.707a.443.443.0 01-.134.326.443.443.0 01-.326.134h-3.527a.443.443.0 01-.326-.134z"/><path d="m114.019 47.734a8.1 8.1.0 01-3.047-4.255 14.439 14.439.0 01-.652-4.37 14.3 14.3.0 01.614-4.371A7.869 7.869.0 01114 30.56a9.072 9.072.0 015.252-1.5 8.543 8.543.0 015.041 1.5 7.985 7.985.0 013.009 4.14 12.439 12.439.0 01.69 4.37 13.793 13.793.0 01-.651 4.37 8.255 8.255.0 01-3.028 4.275 8.475 8.475.0 01-5.1 1.553 8.754 8.754.0 01-5.194-1.534zm7.629-3.1a4.536 4.536.0 001.476-2.262 11.335 11.335.0 00.383-3.221 10.618 10.618.0 00-.383-3.22 4.169 4.169.0 00-1.457-2.243 4.066 4.066.0 00-2.531-.785 3.942 3.942.0 00-2.453.785 4.376 4.376.0 00-1.5 2.243 11.839 11.839.0 00-.383 3.22 11.84 11.84.0 00.383 3.221 4.222 4.222.0 001.476 2.262 4.075 4.075.0 002.549.8 3.8 3.8.0 002.44-.809z"/><path d="m15.105 32.057v15.565a.059.059.0 01-.049.059L.069 50.25A.06.06.0 01.005 50.167l14.987-33.47a.06.06.0 01.114.025z"/><path d="m17.631 23.087v24.6a.06.06.0 00.053.059l22.449 2.507a.06.06.0 00.061-.084L17.745.032a.06.06.0 00-.114.024z"/><path d="m39.961 52.548-24.833 7.45a.062.062.0 01-.043.0L.079 52.548a.059.059.0 01.026-.113h39.839a.06.06.0 01.017.113z"/></svg></span></a><button id=hamburger class=main-navigation-toggle aria-label="Open navigation"><svg class="icon menu-hamburger"><use xlink:href="/v1.18/img/icons.svg#menu-hamburger"/></svg></button>
<button id=menu-close class=main-navigation-toggle aria-label="Close navigation"><svg class="icon menu-close"><use xlink:href="/v1.18/img/icons.svg#menu-close"/></svg></button></div><div id=header-links class=main-navigation-links-wrapper><ul class=main-navigation-links><li class=main-navigation-links-item><a class="main-navigation-links-link has-dropdown"><span>关于</span><svg class="icon dropdown-arrow"><use xlink:href="/v1.18/img/icons.svg#dropdown-arrow"/></svg></a><ul class=main-navigation-links-dropdown><li class=main-navigation-links-dropdown-item><a href=/v1.18/zh/about/service-mesh class=main-navigation-links-link>服务网格</a></li><li class=main-navigation-links-dropdown-item><a href=/v1.18/zh/about/solutions class=main-navigation-links-link>解决方案</a></li><li class=main-navigation-links-dropdown-item><a href=/v1.18/zh/about/case-studies class=main-navigation-links-link>案例学习</a></li><li class=main-navigation-links-dropdown-item><a href=/v1.18/zh/about/ecosystem class=main-navigation-links-link>生态系统</a></li><li class=main-navigation-links-dropdown-item><a href=/v1.18/zh/about/deployment class=main-navigation-links-link>部署</a></li><li class=main-navigation-links-dropdown-item><a href=/v1.18/zh/about/faq class=main-navigation-links-link>FAQ</a></li></ul></li><li class=main-navigation-links-item><a href=/v1.18/zh/blog/ class=main-navigation-links-link><span>博客</span></a></li><li class=main-navigation-links-item><a href=/v1.18/zh/news/ class=main-navigation-links-link><span>新闻</span></a></li><li class=main-navigation-links-item><a href=/v1.18/zh/get-involved/ class=main-navigation-links-link><span>加入我们</span></a></li><li class=main-navigation-links-item><a href=/v1.18/zh/docs/ class=main-navigation-links-link><span>文档</span></a></li></ul><div class=main-navigation-footer><button id=search-show class=search-show title='搜索 istio.io' aria-label=搜索><svg class="icon magnifier"><use xlink:href="/v1.18/img/icons.svg#magnifier"/></svg></button>
<a href=/v1.18/zh/docs/setup/getting-started class="btn btn--primary" id=try-istio>试用 Istio</a></div></div><form id=search-form class=search name=cse role=search><input type=hidden name=cx value=002184991200833970123:iwwf17ikgf4>
<input type=hidden name=ie value=utf-8>
<input type=hidden name=hl value=zh>
<input type=hidden id=search-page-url value=/zh/search>
<input id=search-textbox class="search-textbox form-control" name=q type=search aria-label='搜索 istio.io' placeholder=搜索>
<button id=search-close title=取消搜索 type=reset aria-label=取消搜索><svg class="icon menu-close"><use xlink:href="/v1.18/img/icons.svg#menu-close"/></svg></button></form></nav></header><div class=banner-container></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><div class=header-content><h1>Istio 1.17.0 更新说明</h1><p>Istio 1.17.0 更新说明。</p></div><p class=post-author>Feb 14, 2023</p><div><h2 id=deprecation-notices>弃用通知</h2><p>以下通知说明了根据 <a href=/v1.18/zh/docs/releases/feature-stages/#feature-phase-definitions>Istio 的弃用政策</a>将在未来某个版本中移除的功能。
请考虑升级您的环境以移除弃用的功能。</p><ul><li><p><strong>弃用</strong> 针对版本低于 1.20 的 Kubernetes 环境，
弃用了将 <code>PILOT_CERT_PROVIDER</code> 设置为 <code>kubernetes</code> 的操作行为。
<a href=https://github.com/istio/istio/pull/42233>PR #42233</a></p></li><li><p><strong>弃用</strong> 弃用了 Lightstep 提供程序。
请使用 OpenTelemetry 提供程序替代 Lightstep 提供程序。
<a href=https://github.com/istio/istio/issues/40027>Issue #40027</a></p></li></ul><h2 id=traffic-management>流量治理</h2><ul><li><p><strong>改进</strong> 改进了 <code>MostSpecificHostMatch</code>
以防止在遇到通配符时执行完整扫描主机操作。
<a href=https://github.com/istio/istio/issues/41453>Issue #41453</a></p></li><li><p><strong>改进</strong> 改进了 Gateway 的命名以 <code>Name</code> 和 <code>GatewayClassName</code> 的串联为约定。
Deployment 现在也使用自己的 Service Account 进行部署，
而不是使用 <code>default</code> 令牌。
命名约定会影响 Deployment、Service 和 Service Account 的名称
<a href=https://github.com/istio/istio/pull/43103>PR #43103</a></p></li><li><p><strong>新增</strong> 新增了双堆栈对 <code>statefulsets/headless</code>、服务入口和网关的支持，
并使用 <code>getWildcardsAndLocalHost</code> 进行入站集群构建。
<a href=https://github.com/istio/istio/pull/42712>PR #42712</a></p></li><li><p><strong>新增</strong> 新增了在 <code>EnvoyFilter</code> 的 <code>LISTENER_FILTER</code> 中对 <code>ADD</code>、<code>REMOVE</code>、
<code>REPLACE</code>、<code>INSERT_FIRST</code>、<code>INSERT_BEFORE</code>、<code>INSERT_AFTER</code> 操作的支持。
<a href=https://github.com/istio/istio/issues/41445>Issue #41445</a></p></li><li><p><strong>新增</strong> 新增了验证 <code>Gateway</code> 和 <code>Sidecar</code>
以防止主机名中出现 Envoy 不支持的部分通配符。
<a href=https://github.com/istio/istio/issues/42094>Issue #42094</a></p></li><li><p><strong>新增</strong> 新增了对 k8s <code>ServiceInternalTrafficPolicy</code> 的支持
（不考虑 <code>ProxyTerminatingEndpoints</code>）。
<a href=https://github.com/istio/istio/issues/42377>Issue #42377</a></p></li><li><p><strong>新增</strong> 新增了 <code>excludeInterfaces</code> 对 CNI 插件的支持。
<a href=https://github.com/istio/istio/pull/42381>Issue #42381</a></p></li><li><p><strong>新增</strong> 新增了在 <code>/config_dump</code> API 中对缺少的资源类型进行支持。
<a href=https://github.com/istio/istio/pull/42658>PR #42658</a></p></li><li><p><strong>修复</strong> 新增了当 <code>InboundInterceptionMode</code> 为 TPROXY 时正确清理
<code>istio-clean-iptables</code> 的问题。
<a href=https://github.com/istio/istio/pull/41431>PR #41431</a></p></li><li><p><strong>修复</strong> 修复了使用代理配置不会对 <code>PrivateKeyProvider</code> 进行修改的问题。
<a href=https://github.com/istio/istio/issues/41760>Issue #41760</a></p></li><li><p><strong>修复</strong> 修复了当发现选择器或命名空间标签（<code>ENABLE_ENHANCED_RESOURCE_SCOPING=true</code>）时，
选择或取消选择命名空间时 Istio 和 K8S Gateway API 的资源未被正确处理的问题。
<a href=https://github.com/istio/istio/issues/42173>Issue #42173</a></p></li><li><p><strong>修复</strong> 修复了 ServiceEntries 通过使用 <code>DNS_ROUND_ROBIN</code>
能够指定 0 个端点的问题。
<a href=https://github.com/istio/istio/issues/42184>Issue #42184</a></p></li><li><p><strong>修复</strong> 修复了具有不同版本标签（与安装的 Istio 版本不同）的 ServiceEntries
创建后被处理并为其创建端点的问题。
<a href=https://github.com/istio/istio/issues/42212>Issue #42212</a></p></li><li><p><strong>修复</strong> 修复了同步超时设置在远程集群上不起作用的问题。
<a href=https://github.com/istio/istio/pull/42252>PR #42252</a></p></li><li><p><strong>修复</strong> 通过修复网关服务依赖关系，修复了 Kubernetes 服务中 <code>exportTo</code>
注解在网关上不起作用的问题。
<a href=https://github.com/istio/istio/issues/42400>Issue #42400</a></p></li><li><p><strong>修复</strong> 修复了 Sidecar 没有选择服务时缺少的固定位置标签的问题。
<a href=https://github.com/istio/istio/pull/42412>PR #42412</a></p></li><li><p><strong>修复</strong> 修复了网络网关变更时错误计算网络端点的问题。
<a href=https://github.com/istio/istio/issues/42818>Issue #42818</a></p></li><li><p><strong>修复</strong> 修复了当 <code>PILOT_FILTER_GATEWAY_CLUSTER_CONFIG</code>
被启用时自动直通网关无法获得 XDS 推送服务更新的问题。
<a href=https://github.com/istio/istio/pull/42721>PR #42721</a></p></li><li><p><strong>修复</strong> 修复了 VirtualService 委托行为针对
<code>defaultVirtualServiceExportTo: ["."]</code> 设置不工作的问题。
<a href=https://github.com/istio/istio/issues/42602>Issue #42602</a></p></li><li><p><strong>修复</strong> 修复了 <code>PortLevelSettings[].Port</code> 为 nil 时
Pilot 推送 XDS Panic 导致 Pilot 异常退出的问题。
<a href=https://github.com/istio/istio/issues/42598>Issue #42598</a></p></li><li><p><strong>修复</strong> 修复了导致 Namespace 的网络标签比 Pod
的网络标签具有更高优先级的问题。
<a href=https://github.com/istio/istio/issues/42675>Issue #42675</a></p></li><li><p><strong>修复</strong> 修复了当 <code>PILOT_ENABLE_CONFIG_DISTRIBUTION_TRACKING</code> 被启用时，
Pilot 状态不会记录过多错误的问题。
<a href=https://github.com/istio/istio/issues/42612>Issue #42612</a></p></li></ul><h2 id=security>安全性</h2><ul><li><p><strong>新增</strong> 新增了 L7 拒绝规则的验证警告消息将阻止具有该规则策略范围内的所有 TCP 流量。
<a href=https://github.com/istio/istio/pull/41802>PR #41802</a></p></li><li><p><strong>新增</strong> 新增了对在 SDS 中使用
QAT（<code>QuickAssist Technology</code>）<code>PrivateKeyProvider</code> 的支持。
<a href=https://github.com/istio/istio/pull/42203>PR #42203</a></p></li><li><p><strong>新增</strong> 新增了用于为网关和边车选择 QAT 私钥提供程序的配置。
<a href=https://github.com/istio/api/pull/2565>PR #2565</a></p></li><li><p><strong>新增</strong> 新增了支持将 JWT 声明复制到 HTTP 请求头中的功能。
<a href=https://github.com/istio/istio/issues/39724>Issue #39724</a></p></li><li><p><strong>修复</strong> 修复了当 <code>automountServiceAccountToken</code> 为 <code>false</code> 且
<code>PILOT_CERT_PROVIDER</code> 为 <code>kubernetes</code> 时阻止
istio-proxy 访问根 CA 的问题。
<a href=https://github.com/istio/istio/pull/42233>PR #42233</a></p></li></ul><h2 id=telemetry>遥测</h2><ul><li><p><strong>更新</strong> 更新了 Telemetry API 使用新的原生扩展（stats）来获取
Prometheus 统计信息，而不是基于 Wasm 的扩展。
此举改善了该功能的 CPU 开销和内存使用。
自定义维度不再需要正则表达式和引导注解。
如果自定义内容使用带有 Wasm 属性的 CEL 表达式，
它们很可能会受到影响。
<a href=https://github.com/istio/istio/pull/41441>PR #41441</a></p></li><li><p><strong>新增</strong> 新增了针对 Telemetry 资源的分析器。
<a href=https://github.com/istio/istio/issues/41170>Issue #41170</a>
<a href=https://github.com/istio/istio/pull/41785>PR #41785</a></p></li><li><p><strong>新增</strong> 新增了针对 <code>reporting_interval</code> 的支持。
这将允许最终用户通过 Telemetry API 配置
<code>tcp_reporting_duration</code>（配置调用之间的时间）以进行指标报告。
该功能目前仅支持 TCP 指标，但将来我们可能会将其用于持续时间较长的 HTTP 流中。
<a href=https://github.com/istio/istio/issues/41763>Issue #41763</a></p></li><li><p><strong>修复</strong> 修复了配置 <code>Datadog</code> 链路提供程序时，Telemetry API
中的错误请求 <code>malformed Host header</code> 存在的问题。
<a href=https://github.com/istio/istio/issues/41829>Issue #41829</a></p></li><li><p><strong>修复</strong> 修复了由于缺少服务名称，OpenTelemetry 链路跟踪器无法正常工作的问题。
<a href=https://github.com/istio/istio/issues/42080>Issue #42080</a></p></li></ul><h2 id=installation>安装</h2><ul><li><p><strong>更新</strong> 更新了 Kiali 插件版本由 <code>1.55.1</code> 至 <code>1.63.1</code>。
<a href=https://github.com/istio/istio/pull/43052>PR #43052</a>，
<a href=https://github.com/istio/istio/pull/42193>PR #42193</a>，
<a href=https://github.com/istio/istio/pull/41984>PR #41984</a></p></li><li><p><strong>更新</strong> 更新了支持的最低 Kubernetes 版本为 <code>1.23.x</code>。
<a href=https://github.com/istio/istio/pull/43252>PR #43252</a></p></li><li><p><strong>新增</strong> 新增了在 <code>istioctl operator remove</code> 命令中使用 <code>--purge</code> 标志后，
将删除 Istio Operator 的所有修订。
<a href=https://github.com/istio/istio/issues/41547>Issue #41547</a></p></li><li><p><strong>新增</strong> 新增了支持通过 Helm 安装允许 CSR 签名者的功能。
<a href=https://github.com/istio/istio/pull/41923>PR #41923</a></p></li><li><p><strong>新增</strong> 新增了 Gateway 通过 Helm 部署的输入项，
用于显式设置网关 Deployment 的 <code>imagePullPolicy</code>。
<a href=https://github.com/istio/istio/issues/42852>Issue #42852</a></p></li><li><p><strong>修复</strong> 修复了指定 <code>--revision default</code> 时 <code>istioctl install</code> 会失败的问题。
<a href=https://github.com/istio/istio/pull/41912>PR #41912</a></p></li><li><p><strong>修复</strong> 修复了当未指定 <code>--revision</code> 或使用 <code>default</code> 设置时，
<code>istioctl verify-install</code> 的行为不一致的问题。
<a href=https://github.com/istio/istio/pull/41912>PR #41912</a></p></li><li><p><strong>修复</strong> 修复了设置多个修订标签时，<code>mutatingwebhook</code> 不会被拆分的问题。
<a href=https://github.com/istio/istio/issues/42234>Issue #42234</a></p></li><li><p><strong>修复</strong> 修复了为 Pilot 的安全 gRPC 服务器在默认位置提供服务证书初始化的问题。
<a href=https://github.com/istio/istio/issues/42249>Issue #42249</a></p></li><li><p><strong>修复</strong> 修复了 <code>appProtocol</code> 字段在 IstioOperator
<code>ServicePort</code> 中没有生效的问题。
<a href=https://github.com/istio/istio/issues/42759>Issue #42759</a></p></li><li><p><strong>修复</strong> 修复了网关 Pod 不遵守 Helm Values 中设定的
<code>global.imagePullPolicy</code> 的问题。
<a href=https://github.com/istio/istio/pull/42026>PR #42026</a></p></li><li><p><strong>移除</strong> 移除了当 CNI 用作独立插件时，如果 istio-cni
不是默认的 CNI 插件会发出警告的机制。
<a href=https://github.com/istio/istio/pull/41858>PR #41858</a></p></li><li><p><strong>移除</strong> 移除了从 istio-operator 的 URL 中获取图表的能力。
<a href=https://github.com/istio/istio/issues/41704>Issue #41704</a></p></li></ul><h2 id=istioctl>istioctl</h2><ul><li><p><strong>新增</strong> 新增了在 <code>Istiods</code> 之间切换控制时，
管理日志中具有 <code>revision</code> 标志。
<a href=https://github.com/istio/istio/pull/41321>PR #41321</a></p></li><li><p><strong>更新</strong> 更新了 <code>admin log</code> 命令中的 <code>-r</code> 标志为 <code>--revision</code>
的简写，以与其他命令保持一致（最初 <code>-r</code> 是 <code>--reset</code> 的简写）。
<a href=https://github.com/istio/istio/pull/41321>PR #41321</a></p></li><li><p><strong>更新</strong> 更新了 <code>client-go</code> 到 <code>v1.26.1</code>，
同时移除了对 <code>azure</code> 和 <code>gcp</code> 授权插件的支持。
<a href=https://github.com/istio/istio/pull/43101>PR #43101</a></p></li><li><p><strong>新增</strong> 新增了 <code>istioctl proxy-config ecds</code> 从
Envoy 中为指定的 Pod 检索类型扩展配置。
<a href=https://github.com/istio/istio/pull/42365>PR #42365</a></p></li><li><p><strong>新增</strong> 新增了能够使用 <code>istioctl proxy-config log</code>
命令为 Deployment 的所有 Pod 设置代理日志级别。
<a href=https://github.com/istio/istio/issues/42919>Issue #42919</a></p></li><li><p><strong>新增</strong> 新增了 <code>istioctl analyze</code> 命令中
<code>--revision</code> 标志，以指定特定的修订版。
<a href=https://github.com/istio/istio/issues/38148>Issue #38148</a></p></li><li><p><strong>修复</strong> 修复了清单 URL 路径（用于从 <code>Github</code>
版本下载 Istio 版本）以支持多架构而不使用硬编码的问题。
<a href=https://github.com/istio/istio/pull/41483>PR #41483</a></p></li><li><p><strong>修复</strong> 修复了在不使用 <code>--cluster-specific</code> 选项的情况下，
使用 <code>istioctl</code> 通过 Helm Chart 库生成清单的默认行为，
替代使用 <code>istioctl</code> 定义的最低 Kubernetes 版本的问题。
<a href=https://github.com/istio/istio/issues/42441>Issue #42441</a></p></li><li><p><strong>修复</strong> 修复了在 <code>EnvoyFilter.ListenerMatch.FilterChainMatch</code>
下缺少可选字段 <code>filter</code> 时 <code>istioctl analyze</code> 抛出 <code>SIGSEGV</code> 的问题。
<a href=https://github.com/istio/istio/issues/42831>Issue #42831</a></p></li><li><p><strong>修复</strong> 修复了当用户使用 <code>--proxy-admin-port</code> 指定自定义代理管理端口时，
<code>istioctl proxy-config</code> 失败的问题。
<a href=https://github.com/istio/istio/issues/43063>Issue #43063</a></p></li><li><p><strong>修复</strong> 修复了 <code>istioctl version</code> 与自定义版本不兼容的问题。
<a href=https://github.com/istio/istio/pull/41650>PR #41650</a></p></li><li><p><strong>修复</strong> 修复了 <code>istioctl validate</code> 未检测到服务端口 <code>appProtocol</code> 的问题。
<a href=https://github.com/istio/istio/pull/41517>PR #41517</a></p></li><li><p><strong>修复</strong> 修复了 <code>istioctl proxy-config endpoint -f -</code>
返回 <code>Error: open -: no such file or directory</code> 的问题。
<a href=https://github.com/istio/istio/issues/43045>Issue #43045</a></p></li></ul><h2 id=documentation-changes>文档变更</h2><ul><li><p><strong>修复</strong> 修复了 <code>pilot-discovery</code> 环境变量名称由
<code>VERIFY_CERT_AT_CLIENT</code> 变更为 <code>VERIFY_CERTIFICATE_AT_CLIENT</code>。
<a href=https://github.com/istio/api/pull/2596>PR #2596</a></p></li><li><p><strong>移除</strong> 移除了关于不支持委托 VirtualService 正则表达式的评论。
<a href=https://github.com/istio/api/issues/2527>Issue #2527</a></p></li></ul></div><nav class=pagenav><div class=left></div><div class=right><a title="升级到 Istio 1.17 时要考虑的重要变更。" href=/v1.18/zh/news/releases/1.17.x/announcing-1.17/upgrade-notes/ class=next-link>Istio 1.17 升级说明<svg class="icon right-arrow"><use xlink:href="/v1.18/img/icons.svg#right-arrow"/></svg></a></div></nav></article><footer class=footer><div class="footer-wrapper container-l"><div class="user-links footer-links"><a class=channel title='Istio 的代码在 GitHub 上开发' href=https://github.com/istio/community aria-label=GitHub><svg class="icon github"><use xlink:href="/v1.18/img/icons.svg#github"/></svg></a><a class=channel title='如果您想深入了解 Istio 的技术细节，请查看我们日益完善的设计文档' href=https://groups.google.com/forum/#!forum/istio-team-drive-access aria-label="team drive"><svg class="icon drive"><use xlink:href="/v1.18/img/icons.svg#drive"/></svg></a><a class=channel title='在 Slack 上与 Istio 社区交互讨论开发问题（仅限邀请）' href=https://slack.istio.io aria-label=slack><svg class="icon slack"><use xlink:href="/v1.18/img/icons.svg#slack"/></svg></a><a class=channel title='Stack Overflow 中列举了针对实际问题以及部署、配置和使用 Istio 的各项回答' href=https://stackoverflow.com/questions/tagged/istio aria-label="Stack Overflow"><svg class="icon stackoverflow"><use xlink:href="/v1.18/img/icons.svg#stackoverflow"/></svg></a><a class=channel title='关注我们的 Twitter 来获取最新信息' href=https://twitter.com/IstioMesh aria-label=Twitter><svg class="icon twitter"><use xlink:href="/v1.18/img/icons.svg#twitter"/></svg></a></div><hr class=footer-separator role=separator><div class="info footer-info"><a class=logo href=/v1.18/zh/ aria-label=logotype><svg xmlns="http://www.w3.org/2000/svg" width="128" height="60" viewBox="0 0 128 60"><path d="M58.434 48.823A.441.441.0 0158.3 48.497V22.583a.444.444.0 01.134-.326.446.446.0 01.327-.134h3.527a.447.447.0 01.325.134.447.447.0 01.134.326v25.914a.443.443.0 01-.134.326.444.444.0 01-.325.134h-3.527a.444.444.0 01-.327-.134z"/><path d="m70.969 48.477a6.556 6.556.0 01-2.818-1.955 4.338 4.338.0 01-1-2.78v-.345a.443.443.0 01.134-.326.444.444.0 01.326-.135h3.374a.444.444.0 01.326.135.445.445.0 01.134.326v.077a2.014 2.014.0 001.054 1.667 4.672 4.672.0 002.664.709 4.446 4.446.0 002.492-.633 1.862 1.862.0 00.958-1.591 1.426 1.426.0 00-.786-1.322 12.7 12.7.0 00-2.549-.939l-1.457-.46a21.526 21.526.0 01-3.3-1.227 6.57 6.57.0 01-2.262-1.783 4.435 4.435.0 01-.92-2.894 5.081 5.081.0 012.109-4.275 8.993 8.993.0 015.558-1.591 10.445 10.445.0 014.1.748 6.3 6.3.0 012.722 2.07 5 5 0 01.958 3.009.441.441.0 01-.134.326.441.441.0 01-.325.134h-3.258a.441.441.0 01-.326-.134.443.443.0 01-.134-.326 1.974 1.974.0 00-.978-1.667 4.647 4.647.0 00-2.665-.671 4.741 4.741.0 00-2.435.556 1.724 1.724.0 00-.938 1.553 1.512 1.512.0 00.9 1.4 15.875 15.875.0 003.01 1.055l.843.229a27.368 27.368.0 013.412 1.246 6.67 6.67.0 012.338 1.763 4.387 4.387.0 01.958 2.933 4.988 4.988.0 01-2.146 4.275 9.543 9.543.0 01-5.712 1.552 11.626 11.626.0 01-4.227-.709z"/><path d="m97.039 32.837a.443.443.0 01-.326.135h-3.911a.169.169.0 00-.191.192v9.239a2.951 2.951.0 00.632 2.108 2.7 2.7.0 002.013.652h1.15a.444.444.0 01.325.134.441.441.0 01.134.326v2.875a.471.471.0 01-.459.5l-1.994.039a8 8 0 01-4.524-1.035q-1.495-1.035-1.533-3.91V33.166A.17.17.0 0088.164 32.974H85.978A.441.441.0 0185.652 32.839.441.441.0 0185.518 32.513V29.83a.441.441.0 01.134-.326.444.444.0 01.326-.135h2.186a.169.169.0 00.191-.192v-4.485a.438.438.0 01.134-.326.44.44.0 01.325-.134h3.336a.443.443.0 01.325.134.442.442.0 01.135.326v4.485a.169.169.0 00.191.192h3.911a.446.446.0 01.326.135.446.446.0 01.134.326v2.683a.446.446.0 01-.133.324z"/><path d="m101.694 25.917a2.645 2.645.0 01-.767-1.955 2.65 2.65.0 01.767-1.955 2.65 2.65.0 011.955-.767 2.65 2.65.0 011.955.767 2.652 2.652.0 01.767 1.955 2.647 2.647.0 01-.767 1.955 2.646 2.646.0 01-1.955.767 2.645 2.645.0 01-1.955-.767zm-.211 22.906a.441.441.0 01-.134-.326V29.79a.444.444.0 01.134-.326.446.446.0 01.326-.134h3.527a.446.446.0 01.326.134.445.445.0 01.134.326v18.707a.443.443.0 01-.134.326.443.443.0 01-.326.134h-3.527a.443.443.0 01-.326-.134z"/><path d="m114.019 47.734a8.1 8.1.0 01-3.047-4.255 14.439 14.439.0 01-.652-4.37 14.3 14.3.0 01.614-4.371A7.869 7.869.0 01114 30.56a9.072 9.072.0 015.252-1.5 8.543 8.543.0 015.041 1.5 7.985 7.985.0 013.009 4.14 12.439 12.439.0 01.69 4.37 13.793 13.793.0 01-.651 4.37 8.255 8.255.0 01-3.028 4.275 8.475 8.475.0 01-5.1 1.553 8.754 8.754.0 01-5.194-1.534zm7.629-3.1a4.536 4.536.0 001.476-2.262 11.335 11.335.0 00.383-3.221 10.618 10.618.0 00-.383-3.22 4.169 4.169.0 00-1.457-2.243 4.066 4.066.0 00-2.531-.785 3.942 3.942.0 00-2.453.785 4.376 4.376.0 00-1.5 2.243 11.839 11.839.0 00-.383 3.22 11.84 11.84.0 00.383 3.221 4.222 4.222.0 001.476 2.262 4.075 4.075.0 002.549.8 3.8 3.8.0 002.44-.809z"/><path d="m15.105 32.057v15.565a.059.059.0 01-.049.059L.069 50.25A.06.06.0 01.005 50.167l14.987-33.47a.06.06.0 01.114.025z"/><path d="m17.631 23.087v24.6a.06.06.0 00.053.059l22.449 2.507a.06.06.0 00.061-.084L17.745.032a.06.06.0 00-.114.024z"/><path d="m39.961 52.548-24.833 7.45a.062.062.0 01-.043.0L.079 52.548a.059.059.0 01.026-.113h39.839a.06.06.0 01.017.113z"/></svg></a><div class=footer-languages><a tabindex=-1 lang=en id=switch-lang-en class=footer-languages-item>English</a>
<a tabindex=-1 lang=zh id=switch-lang-zh class="footer-languages-item active"><svg class="icon tick"><use xlink:href="/v1.18/img/icons.svg#tick"/></svg>中文</a></div></div><ul class=footer-policies><li class=footer-policies-item><a class=footer-policies-link href=https://www.linuxfoundation.org/legal/terms>条款</a> |
<a class=footer-policies-link href=https://www.linuxfoundation.org/legal/privacy-policy>隐私政策</a> |
<a class=footer-policies-link href=https://github.com/istio/istio.io/edit/release-1.18/content/zh/news/releases/1.17.x/announcing-1.17/change-notes/index.md>在 GitHub 上编辑此页</a></li></ul><div class=footer-base><span class=footer-base-copyright>&copy; 2023 the Istio Authors.</span>
<span class=footer-base-version>部分内容可能滞后于英文版本，同步工作正在进行中<br>版本
Istio 归档
1.18.2</span><ul class=footer-base-releases><li class=footer-base-releases-item><a tabindex=-1 class=footer-base-releases-link onclick='return navigateToUrlOrRoot("https://istio.io/news/releases/1.17.x/announcing-1.17/change-notes/"),!1'>当前版本</a></li><li class=footer-base-releases-item><a tabindex=-1 class=footer-base-releases-link onclick='return navigateToUrlOrRoot("https://preliminary.istio.io/news/releases/1.17.x/announcing-1.17/change-notes/"),!1'>下个版本</a></li><li class=footer-base-releases-item><a tabindex=-1 class=footer-base-releases-link href=https://istio.io/archive>旧版本</a></li></ul></div></div></footer><div id=scroll-to-top-container aria-hidden=true><button id=scroll-to-top title=回到顶部 tabindex=-1><svg class="icon top"><use xlink:href="/v1.18/img/icons.svg#top"/></svg></button></div></body></html>