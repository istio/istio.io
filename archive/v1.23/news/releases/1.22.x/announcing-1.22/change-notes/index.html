<!doctype html><html lang=en itemscope itemtype=https://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=theme-color content="#466BB0"><meta name=title content="Istio 1.22.0 Change Notes"><meta name=description content="Istio 1.22.0 release notes."><meta name=keywords content="microservices,services,mesh"><meta property="og:title" content="Istio 1.22.0 Change Notes"><meta property="og:type" content="website"><meta property="og:description" content="Istio 1.22.0 release notes."><meta property="og:url" content="/v1.23/news/releases/1.22.x/announcing-1.22/change-notes/"><meta property="og:image" content="https://raw.githubusercontent.com/istio/istio.io/master/static/img/istio-social.png"><meta property="og:image:alt" content="The Istio sailboat logo"><meta property="og:image:width" content="4096"><meta property="og:image:height" content="2048"><meta property="og:site_name" content="Istio"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@IstioMesh"><title>Istioldie 1.23 / Istio 1.22.0 Change Notes</title>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5XBWY4YJ1E"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-5XBWY4YJ1E")</script><link rel=alternate type=application/rss+xml title="Istio Blog" href=/v1.23/blog/feed.xml><link rel=alternate type=application/rss+xml title="Istio News" href=/v1.23/news/feed.xml><link rel=alternate type=application/rss+xml title="Istio Blog and News" href=/v1.23/feed.xml><link rel="shortcut icon" href=/v1.23/favicons/favicon.ico><link rel=apple-touch-icon href=/v1.23/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/v1.23/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/v1.23/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/v1.23/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/v1.23/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/v1.23/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/v1.23/favicons/android-96x96.png sizes=96xW96><link rel=icon type=image/png href=/v1.23/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/v1.23/favicons/android-192x192.png sizes=192x192><link rel=icon type=image/svg+xml href=/v1.23/favicons/favicon.svg><link rel=icon type=image/png href=/v1.23/favicons/favicon.png><link rel=mask-icon href=/v1.23/favicons/safari-pinned-tab.svg color=#466BB0><link rel=manifest href=/v1.23/manifest.json><meta name=apple-mobile-web-app-title content="Istio"><meta name=application-name content="Istio"><meta name=msapplication-config content="/browserconfig.xml"><meta name=msapplication-TileColor content="#466BB0"><meta name=theme-color content="#466BB0"><link rel=stylesheet href=/v1.23/css/all.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,400;0,500;0,600;0,700;1,400;1,600&display=swap"><script src=/v1.23/js/themes_init.min.js></script></head><body class="language-unknown archive-site"><script>const branchName="release-1.23",docTitle="Istio 1.22.0 Change Notes",iconFile="/v1.23//img/icons.svg",buttonCopy="Copy to clipboard",buttonPrint="Print",buttonDownload="Download"</script><script src="https://www.google.com/cse/brand?form=search-form" defer></script><script src=/v1.23/js/all.min.js data-manual defer></script><header class=main-navigation><nav class="main-navigation-wrapper container-l"><div class=main-navigation-header><a id=brand href=/v1.23/ aria-label=logotype><span class=logo><svg width="128" height="60" viewBox="0 0 128 60"><path d="M58.434 48.823A.441.441.0 0158.3 48.497V22.583a.444.444.0 01.134-.326.446.446.0 01.327-.134h3.527a.447.447.0 01.325.134.447.447.0 01.134.326v25.914a.443.443.0 01-.134.326.444.444.0 01-.325.134h-3.527a.444.444.0 01-.327-.134z"/><path d="m70.969 48.477a6.556 6.556.0 01-2.818-1.955 4.338 4.338.0 01-1-2.78v-.345a.443.443.0 01.134-.326.444.444.0 01.326-.135h3.374a.444.444.0 01.326.135.445.445.0 01.134.326v.077a2.014 2.014.0 001.054 1.667 4.672 4.672.0 002.664.709 4.446 4.446.0 002.492-.633 1.862 1.862.0 00.958-1.591 1.426 1.426.0 00-.786-1.322 12.7 12.7.0 00-2.549-.939l-1.457-.46a21.526 21.526.0 01-3.3-1.227 6.57 6.57.0 01-2.262-1.783 4.435 4.435.0 01-.92-2.894 5.081 5.081.0 012.109-4.275 8.993 8.993.0 015.558-1.591 10.445 10.445.0 014.1.748 6.3 6.3.0 012.722 2.07 5 5 0 01.958 3.009.441.441.0 01-.134.326.441.441.0 01-.325.134h-3.258a.441.441.0 01-.326-.134.443.443.0 01-.134-.326 1.974 1.974.0 00-.978-1.667 4.647 4.647.0 00-2.665-.671 4.741 4.741.0 00-2.435.556 1.724 1.724.0 00-.938 1.553 1.512 1.512.0 00.9 1.4 15.875 15.875.0 003.01 1.055l.843.229a27.368 27.368.0 013.412 1.246 6.67 6.67.0 012.338 1.763 4.387 4.387.0 01.958 2.933 4.988 4.988.0 01-2.146 4.275 9.543 9.543.0 01-5.712 1.552 11.626 11.626.0 01-4.227-.709z"/><path d="m97.039 32.837a.443.443.0 01-.326.135h-3.911a.169.169.0 00-.191.192v9.239a2.951 2.951.0 00.632 2.108 2.7 2.7.0 002.013.652h1.15a.444.444.0 01.325.134.441.441.0 01.134.326v2.875a.471.471.0 01-.459.5l-1.994.039a8 8 0 01-4.524-1.035q-1.495-1.035-1.533-3.91V33.166A.17.17.0 0088.164 32.974H85.978A.441.441.0 0185.652 32.839.441.441.0 0185.518 32.513V29.83a.441.441.0 01.134-.326.444.444.0 01.326-.135h2.186a.169.169.0 00.191-.192v-4.485a.438.438.0 01.134-.326.44.44.0 01.325-.134h3.336a.443.443.0 01.325.134.442.442.0 01.135.326v4.485a.169.169.0 00.191.192h3.911a.446.446.0 01.326.135.446.446.0 01.134.326v2.683a.446.446.0 01-.133.324z"/><path d="m101.694 25.917a2.645 2.645.0 01-.767-1.955 2.65 2.65.0 01.767-1.955 2.65 2.65.0 011.955-.767 2.65 2.65.0 011.955.767 2.652 2.652.0 01.767 1.955 2.647 2.647.0 01-.767 1.955 2.646 2.646.0 01-1.955.767 2.645 2.645.0 01-1.955-.767zm-.211 22.906a.441.441.0 01-.134-.326V29.79a.444.444.0 01.134-.326.446.446.0 01.326-.134h3.527a.446.446.0 01.326.134.445.445.0 01.134.326v18.707a.443.443.0 01-.134.326.443.443.0 01-.326.134h-3.527a.443.443.0 01-.326-.134z"/><path d="m114.019 47.734a8.1 8.1.0 01-3.047-4.255 14.439 14.439.0 01-.652-4.37 14.3 14.3.0 01.614-4.371A7.869 7.869.0 01114 30.56a9.072 9.072.0 015.252-1.5 8.543 8.543.0 015.041 1.5 7.985 7.985.0 013.009 4.14 12.439 12.439.0 01.69 4.37 13.793 13.793.0 01-.651 4.37 8.255 8.255.0 01-3.028 4.275 8.475 8.475.0 01-5.1 1.553 8.754 8.754.0 01-5.194-1.534zm7.629-3.1a4.536 4.536.0 001.476-2.262 11.335 11.335.0 00.383-3.221 10.618 10.618.0 00-.383-3.22 4.169 4.169.0 00-1.457-2.243 4.066 4.066.0 00-2.531-.785 3.942 3.942.0 00-2.453.785 4.376 4.376.0 00-1.5 2.243 11.839 11.839.0 00-.383 3.22 11.84 11.84.0 00.383 3.221 4.222 4.222.0 001.476 2.262 4.075 4.075.0 002.549.8 3.8 3.8.0 002.44-.809z"/><path d="m15.105 32.057v15.565a.059.059.0 01-.049.059L.069 50.25A.06.06.0 01.005 50.167l14.987-33.47a.06.06.0 01.114.025z"/><path d="m17.631 23.087v24.6a.06.06.0 00.053.059l22.449 2.507a.06.06.0 00.061-.084L17.745.032a.06.06.0 00-.114.024z"/><path d="m39.961 52.548-24.833 7.45a.062.062.0 01-.043.0L.079 52.548a.059.059.0 01.026-.113h39.839a.06.06.0 01.017.113z"/></svg></span>
</a><button id=hamburger class=main-navigation-toggle aria-label="Open navigation">
<svg class="icon menu-hamburger"><use xlink:href="/v1.23/img/icons.svg#menu-hamburger"/></svg>
</button>
<button id=menu-close class=main-navigation-toggle aria-label="Close navigation"><svg class="icon menu-close"><use xlink:href="/v1.23/img/icons.svg#menu-close"/></svg></button></div><div id=header-links class=main-navigation-links-wrapper><ul class=main-navigation-links><li class=main-navigation-links-item><a class="main-navigation-links-link has-dropdown"><span>About</span><svg class="icon dropdown-arrow"><use xlink:href="/v1.23/img/icons.svg#dropdown-arrow"/></svg></a><ul class=main-navigation-links-dropdown><li class=main-navigation-links-dropdown-item><a href=/v1.23/about/service-mesh class=main-navigation-links-link>Service mesh</a></li><li class=main-navigation-links-dropdown-item><a href=/v1.23/about/solutions class=main-navigation-links-link>Solutions</a></li><li class=main-navigation-links-dropdown-item><a href=/v1.23/about/case-studies class=main-navigation-links-link>Case studies</a></li><li class=main-navigation-links-dropdown-item><a href=/v1.23/about/ecosystem class=main-navigation-links-link>Ecosystem</a></li><li class=main-navigation-links-dropdown-item><a href=/v1.23/about/deployment class=main-navigation-links-link>Deployment</a></li><li class=main-navigation-links-dropdown-item><a href=/v1.23/about/training class=main-navigation-links-link>Training</a></li><li class=main-navigation-links-dropdown-item><a href=/v1.23/about/faq class=main-navigation-links-link>FAQ</a></li></ul></li><li class=main-navigation-links-item><a href=/v1.23/blog/ class=main-navigation-links-link><span>Blog</span></a></li><li class=main-navigation-links-item><a href=/v1.23/news/ class=main-navigation-links-link><span>News</span></a></li><li class=main-navigation-links-item><a href=/v1.23/get-involved/ class=main-navigation-links-link><span>Get involved</span></a></li><li class=main-navigation-links-item><a href=/v1.23/docs/ class=main-navigation-links-link><span>Documentation</span></a></li></ul><div class=main-navigation-footer><button id=search-show class=search-show title='Search this site' aria-label=Search><svg class="icon magnifier"><use xlink:href="/v1.23/img/icons.svg#magnifier"/></svg></button>
<a href=/v1.23/docs/setup/getting-started class="btn btn--primary" id=try-istio>Try Istio</a></div></div><form id=search-form class=search name=cse role=search><input type=hidden name=cx value=002184991200833970123:iwwf17ikgf4>
<input type=hidden name=ie value=utf-8>
<input type=hidden name=hl value=en>
<input type=hidden id=search-page-url value=/search>
<input id=search-textbox class="search-textbox form-control" name=q type=search aria-label='Search this site' placeholder=Search>
<button id=search-close title='Cancel search' type=reset aria-label='Cancel search'><svg class="icon menu-close"><use xlink:href="/v1.23/img/icons.svg#menu-close"/></svg></button></form></nav></header><div class=banner-container><a href=https://events.linuxfoundation.org/kubecon-cloudnativecon-north-america/co-located-events/istio-day/ class=banner data-title="Istio Day North America-2024-10-28 00:00:00 +0000 UTC" data-period-start=1730073600000 data-period-end=1731369600000 data-max-impressions data-timeout><div class=content><p>Join us for Istio Day North America, a KubeCon + CloudNativeCon North America Co-located Event. 12 November 2024, Salt Lake City, Utah. Register now!</p></div><div class=frame></div></a></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><div class=header-content><h1>Istio 1.22.0 Change Notes</h1><p>Istio 1.22.0 release notes.</p></div><p class=post-author>May 13, 2024</p><div><h2 id=deprecation-notices>Deprecation Notices</h2><p>These notices describe functionality that will be removed in a future release according to <a href=/v1.23/docs/releases/feature-stages/#feature-phase-definition>Istio&rsquo;s deprecation policy</a>. Please consider upgrading your environment to remove the deprecated functionality.</p><ul><li><strong>Deprecated</strong> usage of <code>values.istio_cni</code> in favor of <code>values.pilot.cni</code>.
(<a href=https://github.com/istio/istio/issues/49290>Issue #49290</a>)</li></ul><h2 id=traffic-management>Traffic Management</h2><ul><li><p><strong>Improved</strong> <code>ServiceEntry</code> with <code>resolution: NONE</code> to respect <code>targetPort</code>, if specified.
This is particularly useful when doing TLS origination, allowing to set <code>port:80, targetPort: 443</code>.
If undesired, set <code>--compatibilityVersion=1.21</code> to revert to the old behavior or remove the <code>targetPort</code> specification.</p></li><li><p><strong>Added</strong> support for skipping the initial installation of the CNI entirely.</p></li><li><p><strong>Added</strong> a node taint controller to istiod which removes the <code>cni.istio.io/not-ready</code> taint from a node once the Istio CNI pod is ready on that node.
(<a href=https://github.com/istio/istio/issues/48818>Issue #48818</a>),(<a href=https://github.com/istio/istio/issues/48286>Issue #48286</a>)</p></li><li><p><strong>Added</strong> endpoints acked generation to the proxy distribution report available through the pilot debug API <code>/debug/config_distribution</code>.
(<a href=https://github.com/istio/istio/issues/48985>Issue #48985</a>)</p></li><li><p><strong>Added</strong> support for configuring waypoint proxies for Services.</p></li><li><p><strong>Added</strong> capability to annotate pods, services, namespaces and other similar kinds with an annotation, <code>istio.io/use-waypoint</code>, to specify a waypoint in the form <code>[&lt;namespace name>/]&lt;waypoint name></code>. This replaces the old requirement for waypoints either being scoped to the entire namespace or to a single service account. Opting out of a waypoint can also be done with a value of <code>#none</code> to allow a namespace-wide waypoint where specific pods or services are not guarded by a waypoint allowing greater flexibility in waypoint specification and use.
(<a href=https://github.com/istio/istio/issues/49436>Issue #49436</a>)</p></li><li><p><strong>Added</strong> support for the <code>istio.io/waypoint-for</code> annotations in waypoint proxies.
(<a href=https://github.com/istio/istio/issues/49851>Issue #49851</a>)</p></li><li><p><strong>Added</strong> a check to prevent creation of ztunnel config when user has specified a gateway as <code>targetRef</code> in their AuthorizationPolicy.
(<a href=https://github.com/istio/istio/issues/50110>Issue #50110</a>)</p></li><li><p><strong>Added</strong> the annotation <code>networking.istio.io/address-type</code> to allow <code>istio</code> class Gateways to use <code>ClusterIP</code> for status addresses.</p></li><li><p><strong>Added</strong> the ability to annotate workloads or services with <code>istio.io/use-waypoint</code> pointing to Gateways of arbitrary gateway classes.
These changes allow configuring a standard Istio gateway as a waypoint.
For this to work, it must be configured as a <code>ClusterIP</code> Service with
redirection enabled. This is colloquially referred to as a &ldquo;gateway
sandwich&rdquo; where the ztunnel layer handles mTLS.
(<a href=https://github.com/istio/istio/issues/48362>Issue #48362</a>)</p></li><li><p><strong>Added</strong> functionality to enroll individual pods into ambient by labeling them with <code>istio.io/dataplane-mode=ambient</code>.
(<a href=https://github.com/istio/istio/issues/50355>Issue #50355</a>)</p></li><li><p><strong>Added</strong> the ability to allow pods to be opted out of ambient redirection by using the <code>istio.io/dataplane-mode=none</code> label.
(<a href=https://github.com/istio/istio/issues/50736>Issue #50736</a>)</p></li><li><p><strong>Removed</strong> the ability to opt-out pods from ambient redirection using the <code>ambient.istio.io/redirection=disabled</code> annotation, as that is a status annotation reserved for the CNI.
(<a href=https://github.com/istio/istio/issues/50736>Issue #50736</a>)</p></li><li><p><strong>Added</strong> an environment variable for istiod <code>PILOT_GATEWAY_API_DEFAULT_GATEWAYCLASS_NAME</code> that allows overriding the name of the default <code>GatewayClass</code> Gateway API resource. The default value is <code>istio</code>.</p></li><li><p><strong>Added</strong> an environment variable for istiod <code>PILOT_GATEWAY_API_CONTROLLER_NAME</code> that allows overriding the name of the Istio Gateway API controller as exposed in the <code>spec.controllerName</code> field in the <code>GatewayClass</code> resource. The default value is <code>istio.io/gateway-controller</code>.</p></li><li><p><strong>Added</strong> support for using the PROXY Protocol for outbound traffic. By specifying <code>proxyProtocol</code> in a <code>DestinationRule.trafficPolicy</code>,
the sidecar will send PROXY Protocol headers to the upstream service. This feature is not supported with HBONE proxy for now.</p></li><li><p><strong>Added</strong> validation checks to reject <code>DestinationRules</code> with duplicate subset names.</p></li><li><p><strong>Added</strong> field <code>supportedFeatures</code> on a Gateway API&rsquo;s class status before the controller accepts the Gateway class.
(<a href=https://github.com/kubernetes-sigs/gateway-api/issues/2162>Issue #2162</a>)</p></li><li><p><strong>Added</strong> checking services&rsquo; <code>Resolution</code>, <code>LabelSelector</code>, <code>ServiceRegistry</code>, and namespace when merging services during <code>SidecarScope</code> construction.</p></li><li><p><strong>Enabled</strong> <a href=https://www.envoyproxy.io/docs/envoy/latest/api-docs/xds_protocol#incremental-xds>Delta xDS</a> by default. See upgrade notes for more information.
(<a href=https://github.com/istio/istio/issues/47949>Issue #47949</a>)</p></li><li><p><strong>Fixed</strong> an issue where the Kubernetes gateway was not working correctly with the namespace-scoped waypoint proxy.</p></li><li><p><strong>Fixed</strong> an issue where the delta ADS client received a response which contained <code>RemoveResources</code>.</p></li><li><p><strong>Fixed</strong> an issue that when using <code>withoutHeaders</code> to configure route matching rules in <code>VirtualService</code>.
If the fields specified in <code>withoutHeaders</code> do not exist in the request header, Istio cannot match the request.
(<a href=https://github.com/istio/istio/issues/49537>Issue #49537</a>)</p></li><li><p><strong>Fixed</strong> an issue where the priority of envoy filters is ignored when they are in root namespace and proxy namespace.
(<a href=https://github.com/istio/istio/issues/49555>Issue #49555</a>)</p></li><li><p><strong>Fixed</strong> an issue where <code>--log_as_json</code> option did not work for the <code>istio-init</code> container.
(<a href=https://github.com/istio/istio/issues/44352>Issue #44352</a>)</p></li><li><p><strong>Fixed</strong> an issue with massive Virtual IPs reshuffling when adding or removing a duplicated host.
(<a href=https://github.com/istio/istio/issues/49965>Issue #49965</a>)</p></li><li><p><strong>Fixed</strong> Gateway status addresses receiving Service VIPs from outside the cluster.</p></li><li><p><strong>Fixed</strong> annotation <code>use-waypoint</code> to be a label, for consistency.
(<a href=https://github.com/istio/istio/issues/50572>Issue #50572</a>)</p></li><li><p><strong>Fixed</strong> build EDS-typed cluster endpoints with domain address.
(<a href=https://github.com/istio/istio/issues/50688>Issue #50688</a>)</p></li><li><p><strong>Fixed</strong> a bug where injection template incorrectly evaluated when <code>InboundTrafficPolicy</code> was set to &ldquo;localhost&rdquo;.
(<a href=https://github.com/istio/istio/issues/50700>Issue #50700</a>)</p></li><li><p><strong>Fixed</strong> added server-side keepalive to waypoint HBONE endpoints.
(<a href=https://github.com/istio/istio/issues/50737>Issue #50737</a>)</p></li><li><p><strong>Fixed</strong> empty prefix match in <code>HTTPMatchRequest</code> not being rejected by the validating webhook.
(<a href=https://github.com/istio/istio/issues/48534>Issue #48534</a>)</p></li><li><p><strong>Fixed</strong> a behavioral change in Istio 1.20 that caused merging of <code>ServiceEntries</code> with the same hostname and port names
to give unexpected results.
(<a href=https://github.com/istio/istio/issues/50478>Issue #50478</a>)</p></li><li><p><strong>Fixed</strong> a bug when a Sidecar resource not merging ports correctly when it is configured with multiple egress listeners with different ports of a Kubernetes service. This lead to creating only one Cluster with the first port, and the second port was ignored.</p></li><li><p><strong>Fixed</strong> an issue causing routes to be overwritten by other virtual services.</p></li><li><p><strong>Removed</strong> the <code>values.cni.privileged</code> flag from <code>istio-cni</code> node agent chart in favor of feature-specific permissions.
(<a href=https://github.com/istio/istio/issues/49004>Issue #49004</a>)</p></li><li><p><strong>Removed</strong> the <code>PILOT_ENABLE_HEADLESS_SERVICE_POD_LISTENERS</code> feature flag.</p></li><li><p><strong>Removed</strong> the <code>PILOT_ENABLE_INBOUND_PASSTHROUGH</code> setting, which has been enabled-by-default for the past 8 releases.
This feature can now be configured using a new <a href=https://github.com/istio/api/blob/9911a0a6990a18a45ed1b00559156dcc7e836e52/mesh/v1alpha1/config.proto#L203>Inbound Traffic Policy Mode</a>.</p></li></ul><h2 id=security>Security</h2><ul><li><p><strong>Updated</strong> the default value of the feature flag <code>ENABLE_AUTO_ENHANCED_RESOURCE_SCOPING</code> to <code>true</code>.</p></li><li><p><strong>Added</strong> support for path templating in <code>AuthorizationPolicy</code>. See Envoy URI template <a href=https://www.envoyproxy.io/docs/envoy/latest/api-v3/extensions/path/match/uri_template/v3/uri_template_match.proto>docs</a>.
(<a href=https://github.com/istio/istio/issues/16585>Issue #16585</a>)</p></li><li><p><strong>Added</strong> support for customizing the connection timeout setting when resolving <code>jwksUri</code>.
(<a href=https://github.com/istio/istio/issues/47328>Issue #47328</a>)</p></li><li><p><strong>Added</strong> support for Istio CA to handle node authorization for CSRs with impersonating the identity of remote clusters.
This could help Istio CA to authenticate ztunnel in remote clusters in an external control plane scenario.
(<a href=https://github.com/istio/istio/issues/47489>Issue #47489</a>)</p></li><li><p><strong>Added</strong> an environment variable <code>METRICS_LOCALHOST_ACCESS_ONLY</code> for disabling metrics endpoint from outside of the pod, to allow only localhost access. User can set this with command arguments
<code>--set values.pilot.env.METRICS_LOCALHOST_ACCESS_ONLY=true</code> for control plane and <code>--set meshConfig.defaultConfig.proxyMetadata.METRICS_LOCALHOST_ACCESS_ONLY=true</code> for proxy during <code>istioctl</code> installation.</p></li><li><p><strong>Added</strong> Certificate Revocation List (CRL) support for peer certificate validation based on file paths specified in <code>ClientTLSSettings</code> in destination rule for Sidecars, and in <code>ServerTLSSettings</code> in Gateway for Gateways.</p></li><li><p><strong>Fixed</strong> list matching for the audience claims in JWT tokens.
(<a href=https://github.com/istio/istio/issues/49913>Issue #49913</a>)</p></li><li><p><strong>Removed</strong> the <code>first-party-jwt</code> legacy option for <code>values.global.jwtPolicy</code>. Support for the more secure <code>third-party-jwt</code>
has been default for many years and is supported in all Kubernetes platforms.</p></li></ul><h2 id=telemetry>Telemetry</h2><ul><li><p><strong>Improved</strong> JSON access logs to emit keys in a consistent order.</p></li><li><p><strong>Added</strong> option to export OpenTelemetry traces via HTTP.
(<a href=https://istio.io/latest/docs/reference/config/istio.mesh.v1alpha1/#MeshConfig-ExtensionProvider-OpenTelemetryTracingProvider>reference</a>) (<a href=https://github.com/istio/istio/issues/47835>Issue #47835</a>)</p></li><li><p><strong>Enabled</strong> configuring Dynatrace Sampler as the <code>OpenTelemetryTracingProvider</code> in <code>MeshConfig</code>.
(<a href=https://github.com/istio/istio/issues/50001>Issue #50001</a>)</p></li><li><p><strong>Enabled</strong> configuring Resource Detectors as the <code>OpenTelemetryTracingProvider</code> in <code>MeshConfig</code>.
(<a href=https://github.com/istio/istio/issues/48885>Issue #48885</a>)</p></li><li><p><strong>Fixed</strong> an issue where <code>TraceId</code> was not propagated when using OpenTelemetry access logger.
(<a href=https://github.com/istio/istio/issues/49911>Issue #49911</a>)</p></li><li><p><strong>Removed</strong> default tracing configuration that enables tracing to <code>zipkin.istio-system.svc</code>. See upgrade notes for more information.</p></li></ul><h2 id=extensibility>Extensibility</h2><ul><li><strong>Improved</strong> using the tag-stripped URL and checksum as a Wasm module cache key, where the tagged URL is separately cached.
This may increase the chance of cache hits (e.g., trying to find the same image with both of the tagged and digest URLs.)
In addition, this will be a base to implement <code>ImagePullPolicy</code>.</li></ul><h2 id=installation>Installation</h2><ul><li><p><strong>Improved</strong> Helm value field names to configure whether an existing CNI install
will be used. Instead of <code>values.istio_cni</code> the enablement fields will be in
<code>values.pilot.cni</code>, as istiod is the affected component.
The new setting is more clear than having <code>values.cni</code> for install config and <code>values.istio_cni</code>
for enablement in istiod. The old <code>values.istio_cni</code> fields will still be supported
for at least two releases.
(<a href=https://github.com/istio/istio/issues/49290>Issue #49290</a>)</p></li><li><p><strong>Improved</strong> the <code>meshConfig.defaultConfig.proxyMetadata</code> field to do a deep merge when overridden, rather than replacing all values.</p></li><li><p><strong>Added</strong> the ability to add customized annotations to istiod service account resource through the Helm chart.</p></li><li><p><strong>Added</strong> the <code>openshift-ambient</code> profile.
(<a href=https://github.com/istio/istio/issues/42341>Issue #42341</a>)</p></li><li><p><strong>Added</strong> a new, optional experimental admission policy that only allows stable features/fields to be used in Istio APIs.
(<a href=https://github.com/istio/enhancements/issues/173>Issue #173</a>)</p></li><li><p><strong>Added</strong> support for configuring CA bundles for validation and injection webhooks.</p></li><li><p><strong>Fixed</strong> gathering <code>pprof</code> data from the local ztunnel admin endpoint, which would fail due to the lack of a writable in-container <code>/tmp</code>.
(<a href=https://github.com/istio/istio/issues/50060>Issue #50060</a>)</p></li><li><p><strong>Removed</strong> deprecated <code>external</code> profile. Please use the <code>remote</code> profile instead for installation.
(<a href=https://github.com/istio/istio/issues/48634>Issue #48634</a>)</p></li></ul><h2 id=istioctl>istioctl</h2><ul><li><p><strong>Added</strong> the <code>istioctl proxy-status</code> command, which is the promoted <code>istioctl experimental proxy-status</code> command. The old <code>istioctl proxy-status</code> command has been removed.
This promotion should not result in any loss of functionality. However, the request is now sent based on xDS instead of HTTP, and we have introduced a set of new xDS-based flags to target the control plane.</p></li><li><p><strong>Added</strong> support for multi-cluster analysis in <code>istioctl analyze</code> command when there are remote cluster secrets set up through <a href=/v1.23/docs/setup/install/multicluster/>Install Multicluster</a>.</p></li><li><p><strong>Added</strong> a new <code>istioctl dashboard proxy</code> command, which can be used to show the admin UI of different proxy pods, for example: Envoy, ztunnel, and waypoint.</p></li><li><p><strong>Added</strong> the <code>--proxy</code> option to <code>istioctl experimental wait</code> command.
(<a href=https://github.com/istio/istio/issues/48696>Issue #48696</a>)</p></li><li><p><strong>Added</strong> namespace filtering to <code>istioctl proxy-config workload</code> command using the <code>--workloads-namespace</code> flag to display workloads in the specified namespace.</p></li><li><p><strong>Added</strong> the <code>istioctl dashboard istio-debug</code> command to display the Istio debug endpoints dashboard.</p></li><li><p><strong>Added</strong> the <code>istioctl experimental describe</code> command to support displaying the details of policies for <code>PortLevelSettings</code>.
(<a href=https://github.com/istio/istio/issues/49802>Issue #49802</a>)</p></li><li><p><strong>Added</strong> ability to define the traffic address type (service, workload, all or none) for waypoints via the <code>--for</code> flag when using the <code>istioctl experimental waypoint apply</code> command.
(<a href=https://github.com/istio/istio/issues/49896>Issue #49896</a>)</p></li><li><p><strong>Added</strong> the ability to name waypoints through <code>istioctl</code> via the <code>--name</code> flag on the waypoint command.
(<a href=https://github.com/istio/istio/issues/49915>Issue #49915</a>), (<a href=https://github.com/istio/istio/issues/50173>Issue #50173</a>)</p></li><li><p><strong>Removed</strong> the ability to specify a service account for the waypoint by deleting the <code>--service-account</code> flag on the waypoint command.
(<a href=https://github.com/istio/istio/issues/49915>Issue #49915</a>), (<a href=https://github.com/istio/istio/issues/50173>Issue #50173</a>)</p></li><li><p><strong>Added</strong> the ability to enroll a waypoint proxy in the waypoint&rsquo;s namespace through <code>istioctl</code> via the <code>--enroll-namespace</code> flag on the waypoint command.
(<a href=https://github.com/istio/istio/issues/50248>Issue #50248</a>)</p></li><li><p><strong>Added</strong> the <code>istioctl ztunnel-config</code> command. This allow users to view ztunnel configuration information via the <code>istioctl ztunnel-config workload</code> command.
(<a href=https://github.com/istio/istio/issues/49841>Issue #49841</a>)</p></li><li><p><strong>Removed</strong> the workload flag from proxy-config command. Use <code>istioctl ztunnel-config workload</code> command to view ztunnel configuration information instead.
(<a href=https://github.com/istio/istio/issues/49841>Issue #49841</a>)</p></li><li><p><strong>Added</strong> a warning when using <code>istioctl experimental waypoint apply --enroll-namespace</code> and the namespace is not labeled for ambient redirection.
(<a href=https://github.com/istio/istio/issues/50396>Issue #50396</a>)</p></li><li><p><strong>Added</strong> the <code>--for</code> flag to <code>istioctl experimental waypoint generate</code> command so that the user can preview the YAML before they apply it.
(<a href=https://github.com/istio/istio/issues/50790>Issue #50790</a>)</p></li><li><p><strong>Added</strong> an experimental OpenShift Kubernetes platform profile to <code>istioctl</code>. To install with the OpenShift profile, use <code>istioctl install --set profile=openshift</code>.
See <a href=https://istio.io/docs/setup/platform-setup/openshift/>OpenShift Platform Setup</a> and <a href=https://istio.io/docs/setup/install/istioctl/#install-a-different-profile>Install OpenShift using <code>istioctl</code></a> documents for more information.</p></li><li><p><strong>Added</strong> the flag <code>--proxy-admin-port</code> to the command <code>istioctl experimental envoy-stats</code> to set a custom proxy admin port.</p></li><li><p><strong>Fixed</strong> an issue where the <code>istioctl experimental proxy-status &lt;pod></code> compare command was not working due to unknown configs.</p></li><li><p><strong>Fixed</strong> the <code>istioctl describe</code> command not displaying Ingress information under non <code>istio-system</code> namespaces.
(<a href=https://github.com/istio/istio/issues/50074>Issue #50074</a>)</p></li></ul></div><nav class=pagenav><div class=left></div><div class=right><a title="Important changes to consider when upgrading to Istio 1.22.x." href=/v1.23/news/releases/1.22.x/announcing-1.22/upgrade-notes/ class=next-link>Istio 1.22 Upgrade Notes<svg class="icon right-arrow"><use xlink:href="/v1.23/img/icons.svg#right-arrow"/></svg></a></div></nav></article><footer class=footer><div class="footer-wrapper container-l"><div class="user-links footer-links"><a class=channel title='GitHub is where development takes place on Istio code' href=https://github.com/istio/community aria-label=GitHub><svg class="icon github"><use xlink:href="/v1.23/img/icons.svg#github"/></svg>
</a><a class=channel title="Access our team drive if you'd like to take a look at the Istio technical design documents" href=https://groups.google.com/forum/#!forum/istio-team-drive-access aria-label="team drive"><svg class="icon drive"><use xlink:href="/v1.23/img/icons.svg#drive"/></svg>
</a><a class=channel title='Interactively discuss issues with the Istio community on Slack' href=https://slack.istio.io aria-label=slack><svg class="icon slack"><use xlink:href="/v1.23/img/icons.svg#slack"/></svg>
</a><a class=channel title='Stack Overflow is where you can ask questions and find curated answers on deploying, configuring, and using Istio' href=https://stackoverflow.com/questions/tagged/istio aria-label="Stack Overflow"><svg class="icon stackoverflow"><use xlink:href="/v1.23/img/icons.svg#stackoverflow"/></svg>
</a><a class=channel title='Follow us on Twitter to get the latest news' href=https://twitter.com/IstioMesh aria-label=Twitter><svg class="icon twitter"><use xlink:href="/v1.23/img/icons.svg#twitter"/></svg></a></div><hr class=footer-separator role=separator><div class="info footer-info"><a class=logo href=/v1.23/ aria-label=logotype><svg width="128" height="60" viewBox="0 0 128 60"><path d="M58.434 48.823A.441.441.0 0158.3 48.497V22.583a.444.444.0 01.134-.326.446.446.0 01.327-.134h3.527a.447.447.0 01.325.134.447.447.0 01.134.326v25.914a.443.443.0 01-.134.326.444.444.0 01-.325.134h-3.527a.444.444.0 01-.327-.134z"/><path d="m70.969 48.477a6.556 6.556.0 01-2.818-1.955 4.338 4.338.0 01-1-2.78v-.345a.443.443.0 01.134-.326.444.444.0 01.326-.135h3.374a.444.444.0 01.326.135.445.445.0 01.134.326v.077a2.014 2.014.0 001.054 1.667 4.672 4.672.0 002.664.709 4.446 4.446.0 002.492-.633 1.862 1.862.0 00.958-1.591 1.426 1.426.0 00-.786-1.322 12.7 12.7.0 00-2.549-.939l-1.457-.46a21.526 21.526.0 01-3.3-1.227 6.57 6.57.0 01-2.262-1.783 4.435 4.435.0 01-.92-2.894 5.081 5.081.0 012.109-4.275 8.993 8.993.0 015.558-1.591 10.445 10.445.0 014.1.748 6.3 6.3.0 012.722 2.07 5 5 0 01.958 3.009.441.441.0 01-.134.326.441.441.0 01-.325.134h-3.258a.441.441.0 01-.326-.134.443.443.0 01-.134-.326 1.974 1.974.0 00-.978-1.667 4.647 4.647.0 00-2.665-.671 4.741 4.741.0 00-2.435.556 1.724 1.724.0 00-.938 1.553 1.512 1.512.0 00.9 1.4 15.875 15.875.0 003.01 1.055l.843.229a27.368 27.368.0 013.412 1.246 6.67 6.67.0 012.338 1.763 4.387 4.387.0 01.958 2.933 4.988 4.988.0 01-2.146 4.275 9.543 9.543.0 01-5.712 1.552 11.626 11.626.0 01-4.227-.709z"/><path d="m97.039 32.837a.443.443.0 01-.326.135h-3.911a.169.169.0 00-.191.192v9.239a2.951 2.951.0 00.632 2.108 2.7 2.7.0 002.013.652h1.15a.444.444.0 01.325.134.441.441.0 01.134.326v2.875a.471.471.0 01-.459.5l-1.994.039a8 8 0 01-4.524-1.035q-1.495-1.035-1.533-3.91V33.166A.17.17.0 0088.164 32.974H85.978A.441.441.0 0185.652 32.839.441.441.0 0185.518 32.513V29.83a.441.441.0 01.134-.326.444.444.0 01.326-.135h2.186a.169.169.0 00.191-.192v-4.485a.438.438.0 01.134-.326.44.44.0 01.325-.134h3.336a.443.443.0 01.325.134.442.442.0 01.135.326v4.485a.169.169.0 00.191.192h3.911a.446.446.0 01.326.135.446.446.0 01.134.326v2.683a.446.446.0 01-.133.324z"/><path d="m101.694 25.917a2.645 2.645.0 01-.767-1.955 2.65 2.65.0 01.767-1.955 2.65 2.65.0 011.955-.767 2.65 2.65.0 011.955.767 2.652 2.652.0 01.767 1.955 2.647 2.647.0 01-.767 1.955 2.646 2.646.0 01-1.955.767 2.645 2.645.0 01-1.955-.767zm-.211 22.906a.441.441.0 01-.134-.326V29.79a.444.444.0 01.134-.326.446.446.0 01.326-.134h3.527a.446.446.0 01.326.134.445.445.0 01.134.326v18.707a.443.443.0 01-.134.326.443.443.0 01-.326.134h-3.527a.443.443.0 01-.326-.134z"/><path d="m114.019 47.734a8.1 8.1.0 01-3.047-4.255 14.439 14.439.0 01-.652-4.37 14.3 14.3.0 01.614-4.371A7.869 7.869.0 01114 30.56a9.072 9.072.0 015.252-1.5 8.543 8.543.0 015.041 1.5 7.985 7.985.0 013.009 4.14 12.439 12.439.0 01.69 4.37 13.793 13.793.0 01-.651 4.37 8.255 8.255.0 01-3.028 4.275 8.475 8.475.0 01-5.1 1.553 8.754 8.754.0 01-5.194-1.534zm7.629-3.1a4.536 4.536.0 001.476-2.262 11.335 11.335.0 00.383-3.221 10.618 10.618.0 00-.383-3.22 4.169 4.169.0 00-1.457-2.243 4.066 4.066.0 00-2.531-.785 3.942 3.942.0 00-2.453.785 4.376 4.376.0 00-1.5 2.243 11.839 11.839.0 00-.383 3.22 11.84 11.84.0 00.383 3.221 4.222 4.222.0 001.476 2.262 4.075 4.075.0 002.549.8 3.8 3.8.0 002.44-.809z"/><path d="m15.105 32.057v15.565a.059.059.0 01-.049.059L.069 50.25A.06.06.0 01.005 50.167l14.987-33.47a.06.06.0 01.114.025z"/><path d="m17.631 23.087v24.6a.06.06.0 00.053.059l22.449 2.507a.06.06.0 00.061-.084L17.745.032a.06.06.0 00-.114.024z"/><path d="m39.961 52.548-24.833 7.45a.062.062.0 01-.043.0L.079 52.548a.059.059.0 01.026-.113h39.839a.06.06.0 01.017.113z"/></svg></a><div class=footer-languages><a tabindex=-1 lang=en id=switch-lang-en class="footer-languages-item active"><svg class="icon tick"><use xlink:href="/v1.23/img/icons.svg#tick"/></svg>
English
</a><a tabindex=-1 lang=zh id=switch-lang-zh class=footer-languages-item>中文</a></div></div><ul class=footer-policies><li class=footer-policies-item><a class=footer-policies-link href=https://www.linuxfoundation.org/legal/terms>Terms and Conditions
</a>|
<a class=footer-policies-link href=https://www.linuxfoundation.org/legal/privacy-policy>Privacy policy
</a>|
<a class=footer-policies-link href=https://www.linuxfoundation.org/legal/trademark-usage>Trademarks
</a>|
<a class=footer-policies-link href=https://github.com/istio/istio.io/edit/release-1.23/content/en/news/releases/1.22.x/announcing-1.22/change-notes/index.md>Edit this Page on GitHub</a></li></ul><div class=footer-base><span class=footer-base-copyright>&copy; 2024 the Istio Authors.</span>
<span class=footer-base-version>Version
Archive
1.23.3</span><ul class=footer-base-releases><li class=footer-base-releases-item><a tabindex=-1 class=footer-base-releases-link onclick='return navigateToUrlOrRoot("https://istio.io/news/releases/1.22.x/announcing-1.22/change-notes/"),!1'>current release</a></li><li class=footer-base-releases-item><a tabindex=-1 class=footer-base-releases-link onclick='return navigateToUrlOrRoot("https://preliminary.istio.io/news/releases/1.22.x/announcing-1.22/change-notes/"),!1'>next release</a></li><li class=footer-base-releases-item><a tabindex=-1 class=footer-base-releases-link href=https://istio.io/archive>older releases</a></li></ul></div></div></footer><div id=scroll-to-top-container aria-hidden=true><button id=scroll-to-top title='Back to top' tabindex=-1><svg class="icon top"><use xlink:href="/v1.23/img/icons.svg#top"/></svg></button></div></body></html>