<!doctype html><html lang=zh itemscope itemtype=https://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=theme-color content="#466BB0"><meta name=title content="Helm 安装参数变动表"><meta name=description content="本文详细介绍了 Istio 1.0 系列到 Istio 1.1 系列之间的安装参数变化详情。"><meta name=keywords content="microservices,services,mesh,kubernetes,helm,install,options"><meta property="og:title" content="Helm 安装参数变动表"><meta property="og:type" content="website"><meta property="og:description" content="本文详细介绍了 Istio 1.0 系列到 Istio 1.1 系列之间的安装参数变化详情。"><meta property="og:url" content="/v1.13/zh/news/releases/1.1.x/announcing-1.1/helm-changes/"><meta property="og:image" content="https://raw.githubusercontent.com/istio/istio.io/master/static/img/istio-whitelogo-bluebackground-framed.svg"><meta property="og:image:alt" content="Istio Logo"><meta property="og:image:width" content="1024"><meta property="og:image:height" content="1024"><meta property="og:site_name" content="Istio"><meta name=twitter:card content="summary"><meta name=twitter:site content="@IstioMesh"><title>Istioldie 1.13 / Helm 安装参数变动表</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-98480406-2"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-98480406-2")</script><link rel=alternate type=application/rss+xml title="Istio Blog" href=/v1.13/blog/feed.xml><link rel=alternate type=application/rss+xml title="Istio News" href=/v1.13/news/feed.xml><link rel=alternate type=application/rss+xml title="Istio Blog and News" href=/v1.13/feed.xml><link rel="shortcut icon" href=/v1.13/favicons/favicon.ico><link rel=apple-touch-icon href=/v1.13/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/v1.13/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/v1.13/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/v1.13/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/v1.13/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/v1.13/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/v1.13/favicons/android-96x96.png sizes=96xW96><link rel=icon type=image/png href=/v1.13/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/v1.13/favicons/android-192x192.png sizes=192x192><link rel=mask-icon href=/v1.13/favicons/safari-pinned-tab.svg color=#466bb0><link rel=manifest href=/v1.13/manifest.json><meta name=apple-mobile-web-app-title content="Istio"><meta name=application-name content="Istio"><meta name=msapplication-config content="/browserconfig.xml"><meta name=msapplication-TileColor content="#466BB0"><meta name=theme-color content="#466BB0"><link rel=stylesheet href=/v1.13/css/all.css><link rel=preconnect href=https://fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,400;0,500;0,600;0,700;1,400;1,600&display=swap"><script src=/v1.13/js/themes_init.min.js></script></head><body class="language-unknown archive-site"><script>const branchName="release-1.13",docTitle="Helm 安装参数变动表",iconFile="/v1.13/img/icons.svg",buttonCopy="复制到剪切板",buttonPrint="打印",buttonDownload="下载"</script><script src="https://www.google.com/cse/brand?form=search-form" defer></script>
<script src=/v1.13/js/all.min.js data-manual defer></script><header class=main-navigation><nav class="main-navigation-wrapper container-l"><div class=main-navigation-header><a id=brand href=/v1.13/zh/ aria-label=logotype><span class=logo><svg xmlns="http://www.w3.org/2000/svg" width="128" height="60" viewBox="0 0 128 60"><path d="M58.434 48.823A.441.441.0 0158.3 48.497V22.583a.444.444.0 01.134-.326.446.446.0 01.327-.134h3.527a.447.447.0 01.325.134.447.447.0 01.134.326v25.914a.443.443.0 01-.134.326.444.444.0 01-.325.134h-3.527a.444.444.0 01-.327-.134z"/><path d="m70.969 48.477a6.556 6.556.0 01-2.818-1.955 4.338 4.338.0 01-1-2.78v-.345a.443.443.0 01.134-.326.444.444.0 01.326-.135h3.374a.444.444.0 01.326.135.445.445.0 01.134.326v.077a2.014 2.014.0 001.054 1.667 4.672 4.672.0 002.664.709 4.446 4.446.0 002.492-.633 1.862 1.862.0 00.958-1.591 1.426 1.426.0 00-.786-1.322 12.7 12.7.0 00-2.549-.939l-1.457-.46a21.526 21.526.0 01-3.3-1.227 6.57 6.57.0 01-2.262-1.783 4.435 4.435.0 01-.92-2.894 5.081 5.081.0 012.109-4.275 8.993 8.993.0 015.558-1.591 10.445 10.445.0 014.1.748 6.3 6.3.0 012.722 2.07 5 5 0 01.958 3.009.441.441.0 01-.134.326.441.441.0 01-.325.134h-3.258a.441.441.0 01-.326-.134.443.443.0 01-.134-.326 1.974 1.974.0 00-.978-1.667 4.647 4.647.0 00-2.665-.671 4.741 4.741.0 00-2.435.556 1.724 1.724.0 00-.938 1.553 1.512 1.512.0 00.9 1.4 15.875 15.875.0 003.01 1.055l.843.229a27.368 27.368.0 013.412 1.246 6.67 6.67.0 012.338 1.763 4.387 4.387.0 01.958 2.933 4.988 4.988.0 01-2.146 4.275 9.543 9.543.0 01-5.712 1.552 11.626 11.626.0 01-4.227-.709z"/><path d="m97.039 32.837a.443.443.0 01-.326.135h-3.911a.169.169.0 00-.191.192v9.239a2.951 2.951.0 00.632 2.108 2.7 2.7.0 002.013.652h1.15a.444.444.0 01.325.134.441.441.0 01.134.326v2.875a.471.471.0 01-.459.5l-1.994.039a8 8 0 01-4.524-1.035q-1.495-1.035-1.533-3.91V33.166A.17.17.0 0088.164 32.974H85.978A.441.441.0 0185.652 32.839.441.441.0 0185.518 32.513V29.83a.441.441.0 01.134-.326.444.444.0 01.326-.135h2.186a.169.169.0 00.191-.192v-4.485a.438.438.0 01.134-.326.44.44.0 01.325-.134h3.336a.443.443.0 01.325.134.442.442.0 01.135.326v4.485a.169.169.0 00.191.192h3.911a.446.446.0 01.326.135.446.446.0 01.134.326v2.683a.446.446.0 01-.133.324z"/><path d="m101.694 25.917a2.645 2.645.0 01-.767-1.955 2.65 2.65.0 01.767-1.955 2.65 2.65.0 011.955-.767 2.65 2.65.0 011.955.767 2.652 2.652.0 01.767 1.955 2.647 2.647.0 01-.767 1.955 2.646 2.646.0 01-1.955.767 2.645 2.645.0 01-1.955-.767zm-.211 22.906a.441.441.0 01-.134-.326V29.79a.444.444.0 01.134-.326.446.446.0 01.326-.134h3.527a.446.446.0 01.326.134.445.445.0 01.134.326v18.707a.443.443.0 01-.134.326.443.443.0 01-.326.134h-3.527a.443.443.0 01-.326-.134z"/><path d="m114.019 47.734a8.1 8.1.0 01-3.047-4.255 14.439 14.439.0 01-.652-4.37 14.3 14.3.0 01.614-4.371A7.869 7.869.0 01114 30.56a9.072 9.072.0 015.252-1.5 8.543 8.543.0 015.041 1.5 7.985 7.985.0 013.009 4.14 12.439 12.439.0 01.69 4.37 13.793 13.793.0 01-.651 4.37 8.255 8.255.0 01-3.028 4.275 8.475 8.475.0 01-5.1 1.553 8.754 8.754.0 01-5.194-1.534zm7.629-3.1a4.536 4.536.0 001.476-2.262 11.335 11.335.0 00.383-3.221 10.618 10.618.0 00-.383-3.22 4.169 4.169.0 00-1.457-2.243 4.066 4.066.0 00-2.531-.785 3.942 3.942.0 00-2.453.785 4.376 4.376.0 00-1.5 2.243 11.839 11.839.0 00-.383 3.22 11.84 11.84.0 00.383 3.221 4.222 4.222.0 001.476 2.262 4.075 4.075.0 002.549.8 3.8 3.8.0 002.44-.809z"/><path d="m15.105 32.057v15.565a.059.059.0 01-.049.059L.069 50.25A.06.06.0 01.005 50.167l14.987-33.47a.06.06.0 01.114.025z"/><path d="m17.631 23.087v24.6a.06.06.0 00.053.059l22.449 2.507a.06.06.0 00.061-.084L17.745.032a.06.06.0 00-.114.024z"/><path d="m39.961 52.548-24.833 7.45a.062.062.0 01-.043.0L.079 52.548a.059.059.0 01.026-.113h39.839a.06.06.0 01.017.113z"/></svg></span></a><button id=hamburger class=main-navigation-toggle aria-label="Open navigation"><svg class="icon menu-hamburger"><use xlink:href="/v1.13/img/icons.svg#menu-hamburger"/></svg></button>
<button id=menu-close class=main-navigation-toggle aria-label="Close navigation"><svg class="icon menu-close"><use xlink:href="/v1.13/img/icons.svg#menu-close"/></svg></button></div><div id=header-links class=main-navigation-links-wrapper><ul class=main-navigation-links><li class=main-navigation-links-item><a class="main-navigation-links-link has-dropdown"><span>关于</span><svg class="icon dropdown-arrow"><use xlink:href="/v1.13/img/icons.svg#dropdown-arrow"/></svg></a><ul class=main-navigation-links-dropdown><li class=main-navigation-links-dropdown-item><a href=/v1.13/zh/about/service-mesh class=main-navigation-links-link>服务网格</a></li><li class=main-navigation-links-dropdown-item><a href=/v1.13/zh/about/solutions class=main-navigation-links-link>解决方案</a></li><li class=main-navigation-links-dropdown-item><a href=/v1.13/zh/about/case-studies class=main-navigation-links-link>案例学习</a></li><li class=main-navigation-links-dropdown-item><a href=/v1.13/zh/about/ecosystem class=main-navigation-links-link>生态系统</a></li><li class=main-navigation-links-dropdown-item><a href=/v1.13/zh/about/deployment class=main-navigation-links-link>部署</a></li><li class=main-navigation-links-dropdown-item><a href=/v1.13/zh/about/faq class=main-navigation-links-link>FAQ</a></li></ul></li><li class=main-navigation-links-item><a href=/v1.13/zh/blog/ class=main-navigation-links-link><span>博客</span></a></li><li class=main-navigation-links-item><a href=/v1.13/zh/news/ class=main-navigation-links-link><span>新闻</span></a></li><li class=main-navigation-links-item><a href=/v1.13/zh/get-involved/ class=main-navigation-links-link><span>加入我们</span></a></li><li class=main-navigation-links-item><a href=/v1.13/zh/docs/ class=main-navigation-links-link><span>文档</span></a></li></ul><div class=main-navigation-footer><button id=search-show class=search-show title="搜索 istio.io" aria-label=搜索><svg class="icon magnifier"><use xlink:href="/v1.13/img/icons.svg#magnifier"/></svg></button>
<a href=/v1.13/zh/docs/setup/getting-started class="btn btn--primary" id=try-istio>试用 Istio</a></div></div><form id=search-form class=search name=cse role=search><input type=hidden name=cx value=002184991200833970123:iwwf17ikgf4>
<input type=hidden name=ie value=utf-8>
<input type=hidden name=hl value=zh>
<input type=hidden id=search-page-url value=/zh/search>
<input id=search-textbox class="search-textbox form-control" name=q type=search aria-label="搜索 istio.io" placeholder=搜索>
<button id=search-close title=取消搜索 type=reset aria-label=取消搜索><svg class="icon menu-close"><use xlink:href="/v1.13/img/icons.svg#menu-close"/></svg></button></form></nav></header><div class=banner-container></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><div class=header-content><h1>Helm 安装参数变动表</h1><p>本文详细介绍了 Istio 1.0 系列到 Istio 1.1 系列之间的安装参数变化详情。</p></div><p class=post-author></p><div><p>下表显示了在 Istio 1.0 版本到 Istio 1.1 版本之间使用 Helm 自定义安装 Istio 时参数变更，主要包含了三种类型的变更：</p><ul><li>安装参数在 1.0 版本之前已经存在，但是值在新发布的 1.1 版本中进行了修改。</li><li>1.1 版本新加的参数。</li><li>1.1 版本删除的参数。</li></ul><h2 id=modified-configuration-options>修改配置选项</h2><h3 id=modified-key-value-pairs>修改 <code>servicegraph</code> 键值对</h3><table><thead><tr><th>键</th><th>旧默认值</th><th>新默认值</th><th>旧描述</th><th>新描述</th></tr></thead><tbody><tr><td><code>servicegraph.ingress.hosts</code></td><td><code>servicegraph.local</code></td><td><code>servicegraph.local</code></td><td></td><td><code>用来创建一个 Ingress record。</code></td></tr></tbody></table><h3 id=modified-tracing-key-value-pairs>修改 <code>tracing</code> 键值对</h3><table><thead><tr><th>键</th><th>旧默认值</th><th>新默认值</th><th>旧描述</th><th>新描述</th></tr></thead><tbody><tr><td><code>tracing.jaeger.tag</code></td><td><code>1.5</code></td><td><code>1.9</code></td><td></td><td></td></tr></tbody></table><h3 id=modified-global-key-value-pairs>修改 <code>global</code> 键值对</h3><table><thead><tr><th>键</th><th>旧默认值</th><th>新默认值</th><th>旧描述</th><th>新描述</th></tr></thead><tbody><tr><td><code>global.hub</code></td><td><code>gcr.io/istio-release</code></td><td><code>gcr.io/istio-release</code></td><td></td><td><code>Istio 镜像的默认仓库。已发布版本的 Istio 镜像已经推送到了 docker hub 中的 istio 项目下，白天会从 gcr.io 进行构建，夜晚会从 docker.io/istionightly 上进行构建。</code></td></tr><tr><td><code>global.tag</code></td><td><code>release-1.0-latest-daily</code></td><td><code>release-1.1-latest-daily</code></td><td></td><td><code>Istio 镜像的默认标签。</code></td></tr><tr><td><code>global.proxy.resources.requests.cpu</code></td><td><code>10m</code></td><td><code>100m</code></td><td></td><td></td></tr><tr><td><code>global.proxy.accessLogFile</code></td><td><code>"/dev/stdout"</code></td><td><code>""</code></td><td></td><td></td></tr><tr><td><code>global.proxy.enableCoreDump</code></td><td><code>false</code></td><td><code>false</code></td><td></td><td><code>如果设置，新注入的 sidecars 将启用 core dumps。</code></td></tr><tr><td><code>global.proxy.autoInject</code></td><td><code>enabled</code></td><td><code>enabled</code></td><td></td><td><code>可以控制 sidecar 的注入策略。</code></td></tr><tr><td><code>global.proxy.envoyStatsd.enabled</code></td><td><code>true</code></td><td><code>false</code></td><td></td><td><code>如果设置为 true，则还须提供主机地址和端口。Istio 不再提供 statsd 收集器。</code></td></tr><tr><td><code>global.proxy.envoyStatsd.host</code></td><td><code>istio-statsd-prom-bridge</code></td><td>``</td><td></td><td><code>例如: statsd-svc.istio-system</code></td></tr><tr><td><code>global.proxy.envoyStatsd.port</code></td><td><code>9125</code></td><td>``</td><td></td><td><code>例如: 9125</code></td></tr><tr><td><code>global.proxy_init.image</code></td><td><code>proxy_init</code></td><td><code>proxy_init</code></td><td></td><td><code>proxy_init 容器的基本名称，用于配置 iptables。</code></td></tr><tr><td><code>global.controlPlaneSecurityEnabled</code></td><td><code>false</code></td><td><code>false</code></td><td></td><td><code>启用 controlPlaneMtls。在传播 secret 时，将导致 Pod 的延迟启动，不建议用于测试。</code></td></tr><tr><td><code>global.disablePolicyChecks</code></td><td><code>false</code></td><td><code>true</code></td><td></td><td><code>disablePolicyChecks 禁用 mixer 策略检查。如果 mixer.policy.enabled==true 则 disablePolicyChecks 已生效。将在 istio ConfigMap 设置相同名称的值 - pilot 需要重新启动才能生效。</code></td></tr><tr><td><code>global.enableTracing</code></td><td><code>true</code></td><td><code>true</code></td><td></td><td><code>EnableTracing 在 istio ConfigMap 中具有相同名称的值，需要重新启动 pilot 才能生效。</code></td></tr><tr><td><code>global.mtls.enabled</code></td><td><code>false</code></td><td><code>false</code></td><td></td><td><code>服务到服务间的 mtls 的默认设置。可以使用目标规则或服务注释来显式设置。</code></td></tr><tr><td><code>global.oneNamespace</code></td><td><code>false</code></td><td><code>false</code></td><td></td><td><code>是否限制控制器管理的应用程序的名称空间；如果未设置，则控制器将监控所有名称空间。</code></td></tr><tr><td><code>global.configValidation</code></td><td><code>true</code></td><td><code>true</code></td><td></td><td><code>是否执行服务器端配置验证。</code></td></tr></tbody></table><h3 id=modified-gateways-key-value-pairs>修改 <code>gateways</code> 键值对</h3><table><thead><tr><th>键</th><th>旧默认值</th><th>新默认值</th><th>旧描述</th><th>新描述</th></tr></thead><tbody><tr><td><code>gateways.istio-ingressgateway.type</code></td><td><code>LoadBalancer #change to NodePort, ClusterIP or LoadBalancer if need be</code></td><td><code>LoadBalancer</code></td><td></td><td><code>如果需要，请更改为节点端口，集群 IP，或者负载地址。</code></td></tr><tr><td><code>gateways.istio-egressgateway.enabled</code></td><td><code>true</code></td><td><code>false</code></td><td></td><td></td></tr><tr><td><code>gateways.istio-egressgateway.type</code></td><td><code>ClusterIP #change to NodePort or LoadBalancer if need be</code></td><td><code>ClusterIP</code></td><td></td><td><code>如果需要，请更改为节点端口或者负载地址。</code></td></tr></tbody></table><h3 id=modified--key-value-pairs>修改 <code>certmanager</code> 键值对</h3><table><thead><tr><th>键</th><th>旧默认值</th><th>新默认值</th><th>旧描述</th><th>新描述</th></tr></thead><tbody><tr><td><code>certmanager.tag</code></td><td><code>v0.3.1</code></td><td><code>v0.6.2</code></td><td></td><td></td></tr></tbody></table><h3 id=modified-key-value-pairs-1>修改 <code>kiali</code> 键值对</h3><table><thead><tr><th>键</th><th>旧默认值</th><th>新默认值</th><th>旧描述</th><th>新描述</th></tr></thead><tbody><tr><td><code>kiali.tag</code></td><td><code>istio-release-1.0</code></td><td><code>v0.14</code></td><td></td><td></td></tr></tbody></table><h3 id=modified-security-key-value-pairs>修改 <code>security</code> 键值对</h3><table><thead><tr><th>键</th><th>旧默认值</th><th>新默认值</th><th>旧描述</th><th>新描述</th></tr></thead><tbody><tr><td><code>security.selfSigned</code></td><td><code>true # indicate if self-signed CA is used.</code></td><td><code>true</code></td><td></td><td><code>是否使用自签名 CA 证书。</code></td></tr></tbody></table><h3 id=modified-pilot-key-value-pairs>修改 <code>pilot</code> 键值对</h3><table><thead><tr><th>键</th><th>旧默认值</th><th>新默认值</th><th>旧描述</th><th>新描述</th></tr></thead><tbody><tr><td><code>pilot.autoscaleMax</code></td><td><code>1</code></td><td><code>5</code></td><td></td><td></td></tr><tr><td><code>pilot.traceSampling</code></td><td><code>100.0</code></td><td><code>1.0</code></td><td></td><td></td></tr></tbody></table><h2 id=new-configuration-options>新的配置选项</h2><h3 id=new-key-value-pairs>新增 <code>istio_cni</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>istio_cni.enabled</code></td><td><code>false</code></td><td></td></tr></tbody></table><h3 id=new-key-value-pairs-1>新增 <code>servicegraph</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>servicegraph.nodeSelector</code></td><td><code>{}</code></td><td></td></tr></tbody></table><h3 id=new-tracing-key-value-pairs>新增 <code>tracing</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>tracing.nodeSelector</code></td><td><code>{}</code></td><td></td></tr><tr><td><code>tracing.zipkin.hub</code></td><td><code>docker.io/openzipkin</code></td><td></td></tr><tr><td><code>tracing.zipkin.tag</code></td><td><code>2</code></td><td></td></tr><tr><td><code>tracing.zipkin.probeStartupDelay</code></td><td><code>200</code></td><td></td></tr><tr><td><code>tracing.zipkin.queryPort</code></td><td><code>9411</code></td><td></td></tr><tr><td><code>tracing.zipkin.resources.limits.cpu</code></td><td><code>300m</code></td><td></td></tr><tr><td><code>tracing.zipkin.resources.limits.memory</code></td><td><code>900Mi</code></td><td></td></tr><tr><td><code>tracing.zipkin.resources.requests.cpu</code></td><td><code>150m</code></td><td></td></tr><tr><td><code>tracing.zipkin.resources.requests.memory</code></td><td><code>900Mi</code></td><td></td></tr><tr><td><code>tracing.zipkin.javaOptsHeap</code></td><td><code>700</code></td><td></td></tr><tr><td><code>tracing.zipkin.maxSpans</code></td><td><code>500000</code></td><td></td></tr><tr><td><code>tracing.zipkin.node.cpus</code></td><td><code>2</code></td><td></td></tr></tbody></table><h3 id=new-key-value-pairs-2>新增 <code>sidecarInjectorWebhook</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>sidecarInjectorWebhook.nodeSelector</code></td><td><code>{}</code></td><td></td></tr><tr><td><code>sidecarInjectorWebhook.rewriteAppHTTPProbe</code></td><td><code>false</code></td><td><code>如果设置为 true，则 webhook 或 istioctl injector 将重写 PodSpec 进行 livenesshealth 检查，以将请求重定向到 Sidecar，即使启用了 mTLS，也可以进行活动检查。</code></td></tr></tbody></table><h3 id=new-global-key-value-pairs>新增 <code>global</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>global.monitoringPort</code></td><td><code>15014</code></td><td><code>监控被 mixer、 pilot 和 galley 所使用的端口。</code></td></tr><tr><td><code>global.k8sIngress.enabled</code></td><td><code>false</code></td><td></td></tr><tr><td><code>global.k8sIngress.gatewayName</code></td><td><code>ingressgateway</code></td><td><code>用于 k8s 入口资源的网关，默认情况下，它使用的是 istio：ingressgateway，将 gateways.enabled 和 gateways.istio-ingressgateway.enabled 标志设置为 true 即可安装。</code></td></tr><tr><td><code>global.k8sIngress.enableHttps</code></td><td><code>false</code></td><td><code>enableHttps 将在入口处添加 443 端口，它要求将证书安装在预期的 secret 中，启用不带证书的此选项将导致 LDS 拒绝，并且入口将不起作用。</code></td></tr><tr><td><code>global.proxy.clusterDomain</code></td><td><code>"cluster.local"</code></td><td><code>集群域，默认值为 cluster.local。</code></td></tr><tr><td><code>global.proxy.resources.requests.memory</code></td><td><code>128Mi</code></td><td></td></tr><tr><td><code>global.proxy.resources.limits.cpu</code></td><td><code>2000m</code></td><td></td></tr><tr><td><code>global.proxy.resources.limits.memory</code></td><td><code>128Mi</code></td><td></td></tr><tr><td><code>global.proxy.concurrency</code></td><td><code>2</code></td><td><code>控制代理工作线程的数量，如果设置为 0（默认值），则为每个 CPU 线程/核心。</code></td></tr><tr><td><code>global.proxy.accessLogFormat</code></td><td><code>""</code></td><td><code>配置 sidecar 访问日志中显示方式和字段的显示方式，设置空字符串将导致成为默认的日志格式。</code></td></tr><tr><td><code>global.proxy.accessLogEncoding</code></td><td><code>TEXT</code></td><td><code>将 Sidecar 的访问日志配置为 JSON 或 TEXT 格式。</code></td></tr><tr><td><code>global.proxy.dnsRefreshRate</code></td><td><code>5s</code></td><td><code>为类型为 STRICT_DNS 的 Envoy 集群配置 DNS 的刷新频率为 5s，是 Envoy 使用的默认刷新频率。</code></td></tr><tr><td><code>global.proxy.privileged</code></td><td><code>false</code></td><td><code>如果设置为 true，则 istio-proxy 容器将具有特权 securityContext。</code></td></tr><tr><td><code>global.proxy.statusPort</code></td><td><code>15020</code></td><td><code>Pilot 代理运行状况检查的默认端口，设置为 0 将禁用运行状况检查。</code></td></tr><tr><td><code>global.proxy.readinessInitialDelaySeconds</code></td><td><code>1</code></td><td><code>准备就绪探测的初始延迟（以秒为单位）。</code></td></tr><tr><td><code>global.proxy.readinessPeriodSeconds</code></td><td><code>2</code></td><td><code>准备就绪探测之间的时间间隔。</code></td></tr><tr><td><code>global.proxy.readinessFailureThreshold</code></td><td><code>30</code></td><td><code>指示准备就绪失败之前，连续失败的探测数。</code></td></tr><tr><td><code>global.proxy.kubevirtInterfaces</code></td><td><code>""</code></td><td><code>pod 的内部接口。</code></td></tr><tr><td><code>global.proxy.envoyMetricsService.enabled</code></td><td><code>false</code></td><td></td></tr><tr><td><code>global.proxy.envoyMetricsService.host</code></td><td>``</td><td><code>例如：metrics-service.istio-system</code></td></tr><tr><td><code>global.proxy.envoyMetricsService.port</code></td><td>``</td><td><code>例如：15000</code></td></tr><tr><td><code>global.proxy.tracer</code></td><td><code>"zipkin"</code></td><td><code>指定要使用的跟踪器，lightstep 和 zipkin 其中之一。</code></td></tr><tr><td><code>global.policyCheckFailOpen</code></td><td><code>false</code></td><td><code>policyCheckFailOpen 允许在无法访问 mixer 策略的情况下进行通信，默认值为 false，这意味着在客户端无法连接到 Mixer 时拒绝通信。</code></td></tr><tr><td><code>global.tracer.lightstep.address</code></td><td><code>""</code></td><td><code>例如：lightstep-satellite:443</code></td></tr><tr><td><code>global.tracer.lightstep.accessToken</code></td><td><code>""</code></td><td><code>例如：abcdefg1234567</code></td></tr><tr><td><code>global.tracer.lightstep.secure</code></td><td><code>true</code></td><td><code>例如：true\|false</code></td></tr><tr><td><code>global.tracer.lightstep.cacertPath</code></td><td><code>""</code></td><td><code>例如：/etc/lightstep/cacert.pem</code></td></tr><tr><td><code>global.tracer.zipkin.address</code></td><td><code>""</code></td><td></td></tr><tr><td><code>global.defaultNodeSelector</code></td><td><code>{}</code></td><td><code>默认 node selector 将应用于所有部署，以便可以限制所有特定的 Pod 节点，每个组件都可以通过在下面的相关部分中添加 node selector block 并设置所需的值来覆盖这些默认值。</code></td></tr><tr><td><code>global.meshExpansion.enabled</code></td><td><code>false</code></td><td></td></tr><tr><td><code>global.meshExpansion.useILB</code></td><td><code>false</code></td><td><code>如果设置为 true，则将在内部网关上暴露 pilot 和 citadel mtls 以及 plain text pilot portswill。</code></td></tr><tr><td><code>global.multiCluster.enabled</code></td><td><code>false</code></td><td><code>当每个集群中的 Pod 无法直接相互通信时，设置为 true 可通过它们各自的 ingress gateway 服务连接两个 kubernetes 集群，所有群集都应使用 Istio mTLS，并且必须具有共享的根证书才能使该模型正常工作。</code></td></tr><tr><td><code>global.defaultPodDisruptionBudget.enabled</code></td><td><code>true</code></td><td></td></tr><tr><td><code>global.useMCP</code></td><td><code>true</code></td><td><code>使用网格控制协议（MCP）来配置 Mixer 和 Pilot。需要 galley (--设置 galley.enabled=true)。</code></td></tr><tr><td><code>global.trustDomain</code></td><td><code>""</code></td><td></td></tr><tr><td><code>global.outboundTrafficPolicy.mode</code></td><td><code>ALLOW_ANY</code></td><td></td></tr><tr><td><code>global.sds.enabled</code></td><td><code>false</code></td><td><code>是否启用 SDS。如果设置为 true，则将通过 SecretDiscoveryService 分发用于 sidecars 的 mTLS 证书，而不是使用 K8S secret 来挂载证书。</code></td></tr><tr><td><code>global.sds.udsPath</code></td><td><code>""</code></td><td></td></tr><tr><td><code>global.sds.useTrustworthyJwt</code></td><td><code>false</code></td><td></td></tr><tr><td><code>global.sds.useNormalJwt</code></td><td><code>false</code></td><td></td></tr><tr><td><code>global.meshNetworks</code></td><td><code>{}</code></td><td></td></tr><tr><td><code>global.enableHelmTest</code></td><td><code>false</code></td><td><code>指定是否启 helm 测试，默认情况下，此字段默认设置为 false，因此 'helm template ...' 将在生成模板时忽略 helm 测试的 yaml 文件。</code></td></tr></tbody></table><h3 id=new-mixer-key-value-pairs>新增 <code>mixer</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>mixer.env.GODEBUG</code></td><td><code>gctrace=1</code></td><td></td></tr><tr><td><code>mixer.env.GOMAXPROCS</code></td><td><code>"6"</code></td><td><code>max procs should be ceil(cpu limit + 1)</code></td></tr><tr><td><code>mixer.policy.enabled</code></td><td><code>false</code></td><td><code>如果启用了策略，则 global.disablePolicyChecks 将生效。</code></td></tr><tr><td><code>mixer.policy.replicaCount</code></td><td><code>1</code></td><td></td></tr><tr><td><code>mixer.policy.autoscaleEnabled</code></td><td><code>true</code></td><td></td></tr><tr><td><code>mixer.policy.autoscaleMin</code></td><td><code>1</code></td><td></td></tr><tr><td><code>mixer.policy.autoscaleMax</code></td><td><code>5</code></td><td></td></tr><tr><td><code>mixer.policy.cpu.targetAverageUtilization</code></td><td><code>80</code></td><td></td></tr><tr><td><code>mixer.telemetry.enabled</code></td><td><code>true</code></td><td></td></tr><tr><td><code>mixer.telemetry.replicaCount</code></td><td><code>1</code></td><td></td></tr><tr><td><code>mixer.telemetry.autoscaleEnabled</code></td><td><code>true</code></td><td></td></tr><tr><td><code>mixer.telemetry.autoscaleMin</code></td><td><code>1</code></td><td></td></tr><tr><td><code>mixer.telemetry.autoscaleMax</code></td><td><code>5</code></td><td></td></tr><tr><td><code>mixer.telemetry.cpu.targetAverageUtilization</code></td><td><code>80</code></td><td></td></tr><tr><td><code>mixer.telemetry.sessionAffinityEnabled</code></td><td><code>false</code></td><td></td></tr><tr><td><code>mixer.telemetry.loadshedding.mode</code></td><td><code>enforce</code></td><td><code>禁用，仅用于登录或强制执行。</code></td></tr><tr><td><code>mixer.telemetry.loadshedding.latencyThreshold</code></td><td><code>100ms</code></td><td><code>基于 100ms 的测量，p50 转换为 p99 不到 1s，对于本质上是异步的遥测来说是没问题的。</code></td></tr><tr><td><code>mixer.telemetry.resources.requests.cpu</code></td><td><code>1000m</code></td><td></td></tr><tr><td><code>mixer.telemetry.resources.requests.memory</code></td><td><code>1G</code></td><td></td></tr><tr><td><code>mixer.telemetry.resources.limits.cpu</code></td><td><code>4800m</code></td><td><code>最好使用适度的 cpu 进行分配使 mixer 水平缩放。我们通过实验发现这些值效果很好。</code></td></tr><tr><td><code>mixer.telemetry.resources.limits.memory</code></td><td><code>4G</code></td><td></td></tr><tr><td><code>mixer.podAnnotations</code></td><td><code>{}</code></td><td></td></tr><tr><td><code>mixer.nodeSelector</code></td><td><code>{}</code></td><td></td></tr><tr><td><code>mixer.adapters.kubernetesenv.enabled</code></td><td><code>true</code></td><td></td></tr><tr><td><code>mixer.adapters.stdio.enabled</code></td><td><code>false</code></td><td></td></tr><tr><td><code>mixer.adapters.stdio.outputAsJson</code></td><td><code>true</code></td><td></td></tr><tr><td><code>mixer.adapters.prometheus.enabled</code></td><td><code>true</code></td><td></td></tr><tr><td><code>mixer.adapters.prometheus.metricsExpiryDuration</code></td><td><code>10m</code></td><td></td></tr><tr><td><code>mixer.adapters.useAdapterCRDs</code></td><td><code>true</code></td><td><code>如果设置为 false， 会将 useAdapterCRDs mixer 的启动参数设置为 false。</code></td></tr></tbody></table><h3 id=new-key-value-pairs-3>新增 <code>grafana</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>grafana.image.repository</code></td><td><code>grafana/grafana</code></td><td></td></tr><tr><td><code>grafana.image.tag</code></td><td><code>5.4.0</code></td><td></td></tr><tr><td><code>grafana.ingress.enabled</code></td><td><code>false</code></td><td></td></tr><tr><td><code>grafana.ingress.hosts</code></td><td><code>grafana.local</code></td><td><code>用来创建一个 Ingress record。</code></td></tr><tr><td><code>grafana.persist</code></td><td><code>false</code></td><td></td></tr><tr><td><code>grafana.storageClassName</code></td><td><code>""</code></td><td></td></tr><tr><td><code>grafana.accessMode</code></td><td><code>ReadWriteMany</code></td><td></td></tr><tr><td><code>grafana.security.secretName</code></td><td><code>grafana</code></td><td></td></tr><tr><td><code>grafana.security.usernameKey</code></td><td><code>username</code></td><td></td></tr><tr><td><code>grafana.security.passphraseKey</code></td><td><code>passphrase</code></td><td></td></tr><tr><td><code>grafana.nodeSelector</code></td><td><code>{}</code></td><td></td></tr><tr><td><code>grafana.contextPath</code></td><td><code>/grafana</code></td><td></td></tr><tr><td><code>grafana.datasources.datasources.apiVersion</code></td><td><code>1</code></td><td></td></tr><tr><td><code>grafana.datasources.datasources.datasources.type</code></td><td><code>prometheus</code></td><td></td></tr><tr><td><code>grafana.datasources.datasources.datasources.orgId</code></td><td><code>1</code></td><td></td></tr><tr><td><code>grafana.datasources.datasources.datasources.url</code></td><td><code>http://prometheus:9090</code></td><td></td></tr><tr><td><code>grafana.datasources.datasources.datasources.access</code></td><td><code>proxy</code></td><td></td></tr><tr><td><code>grafana.datasources.datasources.datasources.isDefault</code></td><td><code>true</code></td><td></td></tr><tr><td><code>grafana.datasources.datasources.datasources.jsonData.timeInterval</code></td><td><code>5s</code></td><td></td></tr><tr><td><code>grafana.datasources.datasources.datasources.editable</code></td><td><code>true</code></td><td></td></tr><tr><td><code>grafana.dashboardProviders.dashboardproviders.apiVersion</code></td><td><code>1</code></td><td></td></tr><tr><td><code>grafana.dashboardProviders.dashboardproviders.providers.orgId</code></td><td><code>1</code></td><td></td></tr><tr><td><code>grafana.dashboardProviders.dashboardproviders.providers.folder</code></td><td><code>'istio'</code></td><td></td></tr><tr><td><code>grafana.dashboardProviders.dashboardproviders.providers.type</code></td><td><code>file</code></td><td></td></tr><tr><td><code>grafana.dashboardProviders.dashboardproviders.providers.disableDeletion</code></td><td><code>false</code></td><td></td></tr><tr><td><code>grafana.dashboardProviders.dashboardproviders.providers.options.path</code></td><td><code>/var/lib/grafana/dashboards/istio</code></td><td></td></tr></tbody></table><h3 id=new-key-value-pairs-4>新增 <code>prometheus</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>prometheus.retention</code></td><td><code>6h</code></td><td></td></tr><tr><td><code>prometheus.nodeSelector</code></td><td><code>{}</code></td><td></td></tr><tr><td><code>prometheus.scrapeInterval</code></td><td><code>15s</code></td><td><code>控制 prometheus 在 scraping 时的频率。</code></td></tr><tr><td><code>prometheus.contextPath</code></td><td><code>/prometheus</code></td><td></td></tr><tr><td><code>prometheus.ingress.enabled</code></td><td><code>false</code></td><td></td></tr><tr><td><code>prometheus.ingress.hosts</code></td><td><code>prometheus.local</code></td><td><code>用来创建一个 Ingress record。</code></td></tr><tr><td><code>prometheus.security.enabled</code></td><td><code>true</code></td><td></td></tr></tbody></table><h3 id=new-gateways-key-value-pairs>新增 <code>gateways</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>gateways.istio-ingressgateway.sds.enabled</code></td><td><code>false</code></td><td><code>如果设置为 true，则入口网关从 SDS 服务器获取凭据以处理 TLS 连接。</code></td></tr><tr><td><code>gateways.istio-ingressgateway.sds.image</code></td><td><code>node-agent-k8s</code></td><td><code>监视 kubernetes 的 secret 并向入口网关提供凭据的 SDS 服务器，该服务器与入口网关服务器在同一容器中运行。</code></td></tr><tr><td><code>gateways.istio-ingressgateway.autoscaleEnabled</code></td><td><code>true</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.cpu.targetAverageUtilization</code></td><td><code>80</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.loadBalancerSourceRanges</code></td><td><code>[]</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.externalIPs</code></td><td><code>[]</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.podAnnotations</code></td><td><code>{}</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.ports.targetPort</code></td><td><code>15029</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.ports.name</code></td><td><code>https-kiali</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.ports.name</code></td><td><code>https-prometheus</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.ports.name</code></td><td><code>https-grafana</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.ports.targetPort</code></td><td><code>15032</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.ports.name</code></td><td><code>https-tracing</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.ports.targetPort</code></td><td><code>15443</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.ports.name</code></td><td><code>tls</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.ports.targetPort</code></td><td><code>15020</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.ports.name</code></td><td><code>status-port</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.meshExpansionPorts.targetPort</code></td><td><code>15011</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.meshExpansionPorts.name</code></td><td><code>tcp-pilot-grpc-tls</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.meshExpansionPorts.targetPort</code></td><td><code>15004</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.meshExpansionPorts.name</code></td><td><code>tcp-mixer-grpc-tls</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.meshExpansionPorts.targetPort</code></td><td><code>8060</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.meshExpansionPorts.name</code></td><td><code>tcp-citadel-grpc-tls</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.meshExpansionPorts.targetPort</code></td><td><code>853</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.meshExpansionPorts.name</code></td><td><code>tcp-dns-tls</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.env.ISTIO_META_ROUTER_MODE</code></td><td><code>"sni-dnat"</code></td><td><code>具有此模式的网关可确保 pilot 为内部服务生成集群中的 additionalset，但无需 Istio mTLS，即可启用跨群集路由。</code></td></tr><tr><td><code>gateways.istio-ingressgateway.nodeSelector</code></td><td><code>{}</code></td><td></td></tr><tr><td><code>gateways.istio-egressgateway.autoscaleEnabled</code></td><td><code>true</code></td><td></td></tr><tr><td><code>gateways.istio-egressgateway.cpu.targetAverageUtilization</code></td><td><code>80</code></td><td></td></tr><tr><td><code>gateways.istio-egressgateway.podAnnotations</code></td><td><code>{}</code></td><td></td></tr><tr><td><code>gateways.istio-egressgateway.ports.targetPort</code></td><td><code>15443</code></td><td></td></tr><tr><td><code>gateways.istio-egressgateway.ports.name</code></td><td><code>tls</code></td><td></td></tr><tr><td><code>gateways.istio-egressgateway.env.ISTIO_META_ROUTER_MODE</code></td><td><code>"sni-dnat"</code></td><td></td></tr><tr><td><code>gateways.istio-egressgateway.nodeSelector</code></td><td><code>{}</code></td><td></td></tr><tr><td><code>gateways.istio-ilbgateway.autoscaleEnabled</code></td><td><code>true</code></td><td></td></tr><tr><td><code>gateways.istio-ilbgateway.cpu.targetAverageUtilization</code></td><td><code>80</code></td><td></td></tr><tr><td><code>gateways.istio-ilbgateway.podAnnotations</code></td><td><code>{}</code></td><td></td></tr><tr><td><code>gateways.istio-ilbgateway.nodeSelector</code></td><td><code>{}</code></td><td></td></tr></tbody></table><h3 id=new-key-value-pairs-5>新增 <code>kiali</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>kiali.contextPath</code></td><td><code>/kiali</code></td><td></td></tr><tr><td><code>kiali.nodeSelector</code></td><td><code>{}</code></td><td></td></tr><tr><td><code>kiali.ingress.hosts</code></td><td><code>kiali.local</code></td><td><code>用来创建一个 Ingress record。</code></td></tr><tr><td><code>kiali.dashboard.secretName</code></td><td><code>kiali</code></td><td></td></tr><tr><td><code>kiali.dashboard.usernameKey</code></td><td><code>username</code></td><td></td></tr><tr><td><code>kiali.dashboard.passphraseKey</code></td><td><code>passphrase</code></td><td></td></tr><tr><td><code>kiali.prometheusAddr</code></td><td><code>http://prometheus:9090</code></td><td></td></tr><tr><td><code>kiali.createDemoSecret</code></td><td><code>false</code></td><td><code>设置为 true 时，将使用默认的用户名和密码创建一个 secret， 对一些 demo 有用。</code></td></tr></tbody></table><h3 id=new-key-value-pairs-6>新增 <code>istiocoredns</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>istiocoredns.enabled</code></td><td><code>false</code></td><td></td></tr><tr><td><code>istiocoredns.replicaCount</code></td><td><code>1</code></td><td></td></tr><tr><td><code>istiocoredns.coreDNSImage</code></td><td><code>coredns/coredns:1.1.2</code></td><td></td></tr><tr><td><code>istiocoredns.coreDNSPluginImage</code></td><td><code>istio/coredns-plugin:0.2-istio-1.1</code></td><td></td></tr><tr><td><code>istiocoredns.nodeSelector</code></td><td><code>{}</code></td><td></td></tr></tbody></table><h3 id=new-security-key-value-pairs>新增 <code>security</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>security.enabled</code></td><td><code>true</code></td><td></td></tr><tr><td><code>security.createMeshPolicy</code></td><td><code>true</code></td><td></td></tr><tr><td><code>security.nodeSelector</code></td><td><code>{}</code></td><td></td></tr></tbody></table><h3 id=new-key-value-pairs-7>新增 <code>nodeagent</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>nodeagent.enabled</code></td><td><code>false</code></td><td></td></tr><tr><td><code>nodeagent.image</code></td><td><code>node-agent-k8s</code></td><td></td></tr><tr><td><code>nodeagent.env.CA_PROVIDER</code></td><td><code>""</code></td><td><code>provider 的名称。</code></td></tr><tr><td><code>nodeagent.env.CA_ADDR</code></td><td><code>""</code></td><td><code>CA 地址。</code></td></tr><tr><td><code>nodeagent.env.Plugins</code></td><td><code>""</code></td><td><code>鉴别 provider 插件的名称。</code></td></tr><tr><td><code>nodeagent.nodeSelector</code></td><td><code>{}</code></td><td></td></tr></tbody></table><h3 id=new-pilot-key-value-pairs>新增 <code>pilot</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>pilot.autoscaleEnabled</code></td><td><code>true</code></td><td></td></tr><tr><td><code>pilot.env.PILOT_PUSH_THROTTLE</code></td><td><code>100</code></td><td></td></tr><tr><td><code>pilot.env.GODEBUG</code></td><td><code>gctrace=1</code></td><td></td></tr><tr><td><code>pilot.cpu.targetAverageUtilization</code></td><td><code>80</code></td><td></td></tr><tr><td><code>pilot.nodeSelector</code></td><td><code>{}</code></td><td></td></tr><tr><td><code>pilot.keepaliveMaxServerConnectionAge</code></td><td><code>30m</code></td><td><code>用于限制 sidecar 可以被 pilot 连接多久，平衡了 pilot 实例的负载，以损失系统资源为代价。</code></td></tr></tbody></table><h2 id=removed-configuration-options>移除的配置选项</h2><h3 id=removed-ingress-key-value-pairs>移除 <code>ingress</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>ingress.service.ports.nodePort</code></td><td><code>32000</code></td><td></td></tr><tr><td><code>ingress.service.selector.istio</code></td><td><code>ingress</code></td><td></td></tr><tr><td><code>ingress.autoscaleMin</code></td><td><code>1</code></td><td></td></tr><tr><td><code>ingress.service.loadBalancerIP</code></td><td><code>""</code></td><td></td></tr><tr><td><code>ingress.enabled</code></td><td><code>false</code></td><td></td></tr><tr><td><code>ingress.service.annotations</code></td><td><code>{}</code></td><td></td></tr><tr><td><code>ingress.service.ports.name</code></td><td><code>http</code></td><td></td></tr><tr><td><code>ingress.service.ports.name</code></td><td><code>https</code></td><td></td></tr><tr><td><code>ingress.autoscaleMax</code></td><td><code>5</code></td><td></td></tr><tr><td><code>ingress.replicaCount</code></td><td><code>1</code></td><td></td></tr><tr><td><code>ingress.service.type</code></td><td><code>LoadBalancer #change to NodePort, ClusterIP or LoadBalancer if need be</code></td><td></td></tr></tbody></table><h3 id=removed-key-value-pairs>移除 <code>servicegraph</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>servicegraph</code></td><td><code>servicegraph.local</code></td><td></td></tr><tr><td><code>servicegraph.ingress</code></td><td><code>servicegraph.local</code></td><td></td></tr><tr><td><code>servicegraph.service.internalPort</code></td><td><code>8088</code></td><td></td></tr></tbody></table><h3 id=removed-telemetry-gateway-key-value-pairs>移除 <code>telemetry-gateway</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>telemetry-gateway.prometheusEnabled</code></td><td><code>false</code></td><td></td></tr><tr><td><code>telemetry-gateway.gatewayName</code></td><td><code>ingressgateway</code></td><td></td></tr><tr><td><code>telemetry-gateway.grafanaEnabled</code></td><td><code>false</code></td><td></td></tr></tbody></table><h3 id=removed-global-key-value-pairs>移除 <code>global</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>global.hyperkube.tag</code></td><td><code>v1.7.6_coreos.0</code></td><td></td></tr><tr><td><code>global.k8sIngressHttps</code></td><td><code>false</code></td><td></td></tr><tr><td><code>global.crds</code></td><td><code>true</code></td><td></td></tr><tr><td><code>global.hyperkube.hub</code></td><td><code>quay.io/coreos</code></td><td></td></tr><tr><td><code>global.meshExpansion</code></td><td><code>false</code></td><td></td></tr><tr><td><code>global.k8sIngressSelector</code></td><td><code>ingress</code></td><td></td></tr><tr><td><code>global.meshExpansionILB</code></td><td><code>false</code></td><td></td></tr></tbody></table><h3 id=removed-mixer-key-value-pairs>移除 <code>mixer</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>mixer.autoscaleMin</code></td><td><code>1</code></td><td></td></tr><tr><td><code>mixer.istio-policy.cpu.targetAverageUtilization</code></td><td><code>80</code></td><td></td></tr><tr><td><code>mixer.autoscaleMax</code></td><td><code>5</code></td><td></td></tr><tr><td><code>mixer.istio-telemetry.autoscaleMin</code></td><td><code>1</code></td><td></td></tr><tr><td><code>mixer.prometheusStatsdExporter.tag</code></td><td><code>v0.6.0</code></td><td></td></tr><tr><td><code>mixer.istio-telemetry.autoscaleMax</code></td><td><code>5</code></td><td></td></tr><tr><td><code>mixer.istio-telemetry.cpu.targetAverageUtilization</code></td><td><code>80</code></td><td></td></tr><tr><td><code>mixer.istio-policy.autoscaleEnabled</code></td><td><code>true</code></td><td></td></tr><tr><td><code>mixer.istio-telemetry.autoscaleEnabled</code></td><td><code>true</code></td><td></td></tr><tr><td><code>mixer.replicaCount</code></td><td><code>1</code></td><td></td></tr><tr><td><code>mixer.prometheusStatsdExporter.hub</code></td><td><code>docker.io/prom</code></td><td></td></tr><tr><td><code>mixer.istio-policy.autoscaleMin</code></td><td><code>1</code></td><td></td></tr><tr><td><code>mixer.istio-policy.autoscaleMax</code></td><td><code>5</code></td><td></td></tr></tbody></table><h3 id=removed-key-value-pairs-1>移除 <code>grafana</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>grafana.image</code></td><td><code>grafana</code></td><td></td></tr><tr><td><code>grafana.service.internalPort</code></td><td><code>3000</code></td><td></td></tr><tr><td><code>grafana.security.adminPassword</code></td><td><code>admin</code></td><td></td></tr><tr><td><code>grafana.security.adminUser</code></td><td><code>admin</code></td><td></td></tr></tbody></table><h3 id=removed-gateways-key-value-pairs>移除 <code>gateways</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>gateways.istio-ilbgateway.replicaCount</code></td><td><code>1</code></td><td></td></tr><tr><td><code>gateways.istio-egressgateway.replicaCount</code></td><td><code>1</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.replicaCount</code></td><td><code>1</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.ports.name</code></td><td><code>tcp-pilot-grpc-tls</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.ports.name</code></td><td><code>tcp-citadel-grpc-tls</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.ports.name</code></td><td><code>http2-prometheus</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.ports.name</code></td><td><code>http2-grafana</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.ports.targetPort</code></td><td><code>15011</code></td><td></td></tr><tr><td><code>gateways.istio-ingressgateway.ports.targetPort</code></td><td><code>8060</code></td><td></td></tr></tbody></table><h3 id=removed-tracing-key-value-pairs>移除 <code>tracing</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>tracing.service.internalPort</code></td><td><code>9411</code></td><td></td></tr><tr><td><code>tracing.replicaCount</code></td><td><code>1</code></td><td></td></tr><tr><td><code>tracing.jaeger.ingress</code></td><td><code>jaeger.local</code></td><td></td></tr><tr><td><code>tracing.ingress</code></td><td><code>tracing.local</code></td><td></td></tr><tr><td><code>tracing.jaeger</code></td><td><code>jaeger.local</code></td><td></td></tr><tr><td><code>tracing</code></td><td><code>jaeger.local tracing.local</code></td><td></td></tr><tr><td><code>tracing.jaeger.ingress.hosts</code></td><td><code>jaeger.local</code></td><td></td></tr><tr><td><code>tracing.jaeger.ingress.enabled</code></td><td><code>false</code></td><td></td></tr><tr><td><code>tracing.ingress.hosts</code></td><td><code>tracing.local</code></td><td></td></tr><tr><td><code>tracing.jaeger.ui.port</code></td><td><code>16686</code></td><td></td></tr></tbody></table><h3 id=removed-key-value-pairs-2>移除 <code>kiali</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>kiali.dashboard.username</code></td><td><code>admin</code></td><td></td></tr><tr><td><code>kiali.dashboard.passphrase</code></td><td><code>admin</code></td><td></td></tr></tbody></table><h3 id=removed-pilot-key-value-pairs>移除 <code>pilot</code> 键/值对</h3><table><thead><tr><th>键</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td><code>pilot.replicaCount</code></td><td><code>1</code></td><td></td></tr></tbody></table></div><nav class=pagenav><div class=left><a title="在升级到 Istio 1.1 之前，操作人员必须了解的重要更改。" href=/v1.13/zh/news/releases/1.1.x/announcing-1.1/upgrade-notes/ class=next-link><svg class="icon left-arrow"><use xlink:href="/v1.13/img/icons.svg#left-arrow"/></svg>升级说明</a></div><div class=right></div></nav></article><footer class=footer><div class="footer-wrapper container-l"><div class="user-links footer-links"><a class=channel title="Istio 的代码在 GitHub 上开发" href=https://github.com/istio/community aria-label=GitHub><svg class="icon github"><use xlink:href="/v1.13/img/icons.svg#github"/></svg></a><a class=channel title="如果您想深入了解 Istio 的技术细节，请查看我们日益完善的设计文档" href=https://groups.google.com/forum/#!forum/istio-team-drive-access aria-label="team drive"><svg class="icon drive"><use xlink:href="/v1.13/img/icons.svg#drive"/></svg></a><a class=channel title="在 Slack 上与 Istio 社区交互讨论开发问题（仅限邀请）" href=https://slack.istio.io aria-label=slack><svg class="icon slack"><use xlink:href="/v1.13/img/icons.svg#slack"/></svg></a><a class=channel title="Stack Overflow 中列举了针对实际问题以及部署、配置和使用 Istio 的各项回答" href=https://stackoverflow.com/questions/tagged/istio aria-label="Stack Overflow"><svg class="icon stackoverflow"><use xlink:href="/v1.13/img/icons.svg#stackoverflow"/></svg></a><a class=channel title="关注我们的 Twitter 来获取最新信息" href=https://twitter.com/IstioMesh aria-label=Twitter><svg class="icon twitter"><use xlink:href="/v1.13/img/icons.svg#twitter"/></svg></a></div><hr class=footer-separator role=separator><div class="info footer-info"><a class=logo href=/v1.13/zh/ aria-label=logotype><svg xmlns="http://www.w3.org/2000/svg" width="128" height="60" viewBox="0 0 128 60"><path d="M58.434 48.823A.441.441.0 0158.3 48.497V22.583a.444.444.0 01.134-.326.446.446.0 01.327-.134h3.527a.447.447.0 01.325.134.447.447.0 01.134.326v25.914a.443.443.0 01-.134.326.444.444.0 01-.325.134h-3.527a.444.444.0 01-.327-.134z"/><path d="m70.969 48.477a6.556 6.556.0 01-2.818-1.955 4.338 4.338.0 01-1-2.78v-.345a.443.443.0 01.134-.326.444.444.0 01.326-.135h3.374a.444.444.0 01.326.135.445.445.0 01.134.326v.077a2.014 2.014.0 001.054 1.667 4.672 4.672.0 002.664.709 4.446 4.446.0 002.492-.633 1.862 1.862.0 00.958-1.591 1.426 1.426.0 00-.786-1.322 12.7 12.7.0 00-2.549-.939l-1.457-.46a21.526 21.526.0 01-3.3-1.227 6.57 6.57.0 01-2.262-1.783 4.435 4.435.0 01-.92-2.894 5.081 5.081.0 012.109-4.275 8.993 8.993.0 015.558-1.591 10.445 10.445.0 014.1.748 6.3 6.3.0 012.722 2.07 5 5 0 01.958 3.009.441.441.0 01-.134.326.441.441.0 01-.325.134h-3.258a.441.441.0 01-.326-.134.443.443.0 01-.134-.326 1.974 1.974.0 00-.978-1.667 4.647 4.647.0 00-2.665-.671 4.741 4.741.0 00-2.435.556 1.724 1.724.0 00-.938 1.553 1.512 1.512.0 00.9 1.4 15.875 15.875.0 003.01 1.055l.843.229a27.368 27.368.0 013.412 1.246 6.67 6.67.0 012.338 1.763 4.387 4.387.0 01.958 2.933 4.988 4.988.0 01-2.146 4.275 9.543 9.543.0 01-5.712 1.552 11.626 11.626.0 01-4.227-.709z"/><path d="m97.039 32.837a.443.443.0 01-.326.135h-3.911a.169.169.0 00-.191.192v9.239a2.951 2.951.0 00.632 2.108 2.7 2.7.0 002.013.652h1.15a.444.444.0 01.325.134.441.441.0 01.134.326v2.875a.471.471.0 01-.459.5l-1.994.039a8 8 0 01-4.524-1.035q-1.495-1.035-1.533-3.91V33.166A.17.17.0 0088.164 32.974H85.978A.441.441.0 0185.652 32.839.441.441.0 0185.518 32.513V29.83a.441.441.0 01.134-.326.444.444.0 01.326-.135h2.186a.169.169.0 00.191-.192v-4.485a.438.438.0 01.134-.326.44.44.0 01.325-.134h3.336a.443.443.0 01.325.134.442.442.0 01.135.326v4.485a.169.169.0 00.191.192h3.911a.446.446.0 01.326.135.446.446.0 01.134.326v2.683a.446.446.0 01-.133.324z"/><path d="m101.694 25.917a2.645 2.645.0 01-.767-1.955 2.65 2.65.0 01.767-1.955 2.65 2.65.0 011.955-.767 2.65 2.65.0 011.955.767 2.652 2.652.0 01.767 1.955 2.647 2.647.0 01-.767 1.955 2.646 2.646.0 01-1.955.767 2.645 2.645.0 01-1.955-.767zm-.211 22.906a.441.441.0 01-.134-.326V29.79a.444.444.0 01.134-.326.446.446.0 01.326-.134h3.527a.446.446.0 01.326.134.445.445.0 01.134.326v18.707a.443.443.0 01-.134.326.443.443.0 01-.326.134h-3.527a.443.443.0 01-.326-.134z"/><path d="m114.019 47.734a8.1 8.1.0 01-3.047-4.255 14.439 14.439.0 01-.652-4.37 14.3 14.3.0 01.614-4.371A7.869 7.869.0 01114 30.56a9.072 9.072.0 015.252-1.5 8.543 8.543.0 015.041 1.5 7.985 7.985.0 013.009 4.14 12.439 12.439.0 01.69 4.37 13.793 13.793.0 01-.651 4.37 8.255 8.255.0 01-3.028 4.275 8.475 8.475.0 01-5.1 1.553 8.754 8.754.0 01-5.194-1.534zm7.629-3.1a4.536 4.536.0 001.476-2.262 11.335 11.335.0 00.383-3.221 10.618 10.618.0 00-.383-3.22 4.169 4.169.0 00-1.457-2.243 4.066 4.066.0 00-2.531-.785 3.942 3.942.0 00-2.453.785 4.376 4.376.0 00-1.5 2.243 11.839 11.839.0 00-.383 3.22 11.84 11.84.0 00.383 3.221 4.222 4.222.0 001.476 2.262 4.075 4.075.0 002.549.8 3.8 3.8.0 002.44-.809z"/><path d="m15.105 32.057v15.565a.059.059.0 01-.049.059L.069 50.25A.06.06.0 01.005 50.167l14.987-33.47a.06.06.0 01.114.025z"/><path d="m17.631 23.087v24.6a.06.06.0 00.053.059l22.449 2.507a.06.06.0 00.061-.084L17.745.032a.06.06.0 00-.114.024z"/><path d="m39.961 52.548-24.833 7.45a.062.062.0 01-.043.0L.079 52.548a.059.059.0 01.026-.113h39.839a.06.06.0 01.017.113z"/></svg></a><div class=footer-languages><a tabindex=-1 lang=en id=switch-lang-en class=footer-languages-item>English</a>
<a tabindex=-1 lang=zh id=switch-lang-zh class="footer-languages-item active"><svg class="icon tick"><use xlink:href="/v1.13/img/icons.svg#tick"/></svg>中文</a></div></div><ul class=footer-policies><li class=footer-policies-item><a class=footer-policies-link href=https://policies.google.com/privacy>隐私政策</a> |
<a class=footer-policies-link href=https://github.com/istio/istio.io/edit/release-1.13/content/zh/news/releases/1.1.x/announcing-1.1/helm-changes/index.md>在 GitHub 上编辑此页</a></li></ul><div class=footer-base><span class=footer-base-copyright>&copy; 2022 Istio Authors.</span>
<span class=footer-base-version>部分内容可能滞后于英文版本，同步工作正在进行中<br>Version
Istio 归档
1.13.4</span><ul class=footer-base-releases><li class=footer-base-releases-item><a tabindex=-1 class=footer-base-releases-link onclick='return navigateToUrlOrRoot("https://istio.io/news/releases/1.1.x/announcing-1.1/helm-changes/"),!1'>当前版本</a></li><li class=footer-base-releases-item><a tabindex=-1 class=footer-base-releases-link onclick='return navigateToUrlOrRoot("https://preliminary.istio.io/news/releases/1.1.x/announcing-1.1/helm-changes/"),!1'>下个版本</a></li><li class=footer-base-releases-item><a tabindex=-1 class=footer-base-releases-link href=https://istio.io/archive>旧版本</a></li></ul></div></div></footer><div id=scroll-to-top-container aria-hidden=true><button id=scroll-to-top title=回到顶部 tabindex=-1><svg class="icon top"><use xlink:href="/v1.13/img/icons.svg#top"/></svg></button></div></body></html>